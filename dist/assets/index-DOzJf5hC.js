(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function ws(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rE(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var o=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:function(){return e[a]}})}),n}var Zf={exports:{}},Xo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function oE(){if(l0)return Xo;l0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:e,type:a,key:u,ref:o!==void 0?o:null,props:l}}return Xo.Fragment=t,Xo.jsx=n,Xo.jsxs=n,Xo}var u0;function sE(){return u0||(u0=1,Zf.exports=oE()),Zf.exports}var g=sE(),ed={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function lE(){if(c0)return Ne;c0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),y=Symbol.iterator;function T(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,k={};function I(C,j,U){this.props=C,this.context=j,this.refs=k,this.updater=U||S}I.prototype.isReactComponent={},I.prototype.setState=function(C,j){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,j,"setState")},I.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function N(){}N.prototype=I.prototype;function V(C,j,U){this.props=C,this.context=j,this.refs=k,this.updater=U||S}var P=V.prototype=new N;P.constructor=V,E(P,I.prototype),P.isPureReactComponent=!0;var $=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function ce(C,j,U,M,ae,z){return U=z.ref,{$$typeof:e,type:C,key:j,ref:U!==void 0?U:null,props:z}}function ue(C,j){return ce(C.type,j,void 0,void 0,void 0,C.props)}function pe(C){return typeof C=="object"&&C!==null&&C.$$typeof===e}function L(C){var j={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(U){return j[U]})}var G=/\/+/g;function ne(C,j){return typeof C=="object"&&C!==null&&C.key!=null?L(""+C.key):j.toString(36)}function te(){}function re(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(te,te):(C.status="pending",C.then(function(j){C.status==="pending"&&(C.status="fulfilled",C.value=j)},function(j){C.status==="pending"&&(C.status="rejected",C.reason=j)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function B(C,j,U,M,ae){var z=typeof C;(z==="undefined"||z==="boolean")&&(C=null);var oe=!1;if(C===null)oe=!0;else switch(z){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(C.$$typeof){case e:case t:oe=!0;break;case h:return oe=C._init,B(oe(C._payload),j,U,M,ae)}}if(oe)return ae=ae(C),oe=M===""?"."+ne(C,0):M,$(ae)?(U="",oe!=null&&(U=oe.replace(G,"$&/")+"/"),B(ae,j,U,"",function(Ee){return Ee})):ae!=null&&(pe(ae)&&(ae=ue(ae,U+(ae.key==null||C&&C.key===ae.key?"":(""+ae.key).replace(G,"$&/")+"/")+oe)),j.push(ae)),1;oe=0;var ye=M===""?".":M+":";if($(C))for(var de=0;de<C.length;de++)M=C[de],z=ye+ne(M,de),oe+=B(M,j,U,z,ae);else if(de=T(C),typeof de=="function")for(C=de.call(C),de=0;!(M=C.next()).done;)M=M.value,z=ye+ne(M,de++),oe+=B(M,j,U,z,ae);else if(z==="object"){if(typeof C.then=="function")return B(re(C),j,U,M,ae);throw j=String(C),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return oe}function F(C,j,U){if(C==null)return C;var M=[],ae=0;return B(C,M,"","",function(z){return j.call(U,z,ae++)}),M}function _(C){if(C._status===-1){var j=C._result;j=j(),j.then(function(U){(C._status===0||C._status===-1)&&(C._status=1,C._result=U)},function(U){(C._status===0||C._status===-1)&&(C._status=2,C._result=U)}),C._status===-1&&(C._status=0,C._result=j)}if(C._status===1)return C._result.default;throw C._result}var D=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function R(){}return Ne.Children={map:F,forEach:function(C,j,U){F(C,function(){j.apply(this,arguments)},U)},count:function(C){var j=0;return F(C,function(){j++}),j},toArray:function(C){return F(C,function(j){return j})||[]},only:function(C){if(!pe(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ne.Component=I,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=V,Ne.StrictMode=a,Ne.Suspense=m,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(C){return K.H.useMemoCache(C)}},Ne.cache=function(C){return function(){return C.apply(null,arguments)}},Ne.cloneElement=function(C,j,U){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var M=E({},C.props),ae=C.key,z=void 0;if(j!=null)for(oe in j.ref!==void 0&&(z=void 0),j.key!==void 0&&(ae=""+j.key),j)!q.call(j,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&j.ref===void 0||(M[oe]=j[oe]);var oe=arguments.length-2;if(oe===1)M.children=U;else if(1<oe){for(var ye=Array(oe),de=0;de<oe;de++)ye[de]=arguments[de+2];M.children=ye}return ce(C.type,ae,void 0,void 0,z,M)},Ne.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:l,_context:C},C},Ne.createElement=function(C,j,U){var M,ae={},z=null;if(j!=null)for(M in j.key!==void 0&&(z=""+j.key),j)q.call(j,M)&&M!=="key"&&M!=="__self"&&M!=="__source"&&(ae[M]=j[M]);var oe=arguments.length-2;if(oe===1)ae.children=U;else if(1<oe){for(var ye=Array(oe),de=0;de<oe;de++)ye[de]=arguments[de+2];ae.children=ye}if(C&&C.defaultProps)for(M in oe=C.defaultProps,oe)ae[M]===void 0&&(ae[M]=oe[M]);return ce(C,z,void 0,void 0,null,ae)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(C){return{$$typeof:f,render:C}},Ne.isValidElement=pe,Ne.lazy=function(C){return{$$typeof:h,_payload:{_status:-1,_result:C},_init:_}},Ne.memo=function(C,j){return{$$typeof:d,type:C,compare:j===void 0?null:j}},Ne.startTransition=function(C){var j=K.T,U={};K.T=U;try{var M=C(),ae=K.S;ae!==null&&ae(U,M),typeof M=="object"&&M!==null&&typeof M.then=="function"&&M.then(R,D)}catch(z){D(z)}finally{K.T=j}},Ne.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Ne.use=function(C){return K.H.use(C)},Ne.useActionState=function(C,j,U){return K.H.useActionState(C,j,U)},Ne.useCallback=function(C,j){return K.H.useCallback(C,j)},Ne.useContext=function(C){return K.H.useContext(C)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(C,j){return K.H.useDeferredValue(C,j)},Ne.useEffect=function(C,j,U){var M=K.H;if(typeof U=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return M.useEffect(C,j)},Ne.useId=function(){return K.H.useId()},Ne.useImperativeHandle=function(C,j,U){return K.H.useImperativeHandle(C,j,U)},Ne.useInsertionEffect=function(C,j){return K.H.useInsertionEffect(C,j)},Ne.useLayoutEffect=function(C,j){return K.H.useLayoutEffect(C,j)},Ne.useMemo=function(C,j){return K.H.useMemo(C,j)},Ne.useOptimistic=function(C,j){return K.H.useOptimistic(C,j)},Ne.useReducer=function(C,j,U){return K.H.useReducer(C,j,U)},Ne.useRef=function(C){return K.H.useRef(C)},Ne.useState=function(C){return K.H.useState(C)},Ne.useSyncExternalStore=function(C,j,U){return K.H.useSyncExternalStore(C,j,U)},Ne.useTransition=function(){return K.H.useTransition()},Ne.version="19.1.0",Ne}var f0;function km(){return f0||(f0=1,ed.exports=lE()),ed.exports}var fe=km();const Nm=ws(fe);var td={exports:{}},Wo={},nd={exports:{}},id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function uE(){return d0||(d0=1,function(e){function t(F,_){var D=F.length;F.push(_);e:for(;0<D;){var R=D-1>>>1,C=F[R];if(0<o(C,_))F[R]=_,F[D]=C,D=R;else break e}}function n(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var _=F[0],D=F.pop();if(D!==_){F[0]=D;e:for(var R=0,C=F.length,j=C>>>1;R<j;){var U=2*(R+1)-1,M=F[U],ae=U+1,z=F[ae];if(0>o(M,D))ae<C&&0>o(z,M)?(F[R]=z,F[ae]=D,R=ae):(F[R]=M,F[U]=D,R=U);else if(ae<C&&0>o(z,D))F[R]=z,F[ae]=D,R=ae;else break e}}return _}function o(F,_){var D=F.sortIndex-_.sortIndex;return D!==0?D:F.id-_.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var m=[],d=[],h=1,y=null,T=3,S=!1,E=!1,k=!1,I=!1,N=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function $(F){for(var _=n(d);_!==null;){if(_.callback===null)a(d);else if(_.startTime<=F)a(d),_.sortIndex=_.expirationTime,t(m,_);else break;_=n(d)}}function K(F){if(k=!1,$(F),!E)if(n(m)!==null)E=!0,q||(q=!0,ne());else{var _=n(d);_!==null&&B(K,_.startTime-F)}}var q=!1,ce=-1,ue=5,pe=-1;function L(){return I?!0:!(e.unstable_now()-pe<ue)}function G(){if(I=!1,q){var F=e.unstable_now();pe=F;var _=!0;try{e:{E=!1,k&&(k=!1,V(ce),ce=-1),S=!0;var D=T;try{t:{for($(F),y=n(m);y!==null&&!(y.expirationTime>F&&L());){var R=y.callback;if(typeof R=="function"){y.callback=null,T=y.priorityLevel;var C=R(y.expirationTime<=F);if(F=e.unstable_now(),typeof C=="function"){y.callback=C,$(F),_=!0;break t}y===n(m)&&a(m),$(F)}else a(m);y=n(m)}if(y!==null)_=!0;else{var j=n(d);j!==null&&B(K,j.startTime-F),_=!1}}break e}finally{y=null,T=D,S=!1}_=void 0}}finally{_?ne():q=!1}}}var ne;if(typeof P=="function")ne=function(){P(G)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,re=te.port2;te.port1.onmessage=G,ne=function(){re.postMessage(null)}}else ne=function(){N(G,0)};function B(F,_){ce=N(function(){F(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_next=function(F){switch(T){case 1:case 2:case 3:var _=3;break;default:_=T}var D=T;T=_;try{return F()}finally{T=D}},e.unstable_requestPaint=function(){I=!0},e.unstable_runWithPriority=function(F,_){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var D=T;T=F;try{return _()}finally{T=D}},e.unstable_scheduleCallback=function(F,_,D){var R=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?R+D:R):D=R,F){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=D+C,F={id:h++,callback:_,priorityLevel:F,startTime:D,expirationTime:C,sortIndex:-1},D>R?(F.sortIndex=D,t(d,F),n(m)===null&&F===n(d)&&(k?(V(ce),ce=-1):k=!0,B(K,D-R))):(F.sortIndex=C,t(m,F),E||S||(E=!0,q||(q=!0,ne()))),F},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(F){var _=T;return function(){var D=T;T=_;try{return F.apply(this,arguments)}finally{T=D}}}}(id)),id}var m0;function cE(){return m0||(m0=1,nd.exports=uE()),nd.exports}var ad={exports:{}},Ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function fE(){if(h0)return Ut;h0=1;var e=km();function t(m){var d="https://react.dev/errors/"+m;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+m+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,d,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:m,containerInfo:d,implementation:h}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,d){if(m==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ut.createPortal=function(m,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return l(m,d,null,h)},Ut.flushSync=function(m){var d=u.T,h=a.p;try{if(u.T=null,a.p=2,m)return m()}finally{u.T=d,a.p=h,a.d.f()}},Ut.preconnect=function(m,d){typeof m=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,a.d.C(m,d))},Ut.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Ut.preinit=function(m,d){if(typeof m=="string"&&d&&typeof d.as=="string"){var h=d.as,y=f(h,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?a.d.S(m,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:T,fetchPriority:S}):h==="script"&&a.d.X(m,{crossOrigin:y,integrity:T,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ut.preinitModule=function(m,d){if(typeof m=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=f(d.as,d.crossOrigin);a.d.M(m,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&a.d.M(m)},Ut.preload=function(m,d){if(typeof m=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,y=f(h,d.crossOrigin);a.d.L(m,h,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ut.preloadModule=function(m,d){if(typeof m=="string")if(d){var h=f(d.as,d.crossOrigin);a.d.m(m,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else a.d.m(m)},Ut.requestFormReset=function(m){a.d.r(m)},Ut.unstable_batchedUpdates=function(m,d){return m(d)},Ut.useFormState=function(m,d,h){return u.H.useFormState(m,d,h)},Ut.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ut.version="19.1.0",Ut}var p0;function dE(){if(p0)return ad.exports;p0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ad.exports=fE(),ad.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function mE(){if(g0)return Wo;g0=1;var e=cE(),t=km(),n=dE();function a(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,s=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(s=r.return),i=r.return;while(i)}return r.tag===3?s:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(a(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(a(188));return r!==i?null:i}for(var s=i,c=r;;){var p=s.return;if(p===null)break;var b=p.alternate;if(b===null){if(c=p.return,c!==null){s=c;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===s)return f(p),i;if(b===c)return f(p),r;b=b.sibling}throw Error(a(188))}if(s.return!==c.return)s=p,c=b;else{for(var A=!1,w=p.child;w;){if(w===s){A=!0,s=p,c=b;break}if(w===c){A=!0,c=p,s=b;break}w=w.sibling}if(!A){for(w=b.child;w;){if(w===s){A=!0,s=b,c=p;break}if(w===c){A=!0,c=b,s=p;break}w=w.sibling}if(!A)throw Error(a(189))}}if(s.alternate!==c)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?i:r}function d(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=d(i),r!==null)return r;i=i.sibling}return null}var h=Object.assign,y=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),P=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function ne(i){return i===null||typeof i!="object"?null:(i=G&&i[G]||i["@@iterator"],typeof i=="function"?i:null)}var te=Symbol.for("react.client.reference");function re(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===te?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case I:return"Profiler";case k:return"StrictMode";case K:return"Suspense";case q:return"SuspenseList";case pe:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case P:return(i.displayName||"Context")+".Provider";case V:return(i._context.displayName||"Context")+".Consumer";case $:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ce:return r=i.displayName||null,r!==null?r:re(i.type)||"Memo";case ue:r=i._payload,i=i._init;try{return re(i(r))}catch{}}return null}var B=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},R=[],C=-1;function j(i){return{current:i}}function U(i){0>C||(i.current=R[C],R[C]=null,C--)}function M(i,r){C++,R[C]=i.current,i.current=r}var ae=j(null),z=j(null),oe=j(null),ye=j(null);function de(i,r){switch(M(oe,r),M(z,i),M(ae,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Oy(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Oy(r),i=By(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}U(ae),M(ae,i)}function Ee(){U(ae),U(z),U(oe)}function Ie(i){i.memoizedState!==null&&M(ye,i);var r=ae.current,s=By(r,i.type);r!==s&&(M(z,i),M(ae,s))}function Ve(i){z.current===i&&(U(ae),U(z)),ye.current===i&&(U(ye),qo._currentValue=D)}var qe=Object.prototype.hasOwnProperty,nt=e.unstable_scheduleCallback,rt=e.unstable_cancelCallback,Dt=e.unstable_shouldYield,un=e.unstable_requestPaint,Bt=e.unstable_now,qa=e.unstable_getCurrentPriorityLevel,Et=e.unstable_ImmediatePriority,ai=e.unstable_UserBlockingPriority,ri=e.unstable_NormalPriority,Ga=e.unstable_LowPriority,Ya=e.unstable_IdlePriority,$a=e.log,ca=e.unstable_setDisableYieldValue,ee=null,me=null;function Te(i){if(typeof $a=="function"&&ca(i),me&&typeof me.setStrictMode=="function")try{me.setStrictMode(ee,i)}catch{}}var Ce=Math.clz32?Math.clz32:Fn,Ye=Math.log,Ft=Math.LN2;function Fn(i){return i>>>=0,i===0?32:31-(Ye(i)/Ft|0)|0}var Vt=256,Tn=4194304;function Kt(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function pt(i,r,s){var c=i.pendingLanes;if(c===0)return 0;var p=0,b=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var w=c&134217727;return w!==0?(c=w&~b,c!==0?p=Kt(c):(A&=w,A!==0?p=Kt(A):s||(s=w&~i,s!==0&&(p=Kt(s))))):(w=c&~b,w!==0?p=Kt(w):A!==0?p=Kt(A):s||(s=c&~i,s!==0&&(p=Kt(s)))),p===0?0:r!==0&&r!==p&&(r&b)===0&&(b=p&-p,s=r&-r,b>=s||b===32&&(s&4194048)!==0)?r:p}function Jt(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function cn(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fn(){var i=Vt;return Vt<<=1,(Vt&4194048)===0&&(Vt=256),i}function Qr(){var i=Tn;return Tn<<=1,(Tn&62914560)===0&&(Tn=4194304),i}function Ka(i){for(var r=[],s=0;31>s;s++)r.push(i);return r}function Z(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ge(i,r,s,c,p,b){var A=i.pendingLanes;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=s,i.entangledLanes&=s,i.errorRecoveryDisabledLanes&=s,i.shellSuspendCounter=0;var w=i.entanglements,O=i.expirationTimes,W=i.hiddenUpdates;for(s=A&~s;0<s;){var ie=31-Ce(s),le=1<<ie;w[ie]=0,O[ie]=-1;var Q=W[ie];if(Q!==null)for(W[ie]=null,ie=0;ie<Q.length;ie++){var J=Q[ie];J!==null&&(J.lane&=-536870913)}s&=~le}c!==0&&ve(i,c,0),b!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=b&~(A&~r))}function ve(i,r,s){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Ce(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|s&4194090}function je(i,r){var s=i.entangledLanes|=r;for(i=i.entanglements;s;){var c=31-Ce(s),p=1<<c;p&r|i[c]&r&&(i[c]|=r),s&=~p}}function jt(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ot(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Os(){var i=_.p;return i!==0?i:(i=window.event,i===void 0?32:n0(i.type))}function Gu(i,r){var s=_.p;try{return _.p=i,r()}finally{_.p=s}}var $n=Math.random().toString(36).slice(2),kt="__reactFiber$"+$n,zt="__reactProps$"+$n,Mi="__reactContainer$"+$n,Jr="__reactEvents$"+$n,Xa="__reactListeners$"+$n,Bs="__reactHandles$"+$n,Fs="__reactResources$"+$n,fa="__reactMarker$"+$n;function Zr(i){delete i[kt],delete i[zt],delete i[Jr],delete i[Xa],delete i[Bs]}function wi(i){var r=i[kt];if(r)return r;for(var s=i.parentNode;s;){if(r=s[Mi]||s[kt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(i=zy(i);i!==null;){if(s=i[kt])return s;i=zy(i)}return r}i=s,s=i.parentNode}return null}function oi(i){if(i=i[kt]||i[Mi]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function da(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(a(33))}function ma(i){var r=i[Fs];return r||(r=i[Fs]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function vt(i){i[fa]=!0}var Zt=new Set,si={};function Vn(i,r){Di(i,r),Di(i+"Capture",r)}function Di(i,r){for(si[i]=r,i=0;i<r.length;i++)Zt.add(r[i])}var eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ha={},to={};function JS(i){return qe.call(to,i)?!0:qe.call(ha,i)?!1:eo.test(i)?to[i]=!0:(ha[i]=!0,!1)}function Vs(i,r,s){if(JS(r))if(s===null)i.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+s)}}function js(i,r,s){if(s===null)i.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+s)}}function li(i,r,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttributeNS(r,s,""+c)}}var Yu,kh;function Wa(i){if(Yu===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);Yu=r&&r[1]||"",kh=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yu+i+kh}var $u=!1;function Ku(i,r){if(!i||$u)return"";$u=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(J){var Q=J}Reflect.construct(i,[],le)}else{try{le.call()}catch(J){Q=J}i.call(le.prototype)}}else{try{throw Error()}catch(J){Q=J}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=c.DetermineComponentFrameRoot(),A=b[0],w=b[1];if(A&&w){var O=A.split(`
`),W=w.split(`
`);for(p=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(c===O.length||p===W.length)for(c=O.length-1,p=W.length-1;1<=c&&0<=p&&O[c]!==W[p];)p--;for(;1<=c&&0<=p;c--,p--)if(O[c]!==W[p]){if(c!==1||p!==1)do if(c--,p--,0>p||O[c]!==W[p]){var ie=`
`+O[c].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=c&&0<=p);break}}}finally{$u=!1,Error.prepareStackTrace=s}return(s=i?i.displayName||i.name:"")?Wa(s):""}function ZS(i){switch(i.tag){case 26:case 27:case 5:return Wa(i.type);case 16:return Wa("Lazy");case 13:return Wa("Suspense");case 19:return Wa("SuspenseList");case 0:case 15:return Ku(i.type,!1);case 11:return Ku(i.type.render,!1);case 1:return Ku(i.type,!0);case 31:return Wa("Activity");default:return""}}function Nh(i){try{var r="";do r+=ZS(i),i=i.return;while(i);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Sn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Rh(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function eC(i){var r=Rh(i)?"checked":"value",s=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),c=""+i[r];if(!i.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,b=s.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return p.call(this)},set:function(A){c=""+A,b.call(this,A)}}),Object.defineProperty(i,r,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function zs(i){i._valueTracker||(i._valueTracker=eC(i))}function Ih(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var s=r.getValue(),c="";return i&&(c=Rh(i)?i.checked?"true":"false":i.value),i=c,i!==s?(r.setValue(i),!0):!1}function Hs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var tC=/[\n"\\]/g;function Cn(i){return i.replace(tC,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Xu(i,r,s,c,p,b,A,w){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),r!=null?A==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Sn(r)):i.value!==""+Sn(r)&&(i.value=""+Sn(r)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),r!=null?Wu(i,A,Sn(r)):s!=null?Wu(i,A,Sn(s)):c!=null&&i.removeAttribute("value"),p==null&&b!=null&&(i.defaultChecked=!!b),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+Sn(w):i.removeAttribute("name")}function _h(i,r,s,c,p,b,A,w){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),r!=null||s!=null){if(!(b!=="submit"&&b!=="reset"||r!=null))return;s=s!=null?""+Sn(s):"",r=r!=null?""+Sn(r):s,w||r===i.value||(i.value=r),i.defaultValue=r}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=w?i.checked:!!c,i.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A)}function Wu(i,r,s){r==="number"&&Hs(i.ownerDocument)===i||i.defaultValue===""+s||(i.defaultValue=""+s)}function Qa(i,r,s,c){if(i=i.options,r){r={};for(var p=0;p<s.length;p++)r["$"+s[p]]=!0;for(s=0;s<i.length;s++)p=r.hasOwnProperty("$"+i[s].value),i[s].selected!==p&&(i[s].selected=p),p&&c&&(i[s].defaultSelected=!0)}else{for(s=""+Sn(s),r=null,p=0;p<i.length;p++){if(i[p].value===s){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}r!==null||i[p].disabled||(r=i[p])}r!==null&&(r.selected=!0)}}function Lh(i,r,s){if(r!=null&&(r=""+Sn(r),r!==i.value&&(i.value=r),s==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=s!=null?""+Sn(s):""}function Ph(i,r,s,c){if(r==null){if(c!=null){if(s!=null)throw Error(a(92));if(B(c)){if(1<c.length)throw Error(a(93));c=c[0]}s=c}s==null&&(s=""),r=s}s=Sn(r),i.defaultValue=s,c=i.textContent,c===s&&c!==""&&c!==null&&(i.value=c)}function Ja(i,r){if(r){var s=i.firstChild;if(s&&s===i.lastChild&&s.nodeType===3){s.nodeValue=r;return}}i.textContent=r}var nC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oh(i,r,s){var c=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,s):typeof s!="number"||s===0||nC.has(r)?r==="float"?i.cssFloat=s:i[r]=(""+s).trim():i[r]=s+"px"}function Bh(i,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(i=i.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in r)c=r[p],r.hasOwnProperty(p)&&s[p]!==c&&Oh(i,p,c)}else for(var b in r)r.hasOwnProperty(b)&&Oh(i,b,r[b])}function Qu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Us(i){return aC.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ju=null;function Zu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Za=null,er=null;function Fh(i){var r=oi(i);if(r&&(i=r.stateNode)){var s=i[zt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Xu(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=i;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Cn(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var c=s[r];if(c!==i&&c.form===i.form){var p=c[zt]||null;if(!p)throw Error(a(90));Xu(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<s.length;r++)c=s[r],c.form===i.form&&Ih(c)}break e;case"textarea":Lh(i,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Qa(i,!!s.multiple,r,!1)}}}var ec=!1;function Vh(i,r,s){if(ec)return i(r,s);ec=!0;try{var c=i(r);return c}finally{if(ec=!1,(Za!==null||er!==null)&&(Dl(),Za&&(r=Za,i=er,er=Za=null,Fh(r),i)))for(r=0;r<i.length;r++)Fh(i[r])}}function no(i,r){var s=i.stateNode;if(s===null)return null;var c=s[zt]||null;if(c===null)return null;s=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tc=!1;if(ui)try{var io={};Object.defineProperty(io,"passive",{get:function(){tc=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{tc=!1}var ki=null,nc=null,qs=null;function jh(){if(qs)return qs;var i,r=nc,s=r.length,c,p="value"in ki?ki.value:ki.textContent,b=p.length;for(i=0;i<s&&r[i]===p[i];i++);var A=s-i;for(c=1;c<=A&&r[s-c]===p[b-c];c++);return qs=p.slice(i,1<c?1-c:void 0)}function Gs(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ys(){return!0}function zh(){return!1}function en(i){function r(s,c,p,b,A){this._reactName=s,this._targetInst=p,this.type=c,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(s=i[w],this[w]=s?s(b):b[w]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ys:zh,this.isPropagationStopped=zh,this}return h(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),r}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=en(pa),ao=h({},pa,{view:0,detail:0}),rC=en(ao),ic,ac,ro,Ks=h({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ro&&(ro&&i.type==="mousemove"?(ic=i.screenX-ro.screenX,ac=i.screenY-ro.screenY):ac=ic=0,ro=i),ic)},movementY:function(i){return"movementY"in i?i.movementY:ac}}),Hh=en(Ks),oC=h({},Ks,{dataTransfer:0}),sC=en(oC),lC=h({},ao,{relatedTarget:0}),rc=en(lC),uC=h({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),cC=en(uC),fC=h({},pa,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),dC=en(fC),mC=h({},pa,{data:0}),Uh=en(mC),hC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yC(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=gC[i])?!!r[i]:!1}function oc(){return yC}var xC=h({},ao,{key:function(i){if(i.key){var r=hC[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Gs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?pC[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oc,charCode:function(i){return i.type==="keypress"?Gs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Gs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),vC=en(xC),bC=h({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qh=en(bC),TC=h({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oc}),SC=en(TC),CC=h({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),AC=en(CC),EC=h({},Ks,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),MC=en(EC),wC=h({},pa,{newState:0,oldState:0}),DC=en(wC),kC=[9,13,27,32],sc=ui&&"CompositionEvent"in window,oo=null;ui&&"documentMode"in document&&(oo=document.documentMode);var NC=ui&&"TextEvent"in window&&!oo,Gh=ui&&(!sc||oo&&8<oo&&11>=oo),Yh=" ",$h=!1;function Kh(i,r){switch(i){case"keyup":return kC.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xh(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var tr=!1;function RC(i,r){switch(i){case"compositionend":return Xh(r);case"keypress":return r.which!==32?null:($h=!0,Yh);case"textInput":return i=r.data,i===Yh&&$h?null:i;default:return null}}function IC(i,r){if(tr)return i==="compositionend"||!sc&&Kh(i,r)?(i=jh(),qs=nc=ki=null,tr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Gh&&r.locale!=="ko"?null:r.data;default:return null}}var _C={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wh(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!_C[i.type]:r==="textarea"}function Qh(i,r,s,c){Za?er?er.push(c):er=[c]:Za=c,r=Ll(r,"onChange"),0<r.length&&(s=new $s("onChange","change",null,s,c),i.push({event:s,listeners:r}))}var so=null,lo=null;function LC(i){Ry(i,0)}function Xs(i){var r=da(i);if(Ih(r))return i}function Jh(i,r){if(i==="change")return r}var Zh=!1;if(ui){var lc;if(ui){var uc="oninput"in document;if(!uc){var ep=document.createElement("div");ep.setAttribute("oninput","return;"),uc=typeof ep.oninput=="function"}lc=uc}else lc=!1;Zh=lc&&(!document.documentMode||9<document.documentMode)}function tp(){so&&(so.detachEvent("onpropertychange",np),lo=so=null)}function np(i){if(i.propertyName==="value"&&Xs(lo)){var r=[];Qh(r,lo,i,Zu(i)),Vh(LC,r)}}function PC(i,r,s){i==="focusin"?(tp(),so=r,lo=s,so.attachEvent("onpropertychange",np)):i==="focusout"&&tp()}function OC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Xs(lo)}function BC(i,r){if(i==="click")return Xs(r)}function FC(i,r){if(i==="input"||i==="change")return Xs(r)}function VC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var dn=typeof Object.is=="function"?Object.is:VC;function uo(i,r){if(dn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var s=Object.keys(i),c=Object.keys(r);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var p=s[c];if(!qe.call(r,p)||!dn(i[p],r[p]))return!1}return!0}function ip(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ap(i,r){var s=ip(i);i=0;for(var c;s;){if(s.nodeType===3){if(c=i+s.textContent.length,i<=r&&c>=r)return{node:s,offset:r-i};i=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ip(s)}}function rp(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?rp(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function op(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Hs(i.document);r instanceof i.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)i=r.contentWindow;else break;r=Hs(i.document)}return r}function cc(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var jC=ui&&"documentMode"in document&&11>=document.documentMode,nr=null,fc=null,co=null,dc=!1;function sp(i,r,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;dc||nr==null||nr!==Hs(c)||(c=nr,"selectionStart"in c&&cc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),co&&uo(co,c)||(co=c,c=Ll(fc,"onSelect"),0<c.length&&(r=new $s("onSelect","select",null,r,s),i.push({event:r,listeners:c}),r.target=nr)))}function ga(i,r){var s={};return s[i.toLowerCase()]=r.toLowerCase(),s["Webkit"+i]="webkit"+r,s["Moz"+i]="moz"+r,s}var ir={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},mc={},lp={};ui&&(lp=document.createElement("div").style,"AnimationEvent"in window||(delete ir.animationend.animation,delete ir.animationiteration.animation,delete ir.animationstart.animation),"TransitionEvent"in window||delete ir.transitionend.transition);function ya(i){if(mc[i])return mc[i];if(!ir[i])return i;var r=ir[i],s;for(s in r)if(r.hasOwnProperty(s)&&s in lp)return mc[i]=r[s];return i}var up=ya("animationend"),cp=ya("animationiteration"),fp=ya("animationstart"),zC=ya("transitionrun"),HC=ya("transitionstart"),UC=ya("transitioncancel"),dp=ya("transitionend"),mp=new Map,hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hc.push("scrollEnd");function jn(i,r){mp.set(i,r),Vn(r,[i])}var hp=new WeakMap;function An(i,r){if(typeof i=="object"&&i!==null){var s=hp.get(i);return s!==void 0?s:(r={value:i,source:r,stack:Nh(r)},hp.set(i,r),r)}return{value:i,source:r,stack:Nh(r)}}var En=[],ar=0,pc=0;function Ws(){for(var i=ar,r=pc=ar=0;r<i;){var s=En[r];En[r++]=null;var c=En[r];En[r++]=null;var p=En[r];En[r++]=null;var b=En[r];if(En[r++]=null,c!==null&&p!==null){var A=c.pending;A===null?p.next=p:(p.next=A.next,A.next=p),c.pending=p}b!==0&&pp(s,p,b)}}function Qs(i,r,s,c){En[ar++]=i,En[ar++]=r,En[ar++]=s,En[ar++]=c,pc|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function gc(i,r,s,c){return Qs(i,r,s,c),Js(i)}function rr(i,r){return Qs(i,null,null,r),Js(i)}function pp(i,r,s){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s);for(var p=!1,b=i.return;b!==null;)b.childLanes|=s,c=b.alternate,c!==null&&(c.childLanes|=s),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(p=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,p&&r!==null&&(p=31-Ce(s),i=b.hiddenUpdates,c=i[p],c===null?i[p]=[r]:c.push(r),r.lane=s|536870912),b):null}function Js(i){if(50<Oo)throw Oo=0,Cf=null,Error(a(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var or={};function qC(i,r,s,c){this.tag=i,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(i,r,s,c){return new qC(i,r,s,c)}function yc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ci(i,r){var s=i.alternate;return s===null?(s=mn(i.tag,r,i.key,i.mode),s.elementType=i.elementType,s.type=i.type,s.stateNode=i.stateNode,s.alternate=i,i.alternate=s):(s.pendingProps=r,s.type=i.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=i.flags&65011712,s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,r=i.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=i.sibling,s.index=i.index,s.ref=i.ref,s.refCleanup=i.refCleanup,s}function gp(i,r){i.flags&=65011714;var s=i.alternate;return s===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,r=s.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Zs(i,r,s,c,p,b){var A=0;if(c=i,typeof i=="function")yc(i)&&(A=1);else if(typeof i=="string")A=YA(i,s,ae.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case pe:return i=mn(31,s,r,p),i.elementType=pe,i.lanes=b,i;case E:return xa(s.children,p,b,r);case k:A=8,p|=24;break;case I:return i=mn(12,s,r,p|2),i.elementType=I,i.lanes=b,i;case K:return i=mn(13,s,r,p),i.elementType=K,i.lanes=b,i;case q:return i=mn(19,s,r,p),i.elementType=q,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:case P:A=10;break e;case V:A=9;break e;case $:A=11;break e;case ce:A=14;break e;case ue:A=16,c=null;break e}A=29,s=Error(a(130,i===null?"null":typeof i,"")),c=null}return r=mn(A,s,r,p),r.elementType=i,r.type=c,r.lanes=b,r}function xa(i,r,s,c){return i=mn(7,i,c,r),i.lanes=s,i}function xc(i,r,s){return i=mn(6,i,null,r),i.lanes=s,i}function vc(i,r,s){return r=mn(4,i.children!==null?i.children:[],i.key,r),r.lanes=s,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var sr=[],lr=0,el=null,tl=0,Mn=[],wn=0,va=null,fi=1,di="";function ba(i,r){sr[lr++]=tl,sr[lr++]=el,el=i,tl=r}function yp(i,r,s){Mn[wn++]=fi,Mn[wn++]=di,Mn[wn++]=va,va=i;var c=fi;i=di;var p=32-Ce(c)-1;c&=~(1<<p),s+=1;var b=32-Ce(r)+p;if(30<b){var A=p-p%5;b=(c&(1<<A)-1).toString(32),c>>=A,p-=A,fi=1<<32-Ce(r)+p|s<<p|c,di=b+i}else fi=1<<b|s<<p|c,di=i}function bc(i){i.return!==null&&(ba(i,1),yp(i,1,0))}function Tc(i){for(;i===el;)el=sr[--lr],sr[lr]=null,tl=sr[--lr],sr[lr]=null;for(;i===va;)va=Mn[--wn],Mn[wn]=null,di=Mn[--wn],Mn[wn]=null,fi=Mn[--wn],Mn[wn]=null}var Xt=null,ft=null,$e=!1,Ta=null,Kn=!1,Sc=Error(a(519));function Sa(i){var r=Error(a(418,""));throw ho(An(r,i)),Sc}function xp(i){var r=i.stateNode,s=i.type,c=i.memoizedProps;switch(r[kt]=i,r[zt]=c,s){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(s=0;s<Fo.length;s++)Oe(Fo[s],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),_h(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),zs(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),Ph(r,c.value,c.defaultValue,c.children),zs(r)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||c.suppressHydrationWarning===!0||Py(r.textContent,s)?(c.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),c.onScroll!=null&&Oe("scroll",r),c.onScrollEnd!=null&&Oe("scrollend",r),c.onClick!=null&&(r.onclick=Pl),r=!0):r=!1,r||Sa(i)}function vp(i){for(Xt=i.return;Xt;)switch(Xt.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Xt=Xt.return}}function fo(i){if(i!==Xt)return!1;if(!$e)return vp(i),$e=!0,!1;var r=i.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=i.type,s=!(s!=="form"&&s!=="button")||Vf(i.type,i.memoizedProps)),s=!s),s&&ft&&Sa(i),vp(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(s=i.data,s==="/$"){if(r===0){ft=Hn(i.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;i=i.nextSibling}ft=null}}else r===27?(r=ft,Gi(i.type)?(i=Uf,Uf=null,ft=i):ft=r):ft=Xt?Hn(i.stateNode.nextSibling):null;return!0}function mo(){ft=Xt=null,$e=!1}function bp(){var i=Ta;return i!==null&&(an===null?an=i:an.push.apply(an,i),Ta=null),i}function ho(i){Ta===null?Ta=[i]:Ta.push(i)}var Cc=j(null),Ca=null,mi=null;function Ni(i,r,s){M(Cc,r._currentValue),r._currentValue=s}function hi(i){i._currentValue=Cc.current,U(Cc)}function Ac(i,r,s){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===s)break;i=i.return}}function Ec(i,r,s,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var b=p.dependencies;if(b!==null){var A=p.child;b=b.firstContext;e:for(;b!==null;){var w=b;b=p;for(var O=0;O<r.length;O++)if(w.context===r[O]){b.lanes|=s,w=b.alternate,w!==null&&(w.lanes|=s),Ac(b.return,s,i),c||(A=null);break e}b=w.next}}else if(p.tag===18){if(A=p.return,A===null)throw Error(a(341));A.lanes|=s,b=A.alternate,b!==null&&(b.lanes|=s),Ac(A,s,i),A=null}else A=p.child;if(A!==null)A.return=p;else for(A=p;A!==null;){if(A===i){A=null;break}if(p=A.sibling,p!==null){p.return=A.return,A=p;break}A=A.return}p=A}}function po(i,r,s,c){i=null;for(var p=r,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var A=p.alternate;if(A===null)throw Error(a(387));if(A=A.memoizedProps,A!==null){var w=p.type;dn(p.pendingProps.value,A.value)||(i!==null?i.push(w):i=[w])}}else if(p===ye.current){if(A=p.alternate,A===null)throw Error(a(387));A.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(qo):i=[qo])}p=p.return}i!==null&&Ec(r,i,s,c),r.flags|=262144}function nl(i){for(i=i.firstContext;i!==null;){if(!dn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Aa(i){Ca=i,mi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ht(i){return Tp(Ca,i)}function il(i,r){return Ca===null&&Aa(i),Tp(i,r)}function Tp(i,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},mi===null){if(i===null)throw Error(a(308));mi=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else mi=mi.next=r;return s}var GC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(s,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(s){return s()})}},YC=e.unstable_scheduleCallback,$C=e.unstable_NormalPriority,Mt={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mc(){return{controller:new GC,data:new Map,refCount:0}}function go(i){i.refCount--,i.refCount===0&&YC($C,function(){i.controller.abort()})}var yo=null,wc=0,ur=0,cr=null;function KC(i,r){if(yo===null){var s=yo=[];wc=0,ur=Nf(),cr={status:"pending",value:void 0,then:function(c){s.push(c)}}}return wc++,r.then(Sp,Sp),r}function Sp(){if(--wc===0&&yo!==null){cr!==null&&(cr.status="fulfilled");var i=yo;yo=null,ur=0,cr=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function XC(i,r){var s=[],c={status:"pending",value:null,reason:null,then:function(p){s.push(p)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var p=0;p<s.length;p++)(0,s[p])(r)},function(p){for(c.status="rejected",c.reason=p,p=0;p<s.length;p++)(0,s[p])(void 0)}),c}var Cp=F.S;F.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&KC(i,r),Cp!==null&&Cp(i,r)};var Ea=j(null);function Dc(){var i=Ea.current;return i!==null?i:it.pooledCache}function al(i,r){r===null?M(Ea,Ea.current):M(Ea,r.pool)}function Ap(){var i=Dc();return i===null?null:{parent:Mt._currentValue,pool:i}}var xo=Error(a(460)),Ep=Error(a(474)),rl=Error(a(542)),kc={then:function(){}};function Mp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ol(){}function wp(i,r,s){switch(s=i[s],s===void 0?i.push(r):s!==r&&(r.then(ol,ol),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,kp(i),i;default:if(typeof r.status=="string")r.then(ol,ol);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=c}},function(c){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,kp(i),i}throw vo=r,xo}}var vo=null;function Dp(){if(vo===null)throw Error(a(459));var i=vo;return vo=null,i}function kp(i){if(i===xo||i===rl)throw Error(a(483))}var Ri=!1;function Nc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rc(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ii(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function _i(i,r,s){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Xe&2)!==0){var p=c.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),c.pending=r,r=Js(i),pp(i,null,s),r}return Qs(i,c,r,s),Js(i)}function bo(i,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,s|=c,r.lanes=s,je(i,s)}}function Ic(i,r){var s=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var p=null,b=null;if(s=s.firstBaseUpdate,s!==null){do{var A={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};b===null?p=b=A:b=b.next=A,s=s.next}while(s!==null);b===null?p=b=r:b=b.next=r}else p=b=r;s={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:c.shared,callbacks:c.callbacks},i.updateQueue=s;return}i=s.lastBaseUpdate,i===null?s.firstBaseUpdate=r:i.next=r,s.lastBaseUpdate=r}var _c=!1;function To(){if(_c){var i=cr;if(i!==null)throw i}}function So(i,r,s,c){_c=!1;var p=i.updateQueue;Ri=!1;var b=p.firstBaseUpdate,A=p.lastBaseUpdate,w=p.shared.pending;if(w!==null){p.shared.pending=null;var O=w,W=O.next;O.next=null,A===null?b=W:A.next=W,A=O;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,w=ie.lastBaseUpdate,w!==A&&(w===null?ie.firstBaseUpdate=W:w.next=W,ie.lastBaseUpdate=O))}if(b!==null){var le=p.baseState;A=0,ie=W=O=null,w=b;do{var Q=w.lane&-536870913,J=Q!==w.lane;if(J?(ze&Q)===Q:(c&Q)===Q){Q!==0&&Q===ur&&(_c=!0),ie!==null&&(ie=ie.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var we=i,Ae=w;Q=r;var Ze=s;switch(Ae.tag){case 1:if(we=Ae.payload,typeof we=="function"){le=we.call(Ze,le,Q);break e}le=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ae.payload,Q=typeof we=="function"?we.call(Ze,le,Q):we,Q==null)break e;le=h({},le,Q);break e;case 2:Ri=!0}}Q=w.callback,Q!==null&&(i.flags|=64,J&&(i.flags|=8192),J=p.callbacks,J===null?p.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ie===null?(W=ie=J,O=le):ie=ie.next=J,A|=Q;if(w=w.next,w===null){if(w=p.shared.pending,w===null)break;J=w,w=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);ie===null&&(O=le),p.baseState=O,p.firstBaseUpdate=W,p.lastBaseUpdate=ie,b===null&&(p.shared.lanes=0),zi|=A,i.lanes=A,i.memoizedState=le}}function Np(i,r){if(typeof i!="function")throw Error(a(191,i));i.call(r)}function Rp(i,r){var s=i.callbacks;if(s!==null)for(i.callbacks=null,i=0;i<s.length;i++)Np(s[i],r)}var fr=j(null),sl=j(0);function Ip(i,r){i=Ti,M(sl,i),M(fr,r),Ti=i|r.baseLanes}function Lc(){M(sl,Ti),M(fr,fr.current)}function Pc(){Ti=sl.current,U(fr),U(sl)}var Li=0,_e=null,Qe=null,bt=null,ll=!1,dr=!1,Ma=!1,ul=0,Co=0,mr=null,WC=0;function gt(){throw Error(a(321))}function Oc(i,r){if(r===null)return!1;for(var s=0;s<r.length&&s<i.length;s++)if(!dn(i[s],r[s]))return!1;return!0}function Bc(i,r,s,c,p,b){return Li=b,_e=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,F.H=i===null||i.memoizedState===null?pg:gg,Ma=!1,b=s(c,p),Ma=!1,dr&&(b=Lp(r,s,c,p)),_p(i),b}function _p(i){F.H=pl;var r=Qe!==null&&Qe.next!==null;if(Li=0,bt=Qe=_e=null,ll=!1,Co=0,mr=null,r)throw Error(a(300));i===null||Nt||(i=i.dependencies,i!==null&&nl(i)&&(Nt=!0))}function Lp(i,r,s,c){_e=i;var p=0;do{if(dr&&(mr=null),Co=0,dr=!1,25<=p)throw Error(a(301));if(p+=1,bt=Qe=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}F.H=iA,b=r(s,c)}while(dr);return b}function QC(){var i=F.H,r=i.useState()[0];return r=typeof r.then=="function"?Ao(r):r,i=i.useState()[0],(Qe!==null?Qe.memoizedState:null)!==i&&(_e.flags|=1024),r}function Fc(){var i=ul!==0;return ul=0,i}function Vc(i,r,s){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~s}function jc(i){if(ll){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}ll=!1}Li=0,bt=Qe=_e=null,dr=!1,Co=ul=0,mr=null}function tn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?_e.memoizedState=bt=i:bt=bt.next=i,bt}function Tt(){if(Qe===null){var i=_e.alternate;i=i!==null?i.memoizedState:null}else i=Qe.next;var r=bt===null?_e.memoizedState:bt.next;if(r!==null)bt=r,Qe=i;else{if(i===null)throw _e.alternate===null?Error(a(467)):Error(a(310));Qe=i,i={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},bt===null?_e.memoizedState=bt=i:bt=bt.next=i}return bt}function zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ao(i){var r=Co;return Co+=1,mr===null&&(mr=[]),i=wp(mr,i,r),r=_e,(bt===null?r.memoizedState:bt.next)===null&&(r=r.alternate,F.H=r===null||r.memoizedState===null?pg:gg),i}function cl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ao(i);if(i.$$typeof===P)return Ht(i)}throw Error(a(438,String(i)))}function Hc(i){var r=null,s=_e.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var c=_e.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=zc(),_e.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(i),c=0;c<i;c++)s[c]=L;return r.index++,s}function pi(i,r){return typeof r=="function"?r(i):r}function fl(i){var r=Tt();return Uc(r,Qe,i)}function Uc(i,r,s){var c=i.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=s;var p=i.baseQueue,b=c.pending;if(b!==null){if(p!==null){var A=p.next;p.next=b.next,b.next=A}r.baseQueue=p=b,c.pending=null}if(b=i.baseState,p===null)i.memoizedState=b;else{r=p.next;var w=A=null,O=null,W=r,ie=!1;do{var le=W.lane&-536870913;if(le!==W.lane?(ze&le)===le:(Li&le)===le){var Q=W.revertLane;if(Q===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),le===ur&&(ie=!0);else if((Li&Q)===Q){W=W.next,Q===ur&&(ie=!0);continue}else le={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},O===null?(w=O=le,A=b):O=O.next=le,_e.lanes|=Q,zi|=Q;le=W.action,Ma&&s(b,le),b=W.hasEagerState?W.eagerState:s(b,le)}else Q={lane:le,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},O===null?(w=O=Q,A=b):O=O.next=Q,_e.lanes|=le,zi|=le;W=W.next}while(W!==null&&W!==r);if(O===null?A=b:O.next=w,!dn(b,i.memoizedState)&&(Nt=!0,ie&&(s=cr,s!==null)))throw s;i.memoizedState=b,i.baseState=A,i.baseQueue=O,c.lastRenderedState=b}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function qc(i){var r=Tt(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=i;var c=s.dispatch,p=s.pending,b=r.memoizedState;if(p!==null){s.pending=null;var A=p=p.next;do b=i(b,A.action),A=A.next;while(A!==p);dn(b,r.memoizedState)||(Nt=!0),r.memoizedState=b,r.baseQueue===null&&(r.baseState=b),s.lastRenderedState=b}return[b,c]}function Pp(i,r,s){var c=_e,p=Tt(),b=$e;if(b){if(s===void 0)throw Error(a(407));s=s()}else s=r();var A=!dn((Qe||p).memoizedState,s);A&&(p.memoizedState=s,Nt=!0),p=p.queue;var w=Fp.bind(null,c,p,i);if(Eo(2048,8,w,[i]),p.getSnapshot!==r||A||bt!==null&&bt.memoizedState.tag&1){if(c.flags|=2048,hr(9,dl(),Bp.bind(null,c,p,s,r),null),it===null)throw Error(a(349));b||(Li&124)!==0||Op(c,r,s)}return s}function Op(i,r,s){i.flags|=16384,i={getSnapshot:r,value:s},r=_e.updateQueue,r===null?(r=zc(),_e.updateQueue=r,r.stores=[i]):(s=r.stores,s===null?r.stores=[i]:s.push(i))}function Bp(i,r,s,c){r.value=s,r.getSnapshot=c,Vp(r)&&jp(i)}function Fp(i,r,s){return s(function(){Vp(r)&&jp(i)})}function Vp(i){var r=i.getSnapshot;i=i.value;try{var s=r();return!dn(i,s)}catch{return!0}}function jp(i){var r=rr(i,2);r!==null&&xn(r,i,2)}function Gc(i){var r=tn();if(typeof i=="function"){var s=i;if(i=s(),Ma){Te(!0);try{s()}finally{Te(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:i},r}function zp(i,r,s,c){return i.baseState=s,Uc(i,Qe,typeof c=="function"?c:pi)}function JC(i,r,s,c,p){if(hl(i))throw Error(a(485));if(i=r.action,i!==null){var b={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};F.T!==null?s(!0):b.isTransition=!1,c(b),s=r.pending,s===null?(b.next=r.pending=b,Hp(r,b)):(b.next=s.next,r.pending=s.next=b)}}function Hp(i,r){var s=r.action,c=r.payload,p=i.state;if(r.isTransition){var b=F.T,A={};F.T=A;try{var w=s(p,c),O=F.S;O!==null&&O(A,w),Up(i,r,w)}catch(W){Yc(i,r,W)}finally{F.T=b}}else try{b=s(p,c),Up(i,r,b)}catch(W){Yc(i,r,W)}}function Up(i,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){qp(i,r,c)},function(c){return Yc(i,r,c)}):qp(i,r,s)}function qp(i,r,s){r.status="fulfilled",r.value=s,Gp(r),i.state=s,r=i.pending,r!==null&&(s=r.next,s===r?i.pending=null:(s=s.next,r.next=s,Hp(i,s)))}function Yc(i,r,s){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=s,Gp(r),r=r.next;while(r!==c)}i.action=null}function Gp(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Yp(i,r){return r}function $p(i,r){if($e){var s=it.formState;if(s!==null){e:{var c=_e;if($e){if(ft){t:{for(var p=ft,b=Kn;p.nodeType!==8;){if(!b){p=null;break t}if(p=Hn(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){ft=Hn(p.nextSibling),c=p.data==="F!";break e}}Sa(c)}c=!1}c&&(r=s[0])}}return s=tn(),s.memoizedState=s.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yp,lastRenderedState:r},s.queue=c,s=dg.bind(null,_e,c),c.dispatch=s,c=Gc(!1),b=Qc.bind(null,_e,!1,c.queue),c=tn(),p={state:r,dispatch:null,action:i,pending:null},c.queue=p,s=JC.bind(null,_e,p,b,s),p.dispatch=s,c.memoizedState=i,[r,s,!1]}function Kp(i){var r=Tt();return Xp(r,Qe,i)}function Xp(i,r,s){if(r=Uc(i,r,Yp)[0],i=fl(pi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Ao(r)}catch(A){throw A===xo?rl:A}else c=r;r=Tt();var p=r.queue,b=p.dispatch;return s!==r.memoizedState&&(_e.flags|=2048,hr(9,dl(),ZC.bind(null,p,s),null)),[c,b,i]}function ZC(i,r){i.action=r}function Wp(i){var r=Tt(),s=Qe;if(s!==null)return Xp(r,s,i);Tt(),r=r.memoizedState,s=Tt();var c=s.queue.dispatch;return s.memoizedState=i,[r,c,!1]}function hr(i,r,s,c){return i={tag:i,create:s,deps:c,inst:r,next:null},r=_e.updateQueue,r===null&&(r=zc(),_e.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=i.next=i:(c=s.next,s.next=i,i.next=c,r.lastEffect=i),i}function dl(){return{destroy:void 0,resource:void 0}}function Qp(){return Tt().memoizedState}function ml(i,r,s,c){var p=tn();c=c===void 0?null:c,_e.flags|=i,p.memoizedState=hr(1|r,dl(),s,c)}function Eo(i,r,s,c){var p=Tt();c=c===void 0?null:c;var b=p.memoizedState.inst;Qe!==null&&c!==null&&Oc(c,Qe.memoizedState.deps)?p.memoizedState=hr(r,b,s,c):(_e.flags|=i,p.memoizedState=hr(1|r,b,s,c))}function Jp(i,r){ml(8390656,8,i,r)}function Zp(i,r){Eo(2048,8,i,r)}function eg(i,r){return Eo(4,2,i,r)}function tg(i,r){return Eo(4,4,i,r)}function ng(i,r){if(typeof r=="function"){i=i();var s=r(i);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function ig(i,r,s){s=s!=null?s.concat([i]):null,Eo(4,4,ng.bind(null,r,i),s)}function $c(){}function ag(i,r){var s=Tt();r=r===void 0?null:r;var c=s.memoizedState;return r!==null&&Oc(r,c[1])?c[0]:(s.memoizedState=[i,r],i)}function rg(i,r){var s=Tt();r=r===void 0?null:r;var c=s.memoizedState;if(r!==null&&Oc(r,c[1]))return c[0];if(c=i(),Ma){Te(!0);try{i()}finally{Te(!1)}}return s.memoizedState=[c,r],c}function Kc(i,r,s){return s===void 0||(Li&1073741824)!==0?i.memoizedState=r:(i.memoizedState=s,i=ly(),_e.lanes|=i,zi|=i,s)}function og(i,r,s,c){return dn(s,r)?s:fr.current!==null?(i=Kc(i,s,c),dn(i,r)||(Nt=!0),i):(Li&42)===0?(Nt=!0,i.memoizedState=s):(i=ly(),_e.lanes|=i,zi|=i,r)}function sg(i,r,s,c,p){var b=_.p;_.p=b!==0&&8>b?b:8;var A=F.T,w={};F.T=w,Qc(i,!1,r,s);try{var O=p(),W=F.S;if(W!==null&&W(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ie=XC(O,c);Mo(i,r,ie,yn(i))}else Mo(i,r,c,yn(i))}catch(le){Mo(i,r,{then:function(){},status:"rejected",reason:le},yn())}finally{_.p=b,F.T=A}}function eA(){}function Xc(i,r,s,c){if(i.tag!==5)throw Error(a(476));var p=lg(i).queue;sg(i,p,r,D,s===null?eA:function(){return ug(i),s(c)})}function lg(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:D},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:s},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function ug(i){var r=lg(i).next.queue;Mo(i,r,{},yn())}function Wc(){return Ht(qo)}function cg(){return Tt().memoizedState}function fg(){return Tt().memoizedState}function tA(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var s=yn();i=Ii(s);var c=_i(r,i,s);c!==null&&(xn(c,r,s),bo(c,r,s)),r={cache:Mc()},i.payload=r;return}r=r.return}}function nA(i,r,s){var c=yn();s={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},hl(i)?mg(r,s):(s=gc(i,r,s,c),s!==null&&(xn(s,i,c),hg(s,r,c)))}function dg(i,r,s){var c=yn();Mo(i,r,s,c)}function Mo(i,r,s,c){var p={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(hl(i))mg(r,p);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=r.lastRenderedReducer,b!==null))try{var A=r.lastRenderedState,w=b(A,s);if(p.hasEagerState=!0,p.eagerState=w,dn(w,A))return Qs(i,r,p,0),it===null&&Ws(),!1}catch{}finally{}if(s=gc(i,r,p,c),s!==null)return xn(s,i,c),hg(s,r,c),!0}return!1}function Qc(i,r,s,c){if(c={lane:2,revertLane:Nf(),action:c,hasEagerState:!1,eagerState:null,next:null},hl(i)){if(r)throw Error(a(479))}else r=gc(i,s,c,2),r!==null&&xn(r,i,2)}function hl(i){var r=i.alternate;return i===_e||r!==null&&r===_e}function mg(i,r){dr=ll=!0;var s=i.pending;s===null?r.next=r:(r.next=s.next,s.next=r),i.pending=r}function hg(i,r,s){if((s&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,s|=c,r.lanes=s,je(i,s)}}var pl={readContext:Ht,use:cl,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},pg={readContext:Ht,use:cl,useCallback:function(i,r){return tn().memoizedState=[i,r===void 0?null:r],i},useContext:Ht,useEffect:Jp,useImperativeHandle:function(i,r,s){s=s!=null?s.concat([i]):null,ml(4194308,4,ng.bind(null,r,i),s)},useLayoutEffect:function(i,r){return ml(4194308,4,i,r)},useInsertionEffect:function(i,r){ml(4,2,i,r)},useMemo:function(i,r){var s=tn();r=r===void 0?null:r;var c=i();if(Ma){Te(!0);try{i()}finally{Te(!1)}}return s.memoizedState=[c,r],c},useReducer:function(i,r,s){var c=tn();if(s!==void 0){var p=s(r);if(Ma){Te(!0);try{s(r)}finally{Te(!1)}}}else p=r;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=nA.bind(null,_e,i),[c.memoizedState,i]},useRef:function(i){var r=tn();return i={current:i},r.memoizedState=i},useState:function(i){i=Gc(i);var r=i.queue,s=dg.bind(null,_e,r);return r.dispatch=s,[i.memoizedState,s]},useDebugValue:$c,useDeferredValue:function(i,r){var s=tn();return Kc(s,i,r)},useTransition:function(){var i=Gc(!1);return i=sg.bind(null,_e,i.queue,!0,!1),tn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,s){var c=_e,p=tn();if($e){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),it===null)throw Error(a(349));(ze&124)!==0||Op(c,r,s)}p.memoizedState=s;var b={value:s,getSnapshot:r};return p.queue=b,Jp(Fp.bind(null,c,b,i),[i]),c.flags|=2048,hr(9,dl(),Bp.bind(null,c,b,s,r),null),s},useId:function(){var i=tn(),r=it.identifierPrefix;if($e){var s=di,c=fi;s=(c&~(1<<32-Ce(c)-1)).toString(32)+s,r=""+r+"R"+s,s=ul++,0<s&&(r+="H"+s.toString(32)),r+=""}else s=WC++,r=""+r+"r"+s.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:Wc,useFormState:$p,useActionState:$p,useOptimistic:function(i){var r=tn();r.memoizedState=r.baseState=i;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=Qc.bind(null,_e,!0,s),s.dispatch=r,[i,r]},useMemoCache:Hc,useCacheRefresh:function(){return tn().memoizedState=tA.bind(null,_e)}},gg={readContext:Ht,use:cl,useCallback:ag,useContext:Ht,useEffect:Zp,useImperativeHandle:ig,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:rg,useReducer:fl,useRef:Qp,useState:function(){return fl(pi)},useDebugValue:$c,useDeferredValue:function(i,r){var s=Tt();return og(s,Qe.memoizedState,i,r)},useTransition:function(){var i=fl(pi)[0],r=Tt().memoizedState;return[typeof i=="boolean"?i:Ao(i),r]},useSyncExternalStore:Pp,useId:cg,useHostTransitionStatus:Wc,useFormState:Kp,useActionState:Kp,useOptimistic:function(i,r){var s=Tt();return zp(s,Qe,i,r)},useMemoCache:Hc,useCacheRefresh:fg},iA={readContext:Ht,use:cl,useCallback:ag,useContext:Ht,useEffect:Zp,useImperativeHandle:ig,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:rg,useReducer:qc,useRef:Qp,useState:function(){return qc(pi)},useDebugValue:$c,useDeferredValue:function(i,r){var s=Tt();return Qe===null?Kc(s,i,r):og(s,Qe.memoizedState,i,r)},useTransition:function(){var i=qc(pi)[0],r=Tt().memoizedState;return[typeof i=="boolean"?i:Ao(i),r]},useSyncExternalStore:Pp,useId:cg,useHostTransitionStatus:Wc,useFormState:Wp,useActionState:Wp,useOptimistic:function(i,r){var s=Tt();return Qe!==null?zp(s,Qe,i,r):(s.baseState=i,[i,s.queue.dispatch])},useMemoCache:Hc,useCacheRefresh:fg},pr=null,wo=0;function gl(i){var r=wo;return wo+=1,pr===null&&(pr=[]),wp(pr,i,r)}function Do(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function yl(i,r){throw r.$$typeof===y?Error(a(525)):(i=Object.prototype.toString.call(r),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function yg(i){var r=i._init;return r(i._payload)}function xg(i){function r(Y,H){if(i){var X=Y.deletions;X===null?(Y.deletions=[H],Y.flags|=16):X.push(H)}}function s(Y,H){if(!i)return null;for(;H!==null;)r(Y,H),H=H.sibling;return null}function c(Y){for(var H=new Map;Y!==null;)Y.key!==null?H.set(Y.key,Y):H.set(Y.index,Y),Y=Y.sibling;return H}function p(Y,H){return Y=ci(Y,H),Y.index=0,Y.sibling=null,Y}function b(Y,H,X){return Y.index=X,i?(X=Y.alternate,X!==null?(X=X.index,X<H?(Y.flags|=67108866,H):X):(Y.flags|=67108866,H)):(Y.flags|=1048576,H)}function A(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function w(Y,H,X,se){return H===null||H.tag!==6?(H=xc(X,Y.mode,se),H.return=Y,H):(H=p(H,X),H.return=Y,H)}function O(Y,H,X,se){var xe=X.type;return xe===E?ie(Y,H,X.props.children,se,X.key):H!==null&&(H.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ue&&yg(xe)===H.type)?(H=p(H,X.props),Do(H,X),H.return=Y,H):(H=Zs(X.type,X.key,X.props,null,Y.mode,se),Do(H,X),H.return=Y,H)}function W(Y,H,X,se){return H===null||H.tag!==4||H.stateNode.containerInfo!==X.containerInfo||H.stateNode.implementation!==X.implementation?(H=vc(X,Y.mode,se),H.return=Y,H):(H=p(H,X.children||[]),H.return=Y,H)}function ie(Y,H,X,se,xe){return H===null||H.tag!==7?(H=xa(X,Y.mode,se,xe),H.return=Y,H):(H=p(H,X),H.return=Y,H)}function le(Y,H,X){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=xc(""+H,Y.mode,X),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return X=Zs(H.type,H.key,H.props,null,Y.mode,X),Do(X,H),X.return=Y,X;case S:return H=vc(H,Y.mode,X),H.return=Y,H;case ue:var se=H._init;return H=se(H._payload),le(Y,H,X)}if(B(H)||ne(H))return H=xa(H,Y.mode,X,null),H.return=Y,H;if(typeof H.then=="function")return le(Y,gl(H),X);if(H.$$typeof===P)return le(Y,il(Y,H),X);yl(Y,H)}return null}function Q(Y,H,X,se){var xe=H!==null?H.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return xe!==null?null:w(Y,H,""+X,se);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case T:return X.key===xe?O(Y,H,X,se):null;case S:return X.key===xe?W(Y,H,X,se):null;case ue:return xe=X._init,X=xe(X._payload),Q(Y,H,X,se)}if(B(X)||ne(X))return xe!==null?null:ie(Y,H,X,se,null);if(typeof X.then=="function")return Q(Y,H,gl(X),se);if(X.$$typeof===P)return Q(Y,H,il(Y,X),se);yl(Y,X)}return null}function J(Y,H,X,se,xe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Y=Y.get(X)||null,w(H,Y,""+se,xe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case T:return Y=Y.get(se.key===null?X:se.key)||null,O(H,Y,se,xe);case S:return Y=Y.get(se.key===null?X:se.key)||null,W(H,Y,se,xe);case ue:var Le=se._init;return se=Le(se._payload),J(Y,H,X,se,xe)}if(B(se)||ne(se))return Y=Y.get(X)||null,ie(H,Y,se,xe,null);if(typeof se.then=="function")return J(Y,H,X,gl(se),xe);if(se.$$typeof===P)return J(Y,H,X,il(H,se),xe);yl(H,se)}return null}function we(Y,H,X,se){for(var xe=null,Le=null,be=H,Me=H=0,It=null;be!==null&&Me<X.length;Me++){be.index>Me?(It=be,be=null):It=be.sibling;var Ge=Q(Y,be,X[Me],se);if(Ge===null){be===null&&(be=It);break}i&&be&&Ge.alternate===null&&r(Y,be),H=b(Ge,H,Me),Le===null?xe=Ge:Le.sibling=Ge,Le=Ge,be=It}if(Me===X.length)return s(Y,be),$e&&ba(Y,Me),xe;if(be===null){for(;Me<X.length;Me++)be=le(Y,X[Me],se),be!==null&&(H=b(be,H,Me),Le===null?xe=be:Le.sibling=be,Le=be);return $e&&ba(Y,Me),xe}for(be=c(be);Me<X.length;Me++)It=J(be,Y,Me,X[Me],se),It!==null&&(i&&It.alternate!==null&&be.delete(It.key===null?Me:It.key),H=b(It,H,Me),Le===null?xe=It:Le.sibling=It,Le=It);return i&&be.forEach(function(Wi){return r(Y,Wi)}),$e&&ba(Y,Me),xe}function Ae(Y,H,X,se){if(X==null)throw Error(a(151));for(var xe=null,Le=null,be=H,Me=H=0,It=null,Ge=X.next();be!==null&&!Ge.done;Me++,Ge=X.next()){be.index>Me?(It=be,be=null):It=be.sibling;var Wi=Q(Y,be,Ge.value,se);if(Wi===null){be===null&&(be=It);break}i&&be&&Wi.alternate===null&&r(Y,be),H=b(Wi,H,Me),Le===null?xe=Wi:Le.sibling=Wi,Le=Wi,be=It}if(Ge.done)return s(Y,be),$e&&ba(Y,Me),xe;if(be===null){for(;!Ge.done;Me++,Ge=X.next())Ge=le(Y,Ge.value,se),Ge!==null&&(H=b(Ge,H,Me),Le===null?xe=Ge:Le.sibling=Ge,Le=Ge);return $e&&ba(Y,Me),xe}for(be=c(be);!Ge.done;Me++,Ge=X.next())Ge=J(be,Y,Me,Ge.value,se),Ge!==null&&(i&&Ge.alternate!==null&&be.delete(Ge.key===null?Me:Ge.key),H=b(Ge,H,Me),Le===null?xe=Ge:Le.sibling=Ge,Le=Ge);return i&&be.forEach(function(aE){return r(Y,aE)}),$e&&ba(Y,Me),xe}function Ze(Y,H,X,se){if(typeof X=="object"&&X!==null&&X.type===E&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case T:e:{for(var xe=X.key;H!==null;){if(H.key===xe){if(xe=X.type,xe===E){if(H.tag===7){s(Y,H.sibling),se=p(H,X.props.children),se.return=Y,Y=se;break e}}else if(H.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ue&&yg(xe)===H.type){s(Y,H.sibling),se=p(H,X.props),Do(se,X),se.return=Y,Y=se;break e}s(Y,H);break}else r(Y,H);H=H.sibling}X.type===E?(se=xa(X.props.children,Y.mode,se,X.key),se.return=Y,Y=se):(se=Zs(X.type,X.key,X.props,null,Y.mode,se),Do(se,X),se.return=Y,Y=se)}return A(Y);case S:e:{for(xe=X.key;H!==null;){if(H.key===xe)if(H.tag===4&&H.stateNode.containerInfo===X.containerInfo&&H.stateNode.implementation===X.implementation){s(Y,H.sibling),se=p(H,X.children||[]),se.return=Y,Y=se;break e}else{s(Y,H);break}else r(Y,H);H=H.sibling}se=vc(X,Y.mode,se),se.return=Y,Y=se}return A(Y);case ue:return xe=X._init,X=xe(X._payload),Ze(Y,H,X,se)}if(B(X))return we(Y,H,X,se);if(ne(X)){if(xe=ne(X),typeof xe!="function")throw Error(a(150));return X=xe.call(X),Ae(Y,H,X,se)}if(typeof X.then=="function")return Ze(Y,H,gl(X),se);if(X.$$typeof===P)return Ze(Y,H,il(Y,X),se);yl(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,H!==null&&H.tag===6?(s(Y,H.sibling),se=p(H,X),se.return=Y,Y=se):(s(Y,H),se=xc(X,Y.mode,se),se.return=Y,Y=se),A(Y)):s(Y,H)}return function(Y,H,X,se){try{wo=0;var xe=Ze(Y,H,X,se);return pr=null,xe}catch(be){if(be===xo||be===rl)throw be;var Le=mn(29,be,null,Y.mode);return Le.lanes=se,Le.return=Y,Le}finally{}}}var gr=xg(!0),vg=xg(!1),Dn=j(null),Xn=null;function Pi(i){var r=i.alternate;M(wt,wt.current&1),M(Dn,i),Xn===null&&(r===null||fr.current!==null||r.memoizedState!==null)&&(Xn=i)}function bg(i){if(i.tag===22){if(M(wt,wt.current),M(Dn,i),Xn===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Xn=i)}}else Oi()}function Oi(){M(wt,wt.current),M(Dn,Dn.current)}function gi(i){U(Dn),Xn===i&&(Xn=null),U(wt)}var wt=j(0);function xl(i){for(var r=i;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Hf(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Jc(i,r,s,c){r=i.memoizedState,s=s(c,r),s=s==null?r:h({},r,s),i.memoizedState=s,i.lanes===0&&(i.updateQueue.baseState=s)}var Zc={enqueueSetState:function(i,r,s){i=i._reactInternals;var c=yn(),p=Ii(c);p.payload=r,s!=null&&(p.callback=s),r=_i(i,p,c),r!==null&&(xn(r,i,c),bo(r,i,c))},enqueueReplaceState:function(i,r,s){i=i._reactInternals;var c=yn(),p=Ii(c);p.tag=1,p.payload=r,s!=null&&(p.callback=s),r=_i(i,p,c),r!==null&&(xn(r,i,c),bo(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var s=yn(),c=Ii(s);c.tag=2,r!=null&&(c.callback=r),r=_i(i,c,s),r!==null&&(xn(r,i,s),bo(r,i,s))}};function Tg(i,r,s,c,p,b,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,b,A):r.prototype&&r.prototype.isPureReactComponent?!uo(s,c)||!uo(p,b):!0}function Sg(i,r,s,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,c),r.state!==i&&Zc.enqueueReplaceState(r,r.state,null)}function wa(i,r){var s=r;if("ref"in r){s={};for(var c in r)c!=="ref"&&(s[c]=r[c])}if(i=i.defaultProps){s===r&&(s=h({},s));for(var p in i)s[p]===void 0&&(s[p]=i[p])}return s}var vl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Cg(i){vl(i)}function Ag(i){console.error(i)}function Eg(i){vl(i)}function bl(i,r){try{var s=i.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Mg(i,r,s){try{var c=i.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ef(i,r,s){return s=Ii(s),s.tag=3,s.payload={element:null},s.callback=function(){bl(i,r)},s}function wg(i){return i=Ii(i),i.tag=3,i}function Dg(i,r,s,c){var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var b=c.value;i.payload=function(){return p(b)},i.callback=function(){Mg(r,s,c)}}var A=s.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){Mg(r,s,c),typeof p!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function aA(i,r,s,c,p){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=s.alternate,r!==null&&po(r,s,p,!0),s=Dn.current,s!==null){switch(s.tag){case 13:return Xn===null?Ef():s.alternate===null&&dt===0&&(dt=3),s.flags&=-257,s.flags|=65536,s.lanes=p,c===kc?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([c]):r.add(c),wf(i,c,p)),!1;case 22:return s.flags|=65536,c===kc?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([c]):s.add(c)),wf(i,c,p)),!1}throw Error(a(435,s.tag))}return wf(i,c,p),Ef(),!1}if($e)return r=Dn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,c!==Sc&&(i=Error(a(422),{cause:c}),ho(An(i,s)))):(c!==Sc&&(r=Error(a(423),{cause:c}),ho(An(r,s))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=An(c,s),p=ef(i.stateNode,c,p),Ic(i,p),dt!==4&&(dt=2)),!1;var b=Error(a(520),{cause:c});if(b=An(b,s),Po===null?Po=[b]:Po.push(b),dt!==4&&(dt=2),r===null)return!0;c=An(c,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,i=p&-p,s.lanes|=i,i=ef(s.stateNode,c,i),Ic(s,i),!1;case 1:if(r=s.type,b=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Hi===null||!Hi.has(b))))return s.flags|=65536,p&=-p,s.lanes|=p,p=wg(p),Dg(p,i,s,c),Ic(s,p),!1}s=s.return}while(s!==null);return!1}var kg=Error(a(461)),Nt=!1;function _t(i,r,s,c){r.child=i===null?vg(r,null,s,c):gr(r,i.child,s,c)}function Ng(i,r,s,c,p){s=s.render;var b=r.ref;if("ref"in c){var A={};for(var w in c)w!=="ref"&&(A[w]=c[w])}else A=c;return Aa(r),c=Bc(i,r,s,A,b,p),w=Fc(),i!==null&&!Nt?(Vc(i,r,p),yi(i,r,p)):($e&&w&&bc(r),r.flags|=1,_t(i,r,c,p),r.child)}function Rg(i,r,s,c,p){if(i===null){var b=s.type;return typeof b=="function"&&!yc(b)&&b.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=b,Ig(i,r,b,c,p)):(i=Zs(s.type,null,c,r,r.mode,p),i.ref=r.ref,i.return=r,r.child=i)}if(b=i.child,!uf(i,p)){var A=b.memoizedProps;if(s=s.compare,s=s!==null?s:uo,s(A,c)&&i.ref===r.ref)return yi(i,r,p)}return r.flags|=1,i=ci(b,c),i.ref=r.ref,i.return=r,r.child=i}function Ig(i,r,s,c,p){if(i!==null){var b=i.memoizedProps;if(uo(b,c)&&i.ref===r.ref)if(Nt=!1,r.pendingProps=c=b,uf(i,p))(i.flags&131072)!==0&&(Nt=!0);else return r.lanes=i.lanes,yi(i,r,p)}return tf(i,r,s,c,p)}function _g(i,r,s){var c=r.pendingProps,p=c.children,b=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((r.flags&128)!==0){if(c=b!==null?b.baseLanes|s:s,i!==null){for(p=r.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;r.childLanes=b&~c}else r.childLanes=0,r.child=null;return Lg(i,r,c,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&al(r,b!==null?b.cachePool:null),b!==null?Ip(r,b):Lc(),bg(r);else return r.lanes=r.childLanes=536870912,Lg(i,r,b!==null?b.baseLanes|s:s,s)}else b!==null?(al(r,b.cachePool),Ip(r,b),Oi(),r.memoizedState=null):(i!==null&&al(r,null),Lc(),Oi());return _t(i,r,p,s),r.child}function Lg(i,r,s,c){var p=Dc();return p=p===null?null:{parent:Mt._currentValue,pool:p},r.memoizedState={baseLanes:s,cachePool:p},i!==null&&al(r,null),Lc(),bg(r),i!==null&&po(i,r,c,!0),null}function Tl(i,r){var s=r.ref;if(s===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(i===null||i.ref!==s)&&(r.flags|=4194816)}}function tf(i,r,s,c,p){return Aa(r),s=Bc(i,r,s,c,void 0,p),c=Fc(),i!==null&&!Nt?(Vc(i,r,p),yi(i,r,p)):($e&&c&&bc(r),r.flags|=1,_t(i,r,s,p),r.child)}function Pg(i,r,s,c,p,b){return Aa(r),r.updateQueue=null,s=Lp(r,c,s,p),_p(i),c=Fc(),i!==null&&!Nt?(Vc(i,r,b),yi(i,r,b)):($e&&c&&bc(r),r.flags|=1,_t(i,r,s,b),r.child)}function Og(i,r,s,c,p){if(Aa(r),r.stateNode===null){var b=or,A=s.contextType;typeof A=="object"&&A!==null&&(b=Ht(A)),b=new s(c,b),r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Zc,r.stateNode=b,b._reactInternals=r,b=r.stateNode,b.props=c,b.state=r.memoizedState,b.refs={},Nc(r),A=s.contextType,b.context=typeof A=="object"&&A!==null?Ht(A):or,b.state=r.memoizedState,A=s.getDerivedStateFromProps,typeof A=="function"&&(Jc(r,s,A,c),b.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&Zc.enqueueReplaceState(b,b.state,null),So(r,c,b,p),To(),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){b=r.stateNode;var w=r.memoizedProps,O=wa(s,w);b.props=O;var W=b.context,ie=s.contextType;A=or,typeof ie=="object"&&ie!==null&&(A=Ht(ie));var le=s.getDerivedStateFromProps;ie=typeof le=="function"||typeof b.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,ie||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(w||W!==A)&&Sg(r,b,c,A),Ri=!1;var Q=r.memoizedState;b.state=Q,So(r,c,b,p),To(),W=r.memoizedState,w||Q!==W||Ri?(typeof le=="function"&&(Jc(r,s,le,c),W=r.memoizedState),(O=Ri||Tg(r,s,O,c,Q,W,A))?(ie||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=W),b.props=c,b.state=W,b.context=A,c=O):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{b=r.stateNode,Rc(i,r),A=r.memoizedProps,ie=wa(s,A),b.props=ie,le=r.pendingProps,Q=b.context,W=s.contextType,O=or,typeof W=="object"&&W!==null&&(O=Ht(W)),w=s.getDerivedStateFromProps,(W=typeof w=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==le||Q!==O)&&Sg(r,b,c,O),Ri=!1,Q=r.memoizedState,b.state=Q,So(r,c,b,p),To();var J=r.memoizedState;A!==le||Q!==J||Ri||i!==null&&i.dependencies!==null&&nl(i.dependencies)?(typeof w=="function"&&(Jc(r,s,w,c),J=r.memoizedState),(ie=Ri||Tg(r,s,ie,c,Q,J,O)||i!==null&&i.dependencies!==null&&nl(i.dependencies))?(W||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,J,O),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,J,O)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=J),b.props=c,b.state=J,b.context=O,c=ie):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),c=!1)}return b=c,Tl(i,r),c=(r.flags&128)!==0,b||c?(b=r.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:b.render(),r.flags|=1,i!==null&&c?(r.child=gr(r,i.child,null,p),r.child=gr(r,null,s,p)):_t(i,r,s,p),r.memoizedState=b.state,i=r.child):i=yi(i,r,p),i}function Bg(i,r,s,c){return mo(),r.flags|=256,_t(i,r,s,c),r.child}var nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function af(i){return{baseLanes:i,cachePool:Ap()}}function rf(i,r,s){return i=i!==null?i.childLanes&~s:0,r&&(i|=kn),i}function Fg(i,r,s){var c=r.pendingProps,p=!1,b=(r.flags&128)!==0,A;if((A=b)||(A=i!==null&&i.memoizedState===null?!1:(wt.current&2)!==0),A&&(p=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,i===null){if($e){if(p?Pi(r):Oi(),$e){var w=ft,O;if(O=w){e:{for(O=w,w=Kn;O.nodeType!==8;){if(!w){w=null;break e}if(O=Hn(O.nextSibling),O===null){w=null;break e}}w=O}w!==null?(r.memoizedState={dehydrated:w,treeContext:va!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},O=mn(18,null,null,0),O.stateNode=w,O.return=r,r.child=O,Xt=r,ft=null,O=!0):O=!1}O||Sa(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Hf(w)?r.lanes=32:r.lanes=536870912,null;gi(r)}return w=c.children,c=c.fallback,p?(Oi(),p=r.mode,w=Sl({mode:"hidden",children:w},p),c=xa(c,p,s,null),w.return=r,c.return=r,w.sibling=c,r.child=w,p=r.child,p.memoizedState=af(s),p.childLanes=rf(i,A,s),r.memoizedState=nf,c):(Pi(r),of(r,w))}if(O=i.memoizedState,O!==null&&(w=O.dehydrated,w!==null)){if(b)r.flags&256?(Pi(r),r.flags&=-257,r=sf(i,r,s)):r.memoizedState!==null?(Oi(),r.child=i.child,r.flags|=128,r=null):(Oi(),p=c.fallback,w=r.mode,c=Sl({mode:"visible",children:c.children},w),p=xa(p,w,s,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,gr(r,i.child,null,s),c=r.child,c.memoizedState=af(s),c.childLanes=rf(i,A,s),r.memoizedState=nf,r=p);else if(Pi(r),Hf(w)){if(A=w.nextSibling&&w.nextSibling.dataset,A)var W=A.dgst;A=W,c=Error(a(419)),c.stack="",c.digest=A,ho({value:c,source:null,stack:null}),r=sf(i,r,s)}else if(Nt||po(i,r,s,!1),A=(s&i.childLanes)!==0,Nt||A){if(A=it,A!==null&&(c=s&-s,c=(c&42)!==0?1:jt(c),c=(c&(A.suspendedLanes|s))!==0?0:c,c!==0&&c!==O.retryLane))throw O.retryLane=c,rr(i,c),xn(A,i,c),kg;w.data==="$?"||Ef(),r=sf(i,r,s)}else w.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=O.treeContext,ft=Hn(w.nextSibling),Xt=r,$e=!0,Ta=null,Kn=!1,i!==null&&(Mn[wn++]=fi,Mn[wn++]=di,Mn[wn++]=va,fi=i.id,di=i.overflow,va=r),r=of(r,c.children),r.flags|=4096);return r}return p?(Oi(),p=c.fallback,w=r.mode,O=i.child,W=O.sibling,c=ci(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,W!==null?p=ci(W,p):(p=xa(p,w,s,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,w=i.child.memoizedState,w===null?w=af(s):(O=w.cachePool,O!==null?(W=Mt._currentValue,O=O.parent!==W?{parent:W,pool:W}:O):O=Ap(),w={baseLanes:w.baseLanes|s,cachePool:O}),p.memoizedState=w,p.childLanes=rf(i,A,s),r.memoizedState=nf,c):(Pi(r),s=i.child,i=s.sibling,s=ci(s,{mode:"visible",children:c.children}),s.return=r,s.sibling=null,i!==null&&(A=r.deletions,A===null?(r.deletions=[i],r.flags|=16):A.push(i)),r.child=s,r.memoizedState=null,s)}function of(i,r){return r=Sl({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Sl(i,r){return i=mn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function sf(i,r,s){return gr(r,i.child,null,s),i=of(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Vg(i,r,s){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),Ac(i.return,r,s)}function lf(i,r,s,c,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:p}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=s,b.tailMode=p)}function jg(i,r,s){var c=r.pendingProps,p=c.revealOrder,b=c.tail;if(_t(i,r,c.children,s),c=wt.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Vg(i,s,r);else if(i.tag===19)Vg(i,s,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(M(wt,c),p){case"forwards":for(s=r.child,p=null;s!==null;)i=s.alternate,i!==null&&xl(i)===null&&(p=s),s=s.sibling;s=p,s===null?(p=r.child,r.child=null):(p=s.sibling,s.sibling=null),lf(r,!1,p,s,b);break;case"backwards":for(s=null,p=r.child,r.child=null;p!==null;){if(i=p.alternate,i!==null&&xl(i)===null){r.child=p;break}i=p.sibling,p.sibling=s,s=p,p=i}lf(r,!0,s,null,b);break;case"together":lf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function yi(i,r,s){if(i!==null&&(r.dependencies=i.dependencies),zi|=r.lanes,(s&r.childLanes)===0)if(i!==null){if(po(i,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(a(153));if(r.child!==null){for(i=r.child,s=ci(i,i.pendingProps),r.child=s,s.return=r;i.sibling!==null;)i=i.sibling,s=s.sibling=ci(i,i.pendingProps),s.return=r;s.sibling=null}return r.child}function uf(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&nl(i)))}function rA(i,r,s){switch(r.tag){case 3:de(r,r.stateNode.containerInfo),Ni(r,Mt,i.memoizedState.cache),mo();break;case 27:case 5:Ie(r);break;case 4:de(r,r.stateNode.containerInfo);break;case 10:Ni(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Pi(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Fg(i,r,s):(Pi(r),i=yi(i,r,s),i!==null?i.sibling:null);Pi(r);break;case 19:var p=(i.flags&128)!==0;if(c=(s&r.childLanes)!==0,c||(po(i,r,s,!1),c=(s&r.childLanes)!==0),p){if(c)return jg(i,r,s);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),M(wt,wt.current),c)break;return null;case 22:case 23:return r.lanes=0,_g(i,r,s);case 24:Ni(r,Mt,i.memoizedState.cache)}return yi(i,r,s)}function zg(i,r,s){if(i!==null)if(i.memoizedProps!==r.pendingProps)Nt=!0;else{if(!uf(i,s)&&(r.flags&128)===0)return Nt=!1,rA(i,r,s);Nt=(i.flags&131072)!==0}else Nt=!1,$e&&(r.flags&1048576)!==0&&yp(r,tl,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var c=r.elementType,p=c._init;if(c=p(c._payload),r.type=c,typeof c=="function")yc(c)?(i=wa(c,i),r.tag=1,r=Og(null,r,c,i,s)):(r.tag=0,r=tf(null,r,c,i,s));else{if(c!=null){if(p=c.$$typeof,p===$){r.tag=11,r=Ng(null,r,c,i,s);break e}else if(p===ce){r.tag=14,r=Rg(null,r,c,i,s);break e}}throw r=re(c)||c,Error(a(306,r,""))}}return r;case 0:return tf(i,r,r.type,r.pendingProps,s);case 1:return c=r.type,p=wa(c,r.pendingProps),Og(i,r,c,p,s);case 3:e:{if(de(r,r.stateNode.containerInfo),i===null)throw Error(a(387));c=r.pendingProps;var b=r.memoizedState;p=b.element,Rc(i,r),So(r,c,null,s);var A=r.memoizedState;if(c=A.cache,Ni(r,Mt,c),c!==b.cache&&Ec(r,[Mt],s,!0),To(),c=A.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=b,r.memoizedState=b,r.flags&256){r=Bg(i,r,c,s);break e}else if(c!==p){p=An(Error(a(424)),r),ho(p),r=Bg(i,r,c,s);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ft=Hn(i.firstChild),Xt=r,$e=!0,Ta=null,Kn=!0,s=vg(r,null,c,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(mo(),c===p){r=yi(i,r,s);break e}_t(i,r,c,s)}r=r.child}return r;case 26:return Tl(i,r),i===null?(s=Gy(r.type,null,r.pendingProps,null))?r.memoizedState=s:$e||(s=r.type,i=r.pendingProps,c=Ol(oe.current).createElement(s),c[kt]=r,c[zt]=i,Pt(c,s,i),vt(c),r.stateNode=c):r.memoizedState=Gy(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ie(r),i===null&&$e&&(c=r.stateNode=Hy(r.type,r.pendingProps,oe.current),Xt=r,Kn=!0,p=ft,Gi(r.type)?(Uf=p,ft=Hn(c.firstChild)):ft=p),_t(i,r,r.pendingProps.children,s),Tl(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&$e&&((p=c=ft)&&(c=_A(c,r.type,r.pendingProps,Kn),c!==null?(r.stateNode=c,Xt=r,ft=Hn(c.firstChild),Kn=!1,p=!0):p=!1),p||Sa(r)),Ie(r),p=r.type,b=r.pendingProps,A=i!==null?i.memoizedProps:null,c=b.children,Vf(p,b)?c=null:A!==null&&Vf(p,A)&&(r.flags|=32),r.memoizedState!==null&&(p=Bc(i,r,QC,null,null,s),qo._currentValue=p),Tl(i,r),_t(i,r,c,s),r.child;case 6:return i===null&&$e&&((i=s=ft)&&(s=LA(s,r.pendingProps,Kn),s!==null?(r.stateNode=s,Xt=r,ft=null,i=!0):i=!1),i||Sa(r)),null;case 13:return Fg(i,r,s);case 4:return de(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=gr(r,null,c,s):_t(i,r,c,s),r.child;case 11:return Ng(i,r,r.type,r.pendingProps,s);case 7:return _t(i,r,r.pendingProps,s),r.child;case 8:return _t(i,r,r.pendingProps.children,s),r.child;case 12:return _t(i,r,r.pendingProps.children,s),r.child;case 10:return c=r.pendingProps,Ni(r,r.type,c.value),_t(i,r,c.children,s),r.child;case 9:return p=r.type._context,c=r.pendingProps.children,Aa(r),p=Ht(p),c=c(p),r.flags|=1,_t(i,r,c,s),r.child;case 14:return Rg(i,r,r.type,r.pendingProps,s);case 15:return Ig(i,r,r.type,r.pendingProps,s);case 19:return jg(i,r,s);case 31:return c=r.pendingProps,s=r.mode,c={mode:c.mode,children:c.children},i===null?(s=Sl(c,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=ci(i.child,c),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return _g(i,r,s);case 24:return Aa(r),c=Ht(Mt),i===null?(p=Dc(),p===null&&(p=it,b=Mc(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=s),p=b),r.memoizedState={parent:c,cache:p},Nc(r),Ni(r,Mt,p)):((i.lanes&s)!==0&&(Rc(i,r),So(r,null,null,s),To()),p=i.memoizedState,b=r.memoizedState,p.parent!==c?(p={parent:c,cache:c},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),Ni(r,Mt,c)):(c=b.cache,Ni(r,Mt,c),c!==p.cache&&Ec(r,[Mt],s,!0))),_t(i,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function xi(i){i.flags|=4}function Hg(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Wy(r)){if(r=Dn.current,r!==null&&((ze&4194048)===ze?Xn!==null:(ze&62914560)!==ze&&(ze&536870912)===0||r!==Xn))throw vo=kc,Ep;i.flags|=8192}}function Cl(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Qr():536870912,i.lanes|=r,br|=r)}function ko(i,r){if(!$e)switch(i.tailMode){case"hidden":r=i.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?i.tail=null:s.sibling=null;break;case"collapsed":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function lt(i){var r=i.alternate!==null&&i.alternate.child===i.child,s=0,c=0;if(r)for(var p=i.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=s,r}function oA(i,r,s){var c=r.pendingProps;switch(Tc(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return s=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),hi(Mt),Ee(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(i===null||i.child===null)&&(fo(r)?xi(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,bp())),lt(r),null;case 26:return s=r.memoizedState,i===null?(xi(r),s!==null?(lt(r),Hg(r,s)):(lt(r),r.flags&=-16777217)):s?s!==i.memoizedState?(xi(r),lt(r),Hg(r,s)):(lt(r),r.flags&=-16777217):(i.memoizedProps!==c&&xi(r),lt(r),r.flags&=-16777217),null;case 27:Ve(r),s=oe.current;var p=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==c&&xi(r);else{if(!c){if(r.stateNode===null)throw Error(a(166));return lt(r),null}i=ae.current,fo(r)?xp(r):(i=Hy(p,c,s),r.stateNode=i,xi(r))}return lt(r),null;case 5:if(Ve(r),s=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&xi(r);else{if(!c){if(r.stateNode===null)throw Error(a(166));return lt(r),null}if(i=ae.current,fo(r))xp(r);else{switch(p=Ol(oe.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(s,{is:c.is}):p.createElement(s)}}i[kt]=r,i[zt]=c;e:for(p=r.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break e;for(;p.sibling===null;){if(p.return===null||p.return===r)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}r.stateNode=i;e:switch(Pt(i,s,c),s){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&xi(r)}}return lt(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&xi(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(a(166));if(i=oe.current,fo(r)){if(i=r.stateNode,s=r.memoizedProps,c=null,p=Xt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[kt]=r,i=!!(i.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||Py(i.nodeValue,s)),i||Sa(r)}else i=Ol(i).createTextNode(c),i[kt]=r,r.stateNode=i}return lt(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=fo(r),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(a(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[kt]=r}else mo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),p=!1}else p=bp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(gi(r),r):(gi(r),null)}if(gi(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=c!==null,i=i!==null&&i.memoizedState!==null,s){c=r.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var b=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==p&&(c.flags|=2048)}return s!==i&&s&&(r.child.flags|=8192),Cl(r,r.updateQueue),lt(r),null;case 4:return Ee(),i===null&&Lf(r.stateNode.containerInfo),lt(r),null;case 10:return hi(r.type),lt(r),null;case 19:if(U(wt),p=r.memoizedState,p===null)return lt(r),null;if(c=(r.flags&128)!==0,b=p.rendering,b===null)if(c)ko(p,!1);else{if(dt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(b=xl(i),b!==null){for(r.flags|=128,ko(p,!1),i=b.updateQueue,r.updateQueue=i,Cl(r,i),r.subtreeFlags=0,i=s,s=r.child;s!==null;)gp(s,i),s=s.sibling;return M(wt,wt.current&1|2),r.child}i=i.sibling}p.tail!==null&&Bt()>Ml&&(r.flags|=128,c=!0,ko(p,!1),r.lanes=4194304)}else{if(!c)if(i=xl(b),i!==null){if(r.flags|=128,c=!0,i=i.updateQueue,r.updateQueue=i,Cl(r,i),ko(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!$e)return lt(r),null}else 2*Bt()-p.renderingStartTime>Ml&&s!==536870912&&(r.flags|=128,c=!0,ko(p,!1),r.lanes=4194304);p.isBackwards?(b.sibling=r.child,r.child=b):(i=p.last,i!==null?i.sibling=b:r.child=b,p.last=b)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Bt(),r.sibling=null,i=wt.current,M(wt,c?i&1|2:i&1),r):(lt(r),null);case 22:case 23:return gi(r),Pc(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(s&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),s=r.updateQueue,s!==null&&Cl(r,s.retryQueue),s=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==s&&(r.flags|=2048),i!==null&&U(Ea),null;case 24:return s=null,i!==null&&(s=i.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),hi(Mt),lt(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function sA(i,r){switch(Tc(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return hi(Mt),Ee(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ve(r),null;case 13:if(gi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(a(340));mo()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return U(wt),null;case 4:return Ee(),null;case 10:return hi(r.type),null;case 22:case 23:return gi(r),Pc(),i!==null&&U(Ea),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return hi(Mt),null;case 25:return null;default:return null}}function Ug(i,r){switch(Tc(r),r.tag){case 3:hi(Mt),Ee();break;case 26:case 27:case 5:Ve(r);break;case 4:Ee();break;case 13:gi(r);break;case 19:U(wt);break;case 10:hi(r.type);break;case 22:case 23:gi(r),Pc(),i!==null&&U(Ea);break;case 24:hi(Mt)}}function No(i,r){try{var s=r.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var p=c.next;s=p;do{if((s.tag&i)===i){c=void 0;var b=s.create,A=s.inst;c=b(),A.destroy=c}s=s.next}while(s!==p)}}catch(w){et(r,r.return,w)}}function Bi(i,r,s){try{var c=r.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var b=p.next;c=b;do{if((c.tag&i)===i){var A=c.inst,w=A.destroy;if(w!==void 0){A.destroy=void 0,p=r;var O=s,W=w;try{W()}catch(ie){et(p,O,ie)}}}c=c.next}while(c!==b)}}catch(ie){et(r,r.return,ie)}}function qg(i){var r=i.updateQueue;if(r!==null){var s=i.stateNode;try{Rp(r,s)}catch(c){et(i,i.return,c)}}}function Gg(i,r,s){s.props=wa(i.type,i.memoizedProps),s.state=i.memoizedState;try{s.componentWillUnmount()}catch(c){et(i,r,c)}}function Ro(i,r){try{var s=i.ref;if(s!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof s=="function"?i.refCleanup=s(c):s.current=c}}catch(p){et(i,r,p)}}function Wn(i,r){var s=i.ref,c=i.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(p){et(i,r,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(p){et(i,r,p)}else s.current=null}function Yg(i){var r=i.type,s=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(p){et(i,i.return,p)}}function cf(i,r,s){try{var c=i.stateNode;DA(c,i.type,s,r),c[zt]=r}catch(p){et(i,i.return,p)}}function $g(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Gi(i.type)||i.tag===4}function ff(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||$g(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Gi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function df(i,r,s){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(i,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(i),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Pl));else if(c!==4&&(c===27&&Gi(i.type)&&(s=i.stateNode,r=null),i=i.child,i!==null))for(df(i,r,s),i=i.sibling;i!==null;)df(i,r,s),i=i.sibling}function Al(i,r,s){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?s.insertBefore(i,r):s.appendChild(i);else if(c!==4&&(c===27&&Gi(i.type)&&(s=i.stateNode),i=i.child,i!==null))for(Al(i,r,s),i=i.sibling;i!==null;)Al(i,r,s),i=i.sibling}function Kg(i){var r=i.stateNode,s=i.memoizedProps;try{for(var c=i.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Pt(r,c,s),r[kt]=i,r[zt]=s}catch(b){et(i,i.return,b)}}var vi=!1,yt=!1,mf=!1,Xg=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function lA(i,r){if(i=i.containerInfo,Bf=Hl,i=op(i),cc(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else e:{s=(s=i.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var p=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{s.nodeType,b.nodeType}catch{s=null;break e}var A=0,w=-1,O=-1,W=0,ie=0,le=i,Q=null;t:for(;;){for(var J;le!==s||p!==0&&le.nodeType!==3||(w=A+p),le!==b||c!==0&&le.nodeType!==3||(O=A+c),le.nodeType===3&&(A+=le.nodeValue.length),(J=le.firstChild)!==null;)Q=le,le=J;for(;;){if(le===i)break t;if(Q===s&&++W===p&&(w=A),Q===b&&++ie===c&&(O=A),(J=le.nextSibling)!==null)break;le=Q,Q=le.parentNode}le=J}s=w===-1||O===-1?null:{start:w,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ff={focusedElem:i,selectionRange:s},Hl=!1,Rt=r;Rt!==null;)if(r=Rt,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Rt=i;else for(;Rt!==null;){switch(r=Rt,b=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,s=r,p=b.memoizedProps,b=b.memoizedState,c=s.stateNode;try{var we=wa(s.type,p,s.elementType===s.type);i=c.getSnapshotBeforeUpdate(we,b),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ae){et(s,s.return,Ae)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,s=i.nodeType,s===9)zf(i);else if(s===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":zf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=r.sibling,i!==null){i.return=r.return,Rt=i;break}Rt=r.return}}function Wg(i,r,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(i,s),c&4&&No(5,s);break;case 1:if(Fi(i,s),c&4)if(i=s.stateNode,r===null)try{i.componentDidMount()}catch(A){et(s,s.return,A)}else{var p=wa(s.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(p,r,i.__reactInternalSnapshotBeforeUpdate)}catch(A){et(s,s.return,A)}}c&64&&qg(s),c&512&&Ro(s,s.return);break;case 3:if(Fi(i,s),c&64&&(i=s.updateQueue,i!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Rp(i,r)}catch(A){et(s,s.return,A)}}break;case 27:r===null&&c&4&&Kg(s);case 26:case 5:Fi(i,s),r===null&&c&4&&Yg(s),c&512&&Ro(s,s.return);break;case 12:Fi(i,s);break;case 13:Fi(i,s),c&4&&Zg(i,s),c&64&&(i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(s=yA.bind(null,s),PA(i,s))));break;case 22:if(c=s.memoizedState!==null||vi,!c){r=r!==null&&r.memoizedState!==null||yt,p=vi;var b=yt;vi=c,(yt=r)&&!b?Vi(i,s,(s.subtreeFlags&8772)!==0):Fi(i,s),vi=p,yt=b}break;case 30:break;default:Fi(i,s)}}function Qg(i){var r=i.alternate;r!==null&&(i.alternate=null,Qg(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Zr(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var st=null,nn=!1;function bi(i,r,s){for(s=s.child;s!==null;)Jg(i,r,s),s=s.sibling}function Jg(i,r,s){if(me&&typeof me.onCommitFiberUnmount=="function")try{me.onCommitFiberUnmount(ee,s)}catch{}switch(s.tag){case 26:yt||Wn(s,r),bi(i,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:yt||Wn(s,r);var c=st,p=nn;Gi(s.type)&&(st=s.stateNode,nn=!1),bi(i,r,s),jo(s.stateNode),st=c,nn=p;break;case 5:yt||Wn(s,r);case 6:if(c=st,p=nn,st=null,bi(i,r,s),st=c,nn=p,st!==null)if(nn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(s.stateNode)}catch(b){et(s,r,b)}else try{st.removeChild(s.stateNode)}catch(b){et(s,r,b)}break;case 18:st!==null&&(nn?(i=st,jy(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.stateNode),Ko(i)):jy(st,s.stateNode));break;case 4:c=st,p=nn,st=s.stateNode.containerInfo,nn=!0,bi(i,r,s),st=c,nn=p;break;case 0:case 11:case 14:case 15:yt||Bi(2,s,r),yt||Bi(4,s,r),bi(i,r,s);break;case 1:yt||(Wn(s,r),c=s.stateNode,typeof c.componentWillUnmount=="function"&&Gg(s,r,c)),bi(i,r,s);break;case 21:bi(i,r,s);break;case 22:yt=(c=yt)||s.memoizedState!==null,bi(i,r,s),yt=c;break;default:bi(i,r,s)}}function Zg(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ko(i)}catch(s){et(r,r.return,s)}}function uA(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Xg),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Xg),r;default:throw Error(a(435,i.tag))}}function hf(i,r){var s=uA(i);r.forEach(function(c){var p=xA.bind(null,i,c);s.has(c)||(s.add(c),c.then(p,p))})}function hn(i,r){var s=r.deletions;if(s!==null)for(var c=0;c<s.length;c++){var p=s[c],b=i,A=r,w=A;e:for(;w!==null;){switch(w.tag){case 27:if(Gi(w.type)){st=w.stateNode,nn=!1;break e}break;case 5:st=w.stateNode,nn=!1;break e;case 3:case 4:st=w.stateNode.containerInfo,nn=!0;break e}w=w.return}if(st===null)throw Error(a(160));Jg(b,A,p),st=null,nn=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)ey(r,i),r=r.sibling}var zn=null;function ey(i,r){var s=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:hn(r,i),pn(i),c&4&&(Bi(3,i,i.return),No(3,i),Bi(5,i,i.return));break;case 1:hn(r,i),pn(i),c&512&&(yt||s===null||Wn(s,s.return)),c&64&&vi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(s=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var p=zn;if(hn(r,i),pn(i),c&512&&(yt||s===null||Wn(s,s.return)),c&4){var b=s!==null?s.memoizedState:null;if(c=i.memoizedState,s===null)if(c===null)if(i.stateNode===null){e:{c=i.type,s=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":b=p.getElementsByTagName("title")[0],(!b||b[fa]||b[kt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(c),p.head.insertBefore(b,p.querySelector("head > title"))),Pt(b,c,s),b[kt]=i,vt(b),c=b;break e;case"link":var A=Ky("link","href",p).get(c+(s.href||""));if(A){for(var w=0;w<A.length;w++)if(b=A[w],b.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&b.getAttribute("rel")===(s.rel==null?null:s.rel)&&b.getAttribute("title")===(s.title==null?null:s.title)&&b.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){A.splice(w,1);break t}}b=p.createElement(c),Pt(b,c,s),p.head.appendChild(b);break;case"meta":if(A=Ky("meta","content",p).get(c+(s.content||""))){for(w=0;w<A.length;w++)if(b=A[w],b.getAttribute("content")===(s.content==null?null:""+s.content)&&b.getAttribute("name")===(s.name==null?null:s.name)&&b.getAttribute("property")===(s.property==null?null:s.property)&&b.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&b.getAttribute("charset")===(s.charSet==null?null:s.charSet)){A.splice(w,1);break t}}b=p.createElement(c),Pt(b,c,s),p.head.appendChild(b);break;default:throw Error(a(468,c))}b[kt]=i,vt(b),c=b}i.stateNode=c}else Xy(p,i.type,i.stateNode);else i.stateNode=$y(p,c,i.memoizedProps);else b!==c?(b===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):b.count--,c===null?Xy(p,i.type,i.stateNode):$y(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&cf(i,i.memoizedProps,s.memoizedProps)}break;case 27:hn(r,i),pn(i),c&512&&(yt||s===null||Wn(s,s.return)),s!==null&&c&4&&cf(i,i.memoizedProps,s.memoizedProps);break;case 5:if(hn(r,i),pn(i),c&512&&(yt||s===null||Wn(s,s.return)),i.flags&32){p=i.stateNode;try{Ja(p,"")}catch(J){et(i,i.return,J)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,cf(i,p,s!==null?s.memoizedProps:p)),c&1024&&(mf=!0);break;case 6:if(hn(r,i),pn(i),c&4){if(i.stateNode===null)throw Error(a(162));c=i.memoizedProps,s=i.stateNode;try{s.nodeValue=c}catch(J){et(i,i.return,J)}}break;case 3:if(Vl=null,p=zn,zn=Bl(r.containerInfo),hn(r,i),zn=p,pn(i),c&4&&s!==null&&s.memoizedState.isDehydrated)try{Ko(r.containerInfo)}catch(J){et(i,i.return,J)}mf&&(mf=!1,ty(i));break;case 4:c=zn,zn=Bl(i.stateNode.containerInfo),hn(r,i),pn(i),zn=c;break;case 12:hn(r,i),pn(i);break;case 13:hn(r,i),pn(i),i.child.flags&8192&&i.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(bf=Bt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,hf(i,c)));break;case 22:p=i.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,W=vi,ie=yt;if(vi=W||p,yt=ie||O,hn(r,i),yt=ie,vi=W,pn(i),c&8192)e:for(r=i.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(s===null||O||vi||yt||Da(i)),s=null,r=i;;){if(r.tag===5||r.tag===26){if(s===null){O=s=r;try{if(b=O.stateNode,p)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{w=O.stateNode;var le=O.memoizedProps.style,Q=le!=null&&le.hasOwnProperty("display")?le.display:null;w.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(J){et(O,O.return,J)}}}else if(r.tag===6){if(s===null){O=r;try{O.stateNode.nodeValue=p?"":O.memoizedProps}catch(J){et(O,O.return,J)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,hf(i,s))));break;case 19:hn(r,i),pn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,hf(i,c)));break;case 30:break;case 21:break;default:hn(r,i),pn(i)}}function pn(i){var r=i.flags;if(r&2){try{for(var s,c=i.return;c!==null;){if($g(c)){s=c;break}c=c.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var p=s.stateNode,b=ff(i);Al(i,b,p);break;case 5:var A=s.stateNode;s.flags&32&&(Ja(A,""),s.flags&=-33);var w=ff(i);Al(i,w,A);break;case 3:case 4:var O=s.stateNode.containerInfo,W=ff(i);df(i,W,O);break;default:throw Error(a(161))}}catch(ie){et(i,i.return,ie)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function ty(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;ty(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Fi(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Wg(i,r.alternate,r),r=r.sibling}function Da(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Bi(4,r,r.return),Da(r);break;case 1:Wn(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Gg(r,r.return,s),Da(r);break;case 27:jo(r.stateNode);case 26:case 5:Wn(r,r.return),Da(r);break;case 22:r.memoizedState===null&&Da(r);break;case 30:Da(r);break;default:Da(r)}i=i.sibling}}function Vi(i,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,p=i,b=r,A=b.flags;switch(b.tag){case 0:case 11:case 15:Vi(p,b,s),No(4,b);break;case 1:if(Vi(p,b,s),c=b,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){et(c,c.return,W)}if(c=b,p=c.updateQueue,p!==null){var w=c.stateNode;try{var O=p.shared.hiddenCallbacks;if(O!==null)for(p.shared.hiddenCallbacks=null,p=0;p<O.length;p++)Np(O[p],w)}catch(W){et(c,c.return,W)}}s&&A&64&&qg(b),Ro(b,b.return);break;case 27:Kg(b);case 26:case 5:Vi(p,b,s),s&&c===null&&A&4&&Yg(b),Ro(b,b.return);break;case 12:Vi(p,b,s);break;case 13:Vi(p,b,s),s&&A&4&&Zg(p,b);break;case 22:b.memoizedState===null&&Vi(p,b,s),Ro(b,b.return);break;case 30:break;default:Vi(p,b,s)}r=r.sibling}}function pf(i,r){var s=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==s&&(i!=null&&i.refCount++,s!=null&&go(s))}function gf(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&go(i))}function Qn(i,r,s,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ny(i,r,s,c),r=r.sibling}function ny(i,r,s,c){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Qn(i,r,s,c),p&2048&&No(9,r);break;case 1:Qn(i,r,s,c);break;case 3:Qn(i,r,s,c),p&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&go(i)));break;case 12:if(p&2048){Qn(i,r,s,c),i=r.stateNode;try{var b=r.memoizedProps,A=b.id,w=b.onPostCommit;typeof w=="function"&&w(A,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){et(r,r.return,O)}}else Qn(i,r,s,c);break;case 13:Qn(i,r,s,c);break;case 23:break;case 22:b=r.stateNode,A=r.alternate,r.memoizedState!==null?b._visibility&2?Qn(i,r,s,c):Io(i,r):b._visibility&2?Qn(i,r,s,c):(b._visibility|=2,yr(i,r,s,c,(r.subtreeFlags&10256)!==0)),p&2048&&pf(A,r);break;case 24:Qn(i,r,s,c),p&2048&&gf(r.alternate,r);break;default:Qn(i,r,s,c)}}function yr(i,r,s,c,p){for(p=p&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var b=i,A=r,w=s,O=c,W=A.flags;switch(A.tag){case 0:case 11:case 15:yr(b,A,w,O,p),No(8,A);break;case 23:break;case 22:var ie=A.stateNode;A.memoizedState!==null?ie._visibility&2?yr(b,A,w,O,p):Io(b,A):(ie._visibility|=2,yr(b,A,w,O,p)),p&&W&2048&&pf(A.alternate,A);break;case 24:yr(b,A,w,O,p),p&&W&2048&&gf(A.alternate,A);break;default:yr(b,A,w,O,p)}r=r.sibling}}function Io(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=i,c=r,p=c.flags;switch(c.tag){case 22:Io(s,c),p&2048&&pf(c.alternate,c);break;case 24:Io(s,c),p&2048&&gf(c.alternate,c);break;default:Io(s,c)}r=r.sibling}}var _o=8192;function xr(i){if(i.subtreeFlags&_o)for(i=i.child;i!==null;)iy(i),i=i.sibling}function iy(i){switch(i.tag){case 26:xr(i),i.flags&_o&&i.memoizedState!==null&&KA(zn,i.memoizedState,i.memoizedProps);break;case 5:xr(i);break;case 3:case 4:var r=zn;zn=Bl(i.stateNode.containerInfo),xr(i),zn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=_o,_o=16777216,xr(i),_o=r):xr(i));break;default:xr(i)}}function ay(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Lo(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var c=r[s];Rt=c,oy(c,i)}ay(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ry(i),i=i.sibling}function ry(i){switch(i.tag){case 0:case 11:case 15:Lo(i),i.flags&2048&&Bi(9,i,i.return);break;case 3:Lo(i);break;case 12:Lo(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,El(i)):Lo(i);break;default:Lo(i)}}function El(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var c=r[s];Rt=c,oy(c,i)}ay(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Bi(8,r,r.return),El(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,El(r));break;default:El(r)}i=i.sibling}}function oy(i,r){for(;Rt!==null;){var s=Rt;switch(s.tag){case 0:case 11:case 15:Bi(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:go(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,Rt=c;else e:for(s=i;Rt!==null;){c=Rt;var p=c.sibling,b=c.return;if(Qg(c),c===s){Rt=null;break e}if(p!==null){p.return=b,Rt=p;break e}Rt=b}}}var cA={getCacheForType:function(i){var r=Ht(Mt),s=r.data.get(i);return s===void 0&&(s=i(),r.data.set(i,s)),s}},fA=typeof WeakMap=="function"?WeakMap:Map,Xe=0,it=null,Pe=null,ze=0,We=0,gn=null,ji=!1,vr=!1,yf=!1,Ti=0,dt=0,zi=0,ka=0,xf=0,kn=0,br=0,Po=null,an=null,vf=!1,bf=0,Ml=1/0,wl=null,Hi=null,Lt=0,Ui=null,Tr=null,Sr=0,Tf=0,Sf=null,sy=null,Oo=0,Cf=null;function yn(){if((Xe&2)!==0&&ze!==0)return ze&-ze;if(F.T!==null){var i=ur;return i!==0?i:Nf()}return Os()}function ly(){kn===0&&(kn=(ze&536870912)===0||$e?fn():536870912);var i=Dn.current;return i!==null&&(i.flags|=32),kn}function xn(i,r,s){(i===it&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(Cr(i,0),qi(i,ze,kn,!1)),Z(i,s),((Xe&2)===0||i!==it)&&(i===it&&((Xe&2)===0&&(ka|=s),dt===4&&qi(i,ze,kn,!1)),Jn(i))}function uy(i,r,s){if((Xe&6)!==0)throw Error(a(327));var c=!s&&(r&124)===0&&(r&i.expiredLanes)===0||Jt(i,r),p=c?hA(i,r):Mf(i,r,!0),b=c;do{if(p===0){vr&&!c&&qi(i,r,0,!1);break}else{if(s=i.current.alternate,b&&!dA(s)){p=Mf(i,r,!1),b=!1;continue}if(p===2){if(b=r,i.errorRecoveryDisabledLanes&b)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;e:{var w=i;p=Po;var O=w.current.memoizedState.isDehydrated;if(O&&(Cr(w,A).flags|=256),A=Mf(w,A,!1),A!==2){if(yf&&!O){w.errorRecoveryDisabledLanes|=b,ka|=b,p=4;break e}b=an,an=p,b!==null&&(an===null?an=b:an.push.apply(an,b))}p=A}if(b=!1,p!==2)continue}}if(p===1){Cr(i,0),qi(i,r,0,!0);break}e:{switch(c=i,b=p,b){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:qi(c,r,kn,!ji);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(p=bf+300-Bt(),10<p)){if(qi(c,r,kn,!ji),pt(c,0,!0)!==0)break e;c.timeoutHandle=Fy(cy.bind(null,c,s,an,wl,vf,r,kn,ka,br,ji,b,2,-0,0),p);break e}cy(c,s,an,wl,vf,r,kn,ka,br,ji,b,0,-0,0)}}break}while(!0);Jn(i)}function cy(i,r,s,c,p,b,A,w,O,W,ie,le,Q,J){if(i.timeoutHandle=-1,le=r.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(Uo={stylesheets:null,count:0,unsuspend:$A},iy(r),le=XA(),le!==null)){i.cancelPendingCommit=le(yy.bind(null,i,r,b,s,c,p,A,w,O,ie,1,Q,J)),qi(i,b,A,!W);return}yy(i,r,b,s,c,p,A,w,O)}function dA(i){for(var r=i;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var p=s[c],b=p.getSnapshot;p=p.value;try{if(!dn(b(),p))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function qi(i,r,s,c){r&=~xf,r&=~ka,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var p=r;0<p;){var b=31-Ce(p),A=1<<b;c[b]=-1,p&=~A}s!==0&&ve(i,s,r)}function Dl(){return(Xe&6)===0?(Bo(0),!1):!0}function Af(){if(Pe!==null){if(We===0)var i=Pe.return;else i=Pe,mi=Ca=null,jc(i),pr=null,wo=0,i=Pe;for(;i!==null;)Ug(i.alternate,i),i=i.return;Pe=null}}function Cr(i,r){var s=i.timeoutHandle;s!==-1&&(i.timeoutHandle=-1,NA(s)),s=i.cancelPendingCommit,s!==null&&(i.cancelPendingCommit=null,s()),Af(),it=i,Pe=s=ci(i.current,null),ze=r,We=0,gn=null,ji=!1,vr=Jt(i,r),yf=!1,br=kn=xf=ka=zi=dt=0,an=Po=null,vf=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var p=31-Ce(c),b=1<<p;r|=i[p],c&=~b}return Ti=r,Ws(),s}function fy(i,r){_e=null,F.H=pl,r===xo||r===rl?(r=Dp(),We=3):r===Ep?(r=Dp(),We=4):We=r===kg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,gn=r,Pe===null&&(dt=1,bl(i,An(r,i.current)))}function dy(){var i=F.H;return F.H=pl,i===null?pl:i}function my(){var i=F.A;return F.A=cA,i}function Ef(){dt=4,ji||(ze&4194048)!==ze&&Dn.current!==null||(vr=!0),(zi&134217727)===0&&(ka&134217727)===0||it===null||qi(it,ze,kn,!1)}function Mf(i,r,s){var c=Xe;Xe|=2;var p=dy(),b=my();(it!==i||ze!==r)&&(wl=null,Cr(i,r)),r=!1;var A=dt;e:do try{if(We!==0&&Pe!==null){var w=Pe,O=gn;switch(We){case 8:Af(),A=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(r=!0);var W=We;if(We=0,gn=null,Ar(i,w,O,W),s&&vr){A=0;break e}break;default:W=We,We=0,gn=null,Ar(i,w,O,W)}}mA(),A=dt;break}catch(ie){fy(i,ie)}while(!0);return r&&i.shellSuspendCounter++,mi=Ca=null,Xe=c,F.H=p,F.A=b,Pe===null&&(it=null,ze=0,Ws()),A}function mA(){for(;Pe!==null;)hy(Pe)}function hA(i,r){var s=Xe;Xe|=2;var c=dy(),p=my();it!==i||ze!==r?(wl=null,Ml=Bt()+500,Cr(i,r)):vr=Jt(i,r);e:do try{if(We!==0&&Pe!==null){r=Pe;var b=gn;t:switch(We){case 1:We=0,gn=null,Ar(i,r,b,1);break;case 2:case 9:if(Mp(b)){We=0,gn=null,py(r);break}r=function(){We!==2&&We!==9||it!==i||(We=7),Jn(i)},b.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Mp(b)?(We=0,gn=null,py(r)):(We=0,gn=null,Ar(i,r,b,7));break;case 5:var A=null;switch(Pe.tag){case 26:A=Pe.memoizedState;case 5:case 27:var w=Pe;if(!A||Wy(A)){We=0,gn=null;var O=w.sibling;if(O!==null)Pe=O;else{var W=w.return;W!==null?(Pe=W,kl(W)):Pe=null}break t}}We=0,gn=null,Ar(i,r,b,5);break;case 6:We=0,gn=null,Ar(i,r,b,6);break;case 8:Af(),dt=6;break e;default:throw Error(a(462))}}pA();break}catch(ie){fy(i,ie)}while(!0);return mi=Ca=null,F.H=c,F.A=p,Xe=s,Pe!==null?0:(it=null,ze=0,Ws(),dt)}function pA(){for(;Pe!==null&&!Dt();)hy(Pe)}function hy(i){var r=zg(i.alternate,i,Ti);i.memoizedProps=i.pendingProps,r===null?kl(i):Pe=r}function py(i){var r=i,s=r.alternate;switch(r.tag){case 15:case 0:r=Pg(s,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=Pg(s,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:jc(r);default:Ug(s,r),r=Pe=gp(r,Ti),r=zg(s,r,Ti)}i.memoizedProps=i.pendingProps,r===null?kl(i):Pe=r}function Ar(i,r,s,c){mi=Ca=null,jc(r),pr=null,wo=0;var p=r.return;try{if(aA(i,p,r,s,ze)){dt=1,bl(i,An(s,i.current)),Pe=null;return}}catch(b){if(p!==null)throw Pe=p,b;dt=1,bl(i,An(s,i.current)),Pe=null;return}r.flags&32768?($e||c===1?i=!0:vr||(ze&536870912)!==0?i=!1:(ji=i=!0,(c===2||c===9||c===3||c===6)&&(c=Dn.current,c!==null&&c.tag===13&&(c.flags|=16384))),gy(r,i)):kl(r)}function kl(i){var r=i;do{if((r.flags&32768)!==0){gy(r,ji);return}i=r.return;var s=oA(r.alternate,r,Ti);if(s!==null){Pe=s;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=i}while(r!==null);dt===0&&(dt=5)}function gy(i,r){do{var s=sA(i.alternate,i);if(s!==null){s.flags&=32767,Pe=s;return}if(s=i.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(i=i.sibling,i!==null)){Pe=i;return}Pe=i=s}while(i!==null);dt=6,Pe=null}function yy(i,r,s,c,p,b,A,w,O){i.cancelPendingCommit=null;do Nl();while(Lt!==0);if((Xe&6)!==0)throw Error(a(327));if(r!==null){if(r===i.current)throw Error(a(177));if(b=r.lanes|r.childLanes,b|=pc,ge(i,s,b,A,w,O),i===it&&(Pe=it=null,ze=0),Tr=r,Ui=i,Sr=s,Tf=b,Sf=p,sy=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,vA(ri,function(){return Sy(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=F.T,F.T=null,p=_.p,_.p=2,A=Xe,Xe|=4;try{lA(i,r,s)}finally{Xe=A,_.p=p,F.T=c}}Lt=1,xy(),vy(),by()}}function xy(){if(Lt===1){Lt=0;var i=Ui,r=Tr,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var c=_.p;_.p=2;var p=Xe;Xe|=4;try{ey(r,i);var b=Ff,A=op(i.containerInfo),w=b.focusedElem,O=b.selectionRange;if(A!==w&&w&&w.ownerDocument&&rp(w.ownerDocument.documentElement,w)){if(O!==null&&cc(w)){var W=O.start,ie=O.end;if(ie===void 0&&(ie=W),"selectionStart"in w)w.selectionStart=W,w.selectionEnd=Math.min(ie,w.value.length);else{var le=w.ownerDocument||document,Q=le&&le.defaultView||window;if(Q.getSelection){var J=Q.getSelection(),we=w.textContent.length,Ae=Math.min(O.start,we),Ze=O.end===void 0?Ae:Math.min(O.end,we);!J.extend&&Ae>Ze&&(A=Ze,Ze=Ae,Ae=A);var Y=ap(w,Ae),H=ap(w,Ze);if(Y&&H&&(J.rangeCount!==1||J.anchorNode!==Y.node||J.anchorOffset!==Y.offset||J.focusNode!==H.node||J.focusOffset!==H.offset)){var X=le.createRange();X.setStart(Y.node,Y.offset),J.removeAllRanges(),Ae>Ze?(J.addRange(X),J.extend(H.node,H.offset)):(X.setEnd(H.node,H.offset),J.addRange(X))}}}}for(le=[],J=w;J=J.parentNode;)J.nodeType===1&&le.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<le.length;w++){var se=le[w];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Hl=!!Bf,Ff=Bf=null}finally{Xe=p,_.p=c,F.T=s}}i.current=r,Lt=2}}function vy(){if(Lt===2){Lt=0;var i=Ui,r=Tr,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var c=_.p;_.p=2;var p=Xe;Xe|=4;try{Wg(i,r.alternate,r)}finally{Xe=p,_.p=c,F.T=s}}Lt=3}}function by(){if(Lt===4||Lt===3){Lt=0,un();var i=Ui,r=Tr,s=Sr,c=sy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Lt=5:(Lt=0,Tr=Ui=null,Ty(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Hi=null),ot(s),r=r.stateNode,me&&typeof me.onCommitFiberRoot=="function")try{me.onCommitFiberRoot(ee,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=F.T,p=_.p,_.p=2,F.T=null;try{for(var b=i.onRecoverableError,A=0;A<c.length;A++){var w=c[A];b(w.value,{componentStack:w.stack})}}finally{F.T=r,_.p=p}}(Sr&3)!==0&&Nl(),Jn(i),p=i.pendingLanes,(s&4194090)!==0&&(p&42)!==0?i===Cf?Oo++:(Oo=0,Cf=i):Oo=0,Bo(0)}}function Ty(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,go(r)))}function Nl(i){return xy(),vy(),by(),Sy()}function Sy(){if(Lt!==5)return!1;var i=Ui,r=Tf;Tf=0;var s=ot(Sr),c=F.T,p=_.p;try{_.p=32>s?32:s,F.T=null,s=Sf,Sf=null;var b=Ui,A=Sr;if(Lt=0,Tr=Ui=null,Sr=0,(Xe&6)!==0)throw Error(a(331));var w=Xe;if(Xe|=4,ry(b.current),ny(b,b.current,A,s),Xe=w,Bo(0,!1),me&&typeof me.onPostCommitFiberRoot=="function")try{me.onPostCommitFiberRoot(ee,b)}catch{}return!0}finally{_.p=p,F.T=c,Ty(i,r)}}function Cy(i,r,s){r=An(s,r),r=ef(i.stateNode,r,2),i=_i(i,r,2),i!==null&&(Z(i,2),Jn(i))}function et(i,r,s){if(i.tag===3)Cy(i,i,s);else for(;r!==null;){if(r.tag===3){Cy(r,i,s);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Hi===null||!Hi.has(c))){i=An(s,i),s=wg(2),c=_i(r,s,2),c!==null&&(Dg(s,c,r,i),Z(c,2),Jn(c));break}}r=r.return}}function wf(i,r,s){var c=i.pingCache;if(c===null){c=i.pingCache=new fA;var p=new Set;c.set(r,p)}else p=c.get(r),p===void 0&&(p=new Set,c.set(r,p));p.has(s)||(yf=!0,p.add(s),i=gA.bind(null,i,r,s),r.then(i,i))}function gA(i,r,s){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&s,i.warmLanes&=~s,it===i&&(ze&s)===s&&(dt===4||dt===3&&(ze&62914560)===ze&&300>Bt()-bf?(Xe&2)===0&&Cr(i,0):xf|=s,br===ze&&(br=0)),Jn(i)}function Ay(i,r){r===0&&(r=Qr()),i=rr(i,r),i!==null&&(Z(i,r),Jn(i))}function yA(i){var r=i.memoizedState,s=0;r!==null&&(s=r.retryLane),Ay(i,s)}function xA(i,r){var s=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(s=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(r),Ay(i,s)}function vA(i,r){return nt(i,r)}var Rl=null,Er=null,Df=!1,Il=!1,kf=!1,Na=0;function Jn(i){i!==Er&&i.next===null&&(Er===null?Rl=Er=i:Er=Er.next=i),Il=!0,Df||(Df=!0,TA())}function Bo(i,r){if(!kf&&Il){kf=!0;do for(var s=!1,c=Rl;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var b=0;else{var A=c.suspendedLanes,w=c.pingedLanes;b=(1<<31-Ce(42|i)+1)-1,b&=p&~(A&~w),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(s=!0,Dy(c,b))}else b=ze,b=pt(c,c===it?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(b&3)===0||Jt(c,b)||(s=!0,Dy(c,b));c=c.next}while(s);kf=!1}}function bA(){Ey()}function Ey(){Il=Df=!1;var i=0;Na!==0&&(kA()&&(i=Na),Na=0);for(var r=Bt(),s=null,c=Rl;c!==null;){var p=c.next,b=My(c,r);b===0?(c.next=null,s===null?Rl=p:s.next=p,p===null&&(Er=s)):(s=c,(i!==0||(b&3)!==0)&&(Il=!0)),c=p}Bo(i)}function My(i,r){for(var s=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var A=31-Ce(b),w=1<<A,O=p[A];O===-1?((w&s)===0||(w&c)!==0)&&(p[A]=cn(w,r)):O<=r&&(i.expiredLanes|=w),b&=~w}if(r=it,s=ze,s=pt(i,i===r?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,s===0||i===r&&(We===2||We===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&rt(c),i.callbackNode=null,i.callbackPriority=0;if((s&3)===0||Jt(i,s)){if(r=s&-s,r===i.callbackPriority)return r;switch(c!==null&&rt(c),ot(s)){case 2:case 8:s=ai;break;case 32:s=ri;break;case 268435456:s=Ya;break;default:s=ri}return c=wy.bind(null,i),s=nt(s,c),i.callbackPriority=r,i.callbackNode=s,r}return c!==null&&c!==null&&rt(c),i.callbackPriority=2,i.callbackNode=null,2}function wy(i,r){if(Lt!==0&&Lt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var s=i.callbackNode;if(Nl()&&i.callbackNode!==s)return null;var c=ze;return c=pt(i,i===it?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(uy(i,c,r),My(i,Bt()),i.callbackNode!=null&&i.callbackNode===s?wy.bind(null,i):null)}function Dy(i,r){if(Nl())return null;uy(i,r,!0)}function TA(){RA(function(){(Xe&6)!==0?nt(Et,bA):Ey()})}function Nf(){return Na===0&&(Na=fn()),Na}function ky(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Us(""+i)}function Ny(i,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,i.id&&s.setAttribute("form",i.id),r.parentNode.insertBefore(s,r),i=new FormData(i),s.parentNode.removeChild(s),i}function SA(i,r,s,c,p){if(r==="submit"&&s&&s.stateNode===p){var b=ky((p[zt]||null).action),A=c.submitter;A&&(r=(r=A[zt]||null)?ky(r.formAction):A.getAttribute("formAction"),r!==null&&(b=r,A=null));var w=new $s("action","action",null,c,p);i.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Na!==0){var O=A?Ny(p,A):new FormData(p);Xc(s,{pending:!0,data:O,method:p.method,action:b},null,O)}}else typeof b=="function"&&(w.preventDefault(),O=A?Ny(p,A):new FormData(p),Xc(s,{pending:!0,data:O,method:p.method,action:b},b,O))},currentTarget:p}]})}}for(var Rf=0;Rf<hc.length;Rf++){var If=hc[Rf],CA=If.toLowerCase(),AA=If[0].toUpperCase()+If.slice(1);jn(CA,"on"+AA)}jn(up,"onAnimationEnd"),jn(cp,"onAnimationIteration"),jn(fp,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(zC,"onTransitionRun"),jn(HC,"onTransitionStart"),jn(UC,"onTransitionCancel"),jn(dp,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fo));function Ry(i,r){r=(r&4)!==0;for(var s=0;s<i.length;s++){var c=i[s],p=c.event;c=c.listeners;e:{var b=void 0;if(r)for(var A=c.length-1;0<=A;A--){var w=c[A],O=w.instance,W=w.currentTarget;if(w=w.listener,O!==b&&p.isPropagationStopped())break e;b=w,p.currentTarget=W;try{b(p)}catch(ie){vl(ie)}p.currentTarget=null,b=O}else for(A=0;A<c.length;A++){if(w=c[A],O=w.instance,W=w.currentTarget,w=w.listener,O!==b&&p.isPropagationStopped())break e;b=w,p.currentTarget=W;try{b(p)}catch(ie){vl(ie)}p.currentTarget=null,b=O}}}}function Oe(i,r){var s=r[Jr];s===void 0&&(s=r[Jr]=new Set);var c=i+"__bubble";s.has(c)||(Iy(r,i,2,!1),s.add(c))}function _f(i,r,s){var c=0;r&&(c|=4),Iy(s,i,c,r)}var _l="_reactListening"+Math.random().toString(36).slice(2);function Lf(i){if(!i[_l]){i[_l]=!0,Zt.forEach(function(s){s!=="selectionchange"&&(EA.has(s)||_f(s,!1,i),_f(s,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[_l]||(r[_l]=!0,_f("selectionchange",!1,r))}}function Iy(i,r,s,c){switch(n0(r)){case 2:var p=JA;break;case 8:p=ZA;break;default:p=Kf}s=p.bind(null,r,s,i),p=void 0,!tc||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(r,s,{capture:!0,passive:p}):i.addEventListener(r,s,!0):p!==void 0?i.addEventListener(r,s,{passive:p}):i.addEventListener(r,s,!1)}function Pf(i,r,s,c,p){var b=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var w=c.stateNode.containerInfo;if(w===p)break;if(A===4)for(A=c.return;A!==null;){var O=A.tag;if((O===3||O===4)&&A.stateNode.containerInfo===p)return;A=A.return}for(;w!==null;){if(A=wi(w),A===null)return;if(O=A.tag,O===5||O===6||O===26||O===27){c=b=A;continue e}w=w.parentNode}}c=c.return}Vh(function(){var W=b,ie=Zu(s),le=[];e:{var Q=mp.get(i);if(Q!==void 0){var J=$s,we=i;switch(i){case"keypress":if(Gs(s)===0)break e;case"keydown":case"keyup":J=vC;break;case"focusin":we="focus",J=rc;break;case"focusout":we="blur",J=rc;break;case"beforeblur":case"afterblur":J=rc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=sC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=SC;break;case up:case cp:case fp:J=cC;break;case dp:J=AC;break;case"scroll":case"scrollend":J=rC;break;case"wheel":J=MC;break;case"copy":case"cut":case"paste":J=dC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=qh;break;case"toggle":case"beforetoggle":J=DC}var Ae=(r&4)!==0,Ze=!Ae&&(i==="scroll"||i==="scrollend"),Y=Ae?Q!==null?Q+"Capture":null:Q;Ae=[];for(var H=W,X;H!==null;){var se=H;if(X=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||X===null||Y===null||(se=no(H,Y),se!=null&&Ae.push(Vo(H,se,X))),Ze)break;H=H.return}0<Ae.length&&(Q=new J(Q,we,null,s,ie),le.push({event:Q,listeners:Ae}))}}if((r&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",Q&&s!==Ju&&(we=s.relatedTarget||s.fromElement)&&(wi(we)||we[Mi]))break e;if((J||Q)&&(Q=ie.window===ie?ie:(Q=ie.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(we=s.relatedTarget||s.toElement,J=W,we=we?wi(we):null,we!==null&&(Ze=l(we),Ae=we.tag,we!==Ze||Ae!==5&&Ae!==27&&Ae!==6)&&(we=null)):(J=null,we=W),J!==we)){if(Ae=Hh,se="onMouseLeave",Y="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(Ae=qh,se="onPointerLeave",Y="onPointerEnter",H="pointer"),Ze=J==null?Q:da(J),X=we==null?Q:da(we),Q=new Ae(se,H+"leave",J,s,ie),Q.target=Ze,Q.relatedTarget=X,se=null,wi(ie)===W&&(Ae=new Ae(Y,H+"enter",we,s,ie),Ae.target=X,Ae.relatedTarget=Ze,se=Ae),Ze=se,J&&we)t:{for(Ae=J,Y=we,H=0,X=Ae;X;X=Mr(X))H++;for(X=0,se=Y;se;se=Mr(se))X++;for(;0<H-X;)Ae=Mr(Ae),H--;for(;0<X-H;)Y=Mr(Y),X--;for(;H--;){if(Ae===Y||Y!==null&&Ae===Y.alternate)break t;Ae=Mr(Ae),Y=Mr(Y)}Ae=null}else Ae=null;J!==null&&_y(le,Q,J,Ae,!1),we!==null&&Ze!==null&&_y(le,Ze,we,Ae,!0)}}e:{if(Q=W?da(W):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var xe=Jh;else if(Wh(Q))if(Zh)xe=FC;else{xe=OC;var Le=PC}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?W&&Qu(W.elementType)&&(xe=Jh):xe=BC;if(xe&&(xe=xe(i,W))){Qh(le,xe,s,ie);break e}Le&&Le(i,Q,W),i==="focusout"&&W&&Q.type==="number"&&W.memoizedProps.value!=null&&Wu(Q,"number",Q.value)}switch(Le=W?da(W):window,i){case"focusin":(Wh(Le)||Le.contentEditable==="true")&&(nr=Le,fc=W,co=null);break;case"focusout":co=fc=nr=null;break;case"mousedown":dc=!0;break;case"contextmenu":case"mouseup":case"dragend":dc=!1,sp(le,s,ie);break;case"selectionchange":if(jC)break;case"keydown":case"keyup":sp(le,s,ie)}var be;if(sc)e:{switch(i){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else tr?Kh(i,s)&&(Me="onCompositionEnd"):i==="keydown"&&s.keyCode===229&&(Me="onCompositionStart");Me&&(Gh&&s.locale!=="ko"&&(tr||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&tr&&(be=jh()):(ki=ie,nc="value"in ki?ki.value:ki.textContent,tr=!0)),Le=Ll(W,Me),0<Le.length&&(Me=new Uh(Me,i,null,s,ie),le.push({event:Me,listeners:Le}),be?Me.data=be:(be=Xh(s),be!==null&&(Me.data=be)))),(be=NC?RC(i,s):IC(i,s))&&(Me=Ll(W,"onBeforeInput"),0<Me.length&&(Le=new Uh("onBeforeInput","beforeinput",null,s,ie),le.push({event:Le,listeners:Me}),Le.data=be)),SA(le,i,W,s,ie)}Ry(le,r)})}function Vo(i,r,s){return{instance:i,listener:r,currentTarget:s}}function Ll(i,r){for(var s=r+"Capture",c=[];i!==null;){var p=i,b=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=no(i,s),p!=null&&c.unshift(Vo(i,p,b)),p=no(i,r),p!=null&&c.push(Vo(i,p,b))),i.tag===3)return c;i=i.return}return[]}function Mr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function _y(i,r,s,c,p){for(var b=r._reactName,A=[];s!==null&&s!==c;){var w=s,O=w.alternate,W=w.stateNode;if(w=w.tag,O!==null&&O===c)break;w!==5&&w!==26&&w!==27||W===null||(O=W,p?(W=no(s,b),W!=null&&A.unshift(Vo(s,W,O))):p||(W=no(s,b),W!=null&&A.push(Vo(s,W,O)))),s=s.return}A.length!==0&&i.push({event:r,listeners:A})}var MA=/\r\n?/g,wA=/\u0000|\uFFFD/g;function Ly(i){return(typeof i=="string"?i:""+i).replace(MA,`
`).replace(wA,"")}function Py(i,r){return r=Ly(r),Ly(i)===r}function Pl(){}function Je(i,r,s,c,p,b){switch(s){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Ja(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Ja(i,""+c);break;case"className":js(i,"class",c);break;case"tabIndex":js(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":js(i,s,c);break;case"style":Bh(i,c,b);break;case"data":if(r!=="object"){js(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||s!=="href")){i.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(s);break}c=Us(""+c),i.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(s==="formAction"?(r!=="input"&&Je(i,r,"name",p.name,p,null),Je(i,r,"formEncType",p.formEncType,p,null),Je(i,r,"formMethod",p.formMethod,p,null),Je(i,r,"formTarget",p.formTarget,p,null)):(Je(i,r,"encType",p.encType,p,null),Je(i,r,"method",p.method,p,null),Je(i,r,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(s);break}c=Us(""+c),i.setAttribute(s,c);break;case"onClick":c!=null&&(i.onclick=Pl);break;case"onScroll":c!=null&&Oe("scroll",i);break;case"onScrollEnd":c!=null&&Oe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(s=c.__html,s!=null){if(p.children!=null)throw Error(a(60));i.innerHTML=s}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}s=Us(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(s,""+c):i.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(s,""):i.removeAttribute(s);break;case"capture":case"download":c===!0?i.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(s,c):i.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(s,c):i.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(s):i.setAttribute(s,c);break;case"popover":Oe("beforetoggle",i),Oe("toggle",i),Vs(i,"popover",c);break;case"xlinkActuate":li(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":li(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":li(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":li(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":li(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":li(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":li(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":li(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":li(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Vs(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=iC.get(s)||s,Vs(i,s,c))}}function Of(i,r,s,c,p,b){switch(s){case"style":Bh(i,c,b);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(s=c.__html,s!=null){if(p.children!=null)throw Error(a(60));i.innerHTML=s}}break;case"children":typeof c=="string"?Ja(i,c):(typeof c=="number"||typeof c=="bigint")&&Ja(i,""+c);break;case"onScroll":c!=null&&Oe("scroll",i);break;case"onScrollEnd":c!=null&&Oe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Pl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!si.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(p=s.endsWith("Capture"),r=s.slice(2,p?s.length-7:void 0),b=i[zt]||null,b=b!=null?b[s]:null,typeof b=="function"&&i.removeEventListener(r,b,p),typeof c=="function")){typeof b!="function"&&b!==null&&(s in i?i[s]=null:i.hasAttribute(s)&&i.removeAttribute(s)),i.addEventListener(r,c,p);break e}s in i?i[s]=c:c===!0?i.setAttribute(s,""):Vs(i,s,c)}}}function Pt(i,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",i),Oe("load",i);var c=!1,p=!1,b;for(b in s)if(s.hasOwnProperty(b)){var A=s[b];if(A!=null)switch(b){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Je(i,r,b,A,s,null)}}p&&Je(i,r,"srcSet",s.srcSet,s,null),c&&Je(i,r,"src",s.src,s,null);return;case"input":Oe("invalid",i);var w=b=A=p=null,O=null,W=null;for(c in s)if(s.hasOwnProperty(c)){var ie=s[c];if(ie!=null)switch(c){case"name":p=ie;break;case"type":A=ie;break;case"checked":O=ie;break;case"defaultChecked":W=ie;break;case"value":b=ie;break;case"defaultValue":w=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(a(137,r));break;default:Je(i,r,c,ie,s,null)}}_h(i,b,w,O,W,A,p,!1),zs(i);return;case"select":Oe("invalid",i),c=A=b=null;for(p in s)if(s.hasOwnProperty(p)&&(w=s[p],w!=null))switch(p){case"value":b=w;break;case"defaultValue":A=w;break;case"multiple":c=w;default:Je(i,r,p,w,s,null)}r=b,s=A,i.multiple=!!c,r!=null?Qa(i,!!c,r,!1):s!=null&&Qa(i,!!c,s,!0);return;case"textarea":Oe("invalid",i),b=p=c=null;for(A in s)if(s.hasOwnProperty(A)&&(w=s[A],w!=null))switch(A){case"value":c=w;break;case"defaultValue":p=w;break;case"children":b=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:Je(i,r,A,w,s,null)}Ph(i,c,p,b),zs(i);return;case"option":for(O in s)if(s.hasOwnProperty(O)&&(c=s[O],c!=null))switch(O){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Je(i,r,O,c,s,null)}return;case"dialog":Oe("beforetoggle",i),Oe("toggle",i),Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":Oe("load",i);break;case"video":case"audio":for(c=0;c<Fo.length;c++)Oe(Fo[c],i);break;case"image":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"embed":case"source":case"link":Oe("error",i),Oe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in s)if(s.hasOwnProperty(W)&&(c=s[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Je(i,r,W,c,s,null)}return;default:if(Qu(r)){for(ie in s)s.hasOwnProperty(ie)&&(c=s[ie],c!==void 0&&Of(i,r,ie,c,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(c=s[w],c!=null&&Je(i,r,w,c,s,null))}function DA(i,r,s,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,A=null,w=null,O=null,W=null,ie=null;for(J in s){var le=s[J];if(s.hasOwnProperty(J)&&le!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":O=le;default:c.hasOwnProperty(J)||Je(i,r,J,null,c,le)}}for(var Q in c){var J=c[Q];if(le=s[Q],c.hasOwnProperty(Q)&&(J!=null||le!=null))switch(Q){case"type":b=J;break;case"name":p=J;break;case"checked":W=J;break;case"defaultChecked":ie=J;break;case"value":A=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,r));break;default:J!==le&&Je(i,r,Q,J,c,le)}}Xu(i,A,w,O,W,ie,b,p);return;case"select":J=A=w=Q=null;for(b in s)if(O=s[b],s.hasOwnProperty(b)&&O!=null)switch(b){case"value":break;case"multiple":J=O;default:c.hasOwnProperty(b)||Je(i,r,b,null,c,O)}for(p in c)if(b=c[p],O=s[p],c.hasOwnProperty(p)&&(b!=null||O!=null))switch(p){case"value":Q=b;break;case"defaultValue":w=b;break;case"multiple":A=b;default:b!==O&&Je(i,r,p,b,c,O)}r=w,s=A,c=J,Q!=null?Qa(i,!!s,Q,!1):!!c!=!!s&&(r!=null?Qa(i,!!s,r,!0):Qa(i,!!s,s?[]:"",!1));return;case"textarea":J=Q=null;for(w in s)if(p=s[w],s.hasOwnProperty(w)&&p!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Je(i,r,w,null,c,p)}for(A in c)if(p=c[A],b=s[A],c.hasOwnProperty(A)&&(p!=null||b!=null))switch(A){case"value":Q=p;break;case"defaultValue":J=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==b&&Je(i,r,A,p,c,b)}Lh(i,Q,J);return;case"option":for(var we in s)if(Q=s[we],s.hasOwnProperty(we)&&Q!=null&&!c.hasOwnProperty(we))switch(we){case"selected":i.selected=!1;break;default:Je(i,r,we,null,c,Q)}for(O in c)if(Q=c[O],J=s[O],c.hasOwnProperty(O)&&Q!==J&&(Q!=null||J!=null))switch(O){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Je(i,r,O,Q,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in s)Q=s[Ae],s.hasOwnProperty(Ae)&&Q!=null&&!c.hasOwnProperty(Ae)&&Je(i,r,Ae,null,c,Q);for(W in c)if(Q=c[W],J=s[W],c.hasOwnProperty(W)&&Q!==J&&(Q!=null||J!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,r));break;default:Je(i,r,W,Q,c,J)}return;default:if(Qu(r)){for(var Ze in s)Q=s[Ze],s.hasOwnProperty(Ze)&&Q!==void 0&&!c.hasOwnProperty(Ze)&&Of(i,r,Ze,void 0,c,Q);for(ie in c)Q=c[ie],J=s[ie],!c.hasOwnProperty(ie)||Q===J||Q===void 0&&J===void 0||Of(i,r,ie,Q,c,J);return}}for(var Y in s)Q=s[Y],s.hasOwnProperty(Y)&&Q!=null&&!c.hasOwnProperty(Y)&&Je(i,r,Y,null,c,Q);for(le in c)Q=c[le],J=s[le],!c.hasOwnProperty(le)||Q===J||Q==null&&J==null||Je(i,r,le,Q,c,J)}var Bf=null,Ff=null;function Ol(i){return i.nodeType===9?i:i.ownerDocument}function Oy(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function By(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Vf(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var jf=null;function kA(){var i=window.event;return i&&i.type==="popstate"?i===jf?!1:(jf=i,!0):(jf=null,!1)}var Fy=typeof setTimeout=="function"?setTimeout:void 0,NA=typeof clearTimeout=="function"?clearTimeout:void 0,Vy=typeof Promise=="function"?Promise:void 0,RA=typeof queueMicrotask=="function"?queueMicrotask:typeof Vy<"u"?function(i){return Vy.resolve(null).then(i).catch(IA)}:Fy;function IA(i){setTimeout(function(){throw i})}function Gi(i){return i==="head"}function jy(i,r){var s=r,c=0,p=0;do{var b=s.nextSibling;if(i.removeChild(s),b&&b.nodeType===8)if(s=b.data,s==="/$"){if(0<c&&8>c){s=c;var A=i.ownerDocument;if(s&1&&jo(A.documentElement),s&2&&jo(A.body),s&4)for(s=A.head,jo(s),A=s.firstChild;A;){var w=A.nextSibling,O=A.nodeName;A[fa]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&A.rel.toLowerCase()==="stylesheet"||s.removeChild(A),A=w}}if(p===0){i.removeChild(b),Ko(r);return}p--}else s==="$"||s==="$?"||s==="$!"?p++:c=s.charCodeAt(0)-48;else c=0;s=b}while(s);Ko(r)}function zf(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":zf(s),Zr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}i.removeChild(s)}}function _A(i,r,s,c){for(;i.nodeType===1;){var p=s;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[fa])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Hn(i.nextSibling),i===null)break}return null}function LA(i,r,s){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Hn(i.nextSibling),i===null))return null;return i}function Hf(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function PA(i,r){var s=i.ownerDocument;if(i.data!=="$?"||s.readyState==="complete")r();else{var c=function(){r(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Hn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Uf=null;function zy(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var s=i.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return i;r--}else s==="/$"&&r++}i=i.previousSibling}return null}function Hy(i,r,s){switch(r=Ol(s),i){case"html":if(i=r.documentElement,!i)throw Error(a(452));return i;case"head":if(i=r.head,!i)throw Error(a(453));return i;case"body":if(i=r.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function jo(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Zr(i)}var Nn=new Map,Uy=new Set;function Bl(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Si=_.d;_.d={f:OA,r:BA,D:FA,C:VA,L:jA,m:zA,X:UA,S:HA,M:qA};function OA(){var i=Si.f(),r=Dl();return i||r}function BA(i){var r=oi(i);r!==null&&r.tag===5&&r.type==="form"?ug(r):Si.r(i)}var wr=typeof document>"u"?null:document;function qy(i,r,s){var c=wr;if(c&&typeof r=="string"&&r){var p=Cn(r);p='link[rel="'+i+'"][href="'+p+'"]',typeof s=="string"&&(p+='[crossorigin="'+s+'"]'),Uy.has(p)||(Uy.add(p),i={rel:i,crossOrigin:s,href:r},c.querySelector(p)===null&&(r=c.createElement("link"),Pt(r,"link",i),vt(r),c.head.appendChild(r)))}}function FA(i){Si.D(i),qy("dns-prefetch",i,null)}function VA(i,r){Si.C(i,r),qy("preconnect",i,r)}function jA(i,r,s){Si.L(i,r,s);var c=wr;if(c&&i&&r){var p='link[rel="preload"][as="'+Cn(r)+'"]';r==="image"&&s&&s.imageSrcSet?(p+='[imagesrcset="'+Cn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(p+='[imagesizes="'+Cn(s.imageSizes)+'"]')):p+='[href="'+Cn(i)+'"]';var b=p;switch(r){case"style":b=Dr(i);break;case"script":b=kr(i)}Nn.has(b)||(i=h({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:i,as:r},s),Nn.set(b,i),c.querySelector(p)!==null||r==="style"&&c.querySelector(zo(b))||r==="script"&&c.querySelector(Ho(b))||(r=c.createElement("link"),Pt(r,"link",i),vt(r),c.head.appendChild(r)))}}function zA(i,r){Si.m(i,r);var s=wr;if(s&&i){var c=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Cn(c)+'"][href="'+Cn(i)+'"]',b=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=kr(i)}if(!Nn.has(b)&&(i=h({rel:"modulepreload",href:i},r),Nn.set(b,i),s.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ho(b)))return}c=s.createElement("link"),Pt(c,"link",i),vt(c),s.head.appendChild(c)}}}function HA(i,r,s){Si.S(i,r,s);var c=wr;if(c&&i){var p=ma(c).hoistableStyles,b=Dr(i);r=r||"default";var A=p.get(b);if(!A){var w={loading:0,preload:null};if(A=c.querySelector(zo(b)))w.loading=5;else{i=h({rel:"stylesheet",href:i,"data-precedence":r},s),(s=Nn.get(b))&&qf(i,s);var O=A=c.createElement("link");vt(O),Pt(O,"link",i),O._p=new Promise(function(W,ie){O.onload=W,O.onerror=ie}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Fl(A,r,c)}A={type:"stylesheet",instance:A,count:1,state:w},p.set(b,A)}}}function UA(i,r){Si.X(i,r);var s=wr;if(s&&i){var c=ma(s).hoistableScripts,p=kr(i),b=c.get(p);b||(b=s.querySelector(Ho(p)),b||(i=h({src:i,async:!0},r),(r=Nn.get(p))&&Gf(i,r),b=s.createElement("script"),vt(b),Pt(b,"link",i),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(p,b))}}function qA(i,r){Si.M(i,r);var s=wr;if(s&&i){var c=ma(s).hoistableScripts,p=kr(i),b=c.get(p);b||(b=s.querySelector(Ho(p)),b||(i=h({src:i,async:!0,type:"module"},r),(r=Nn.get(p))&&Gf(i,r),b=s.createElement("script"),vt(b),Pt(b,"link",i),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(p,b))}}function Gy(i,r,s,c){var p=(p=oe.current)?Bl(p):null;if(!p)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Dr(s.href),s=ma(p).hoistableStyles,c=s.get(r),c||(c={type:"style",instance:null,count:0,state:null},s.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){i=Dr(s.href);var b=ma(p).hoistableStyles,A=b.get(i);if(A||(p=p.ownerDocument||p,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,A),(b=p.querySelector(zo(i)))&&!b._p&&(A.instance=b,A.state.loading=5),Nn.has(i)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Nn.set(i,s),b||GA(p,i,s,A.state))),r&&c===null)throw Error(a(528,""));return A}if(r&&c!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=kr(s),s=ma(p).hoistableScripts,c=s.get(r),c||(c={type:"script",instance:null,count:0,state:null},s.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function Dr(i){return'href="'+Cn(i)+'"'}function zo(i){return'link[rel="stylesheet"]['+i+"]"}function Yy(i){return h({},i,{"data-precedence":i.precedence,precedence:null})}function GA(i,r,s,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Pt(r,"link",s),vt(r),i.head.appendChild(r))}function kr(i){return'[src="'+Cn(i)+'"]'}function Ho(i){return"script[async]"+i}function $y(i,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Cn(s.href)+'"]');if(c)return r.instance=c,vt(c),c;var p=h({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),vt(c),Pt(c,"style",p),Fl(c,s.precedence,i),r.instance=c;case"stylesheet":p=Dr(s.href);var b=i.querySelector(zo(p));if(b)return r.state.loading|=4,r.instance=b,vt(b),b;c=Yy(s),(p=Nn.get(p))&&qf(c,p),b=(i.ownerDocument||i).createElement("link"),vt(b);var A=b;return A._p=new Promise(function(w,O){A.onload=w,A.onerror=O}),Pt(b,"link",c),r.state.loading|=4,Fl(b,s.precedence,i),r.instance=b;case"script":return b=kr(s.src),(p=i.querySelector(Ho(b)))?(r.instance=p,vt(p),p):(c=s,(p=Nn.get(b))&&(c=h({},s),Gf(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),vt(p),Pt(p,"link",c),i.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Fl(c,s.precedence,i));return r.instance}function Fl(i,r,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,b=p,A=0;A<c.length;A++){var w=c[A];if(w.dataset.precedence===r)b=w;else if(b!==p)break}b?b.parentNode.insertBefore(i,b.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(i,r.firstChild))}function qf(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Gf(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Vl=null;function Ky(i,r,s){if(Vl===null){var c=new Map,p=Vl=new Map;p.set(s,c)}else p=Vl,c=p.get(s),c||(c=new Map,p.set(s,c));if(c.has(i))return c;for(c.set(i,null),s=s.getElementsByTagName(i),p=0;p<s.length;p++){var b=s[p];if(!(b[fa]||b[kt]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(r)||"";A=i+A;var w=c.get(A);w?w.push(b):c.set(A,[b])}}return c}function Xy(i,r,s){i=i.ownerDocument||i,i.head.insertBefore(s,r==="title"?i.querySelector("head > title"):null)}function YA(i,r,s){if(s===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Wy(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Uo=null;function $A(){}function KA(i,r,s){if(Uo===null)throw Error(a(475));var c=Uo;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=Dr(s.href),b=i.querySelector(zo(p));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=jl.bind(c),i.then(c,c)),r.state.loading|=4,r.instance=b,vt(b);return}b=i.ownerDocument||i,s=Yy(s),(p=Nn.get(p))&&qf(s,p),b=b.createElement("link"),vt(b);var A=b;A._p=new Promise(function(w,O){A.onload=w,A.onerror=O}),Pt(b,"link",s),r.instance=b}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(c.count++,r=jl.bind(c),i.addEventListener("load",r),i.addEventListener("error",r))}}function XA(){if(Uo===null)throw Error(a(475));var i=Uo;return i.stylesheets&&i.count===0&&Yf(i,i.stylesheets),0<i.count?function(r){var s=setTimeout(function(){if(i.stylesheets&&Yf(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(s)}}:null}function jl(){if(this.count--,this.count===0){if(this.stylesheets)Yf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var zl=null;function Yf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,zl=new Map,r.forEach(WA,i),zl=null,jl.call(i))}function WA(i,r){if(!(r.state.loading&4)){var s=zl.get(i);if(s)var c=s.get(null);else{s=new Map,zl.set(i,s);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var A=p[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(s.set(A.dataset.precedence,A),c=A)}c&&s.set(null,c)}p=r.instance,A=p.getAttribute("data-precedence"),b=s.get(A)||c,b===c&&s.set(null,p),s.set(A,p),this.count++,c=jl.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),b?b.parentNode.insertBefore(p,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),r.state.loading|=4}}var qo={$$typeof:P,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function QA(i,r,s,c,p,b,A,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ka(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.hiddenUpdates=Ka(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Qy(i,r,s,c,p,b,A,w,O,W,ie,le){return i=new QA(i,r,s,A,w,O,W,le),r=1,b===!0&&(r|=24),b=mn(3,null,null,r),i.current=b,b.stateNode=i,r=Mc(),r.refCount++,i.pooledCache=r,r.refCount++,b.memoizedState={element:c,isDehydrated:s,cache:r},Nc(b),i}function Jy(i){return i?(i=or,i):or}function Zy(i,r,s,c,p,b){p=Jy(p),c.context===null?c.context=p:c.pendingContext=p,c=Ii(r),c.payload={element:s},b=b===void 0?null:b,b!==null&&(c.callback=b),s=_i(i,c,r),s!==null&&(xn(s,i,r),bo(s,i,r))}function e0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var s=i.retryLane;i.retryLane=s!==0&&s<r?s:r}}function $f(i,r){e0(i,r),(i=i.alternate)&&e0(i,r)}function t0(i){if(i.tag===13){var r=rr(i,67108864);r!==null&&xn(r,i,67108864),$f(i,67108864)}}var Hl=!0;function JA(i,r,s,c){var p=F.T;F.T=null;var b=_.p;try{_.p=2,Kf(i,r,s,c)}finally{_.p=b,F.T=p}}function ZA(i,r,s,c){var p=F.T;F.T=null;var b=_.p;try{_.p=8,Kf(i,r,s,c)}finally{_.p=b,F.T=p}}function Kf(i,r,s,c){if(Hl){var p=Xf(c);if(p===null)Pf(i,r,c,Ul,s),i0(i,c);else if(tE(p,i,r,s,c))c.stopPropagation();else if(i0(i,c),r&4&&-1<eE.indexOf(i)){for(;p!==null;){var b=oi(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=Kt(b.pendingLanes);if(A!==0){var w=b;for(w.pendingLanes|=2,w.entangledLanes|=2;A;){var O=1<<31-Ce(A);w.entanglements[1]|=O,A&=~O}Jn(b),(Xe&6)===0&&(Ml=Bt()+500,Bo(0))}}break;case 13:w=rr(b,2),w!==null&&xn(w,b,2),Dl(),$f(b,2)}if(b=Xf(c),b===null&&Pf(i,r,c,Ul,s),b===p)break;p=b}p!==null&&c.stopPropagation()}else Pf(i,r,c,null,s)}}function Xf(i){return i=Zu(i),Wf(i)}var Ul=null;function Wf(i){if(Ul=null,i=wi(i),i!==null){var r=l(i);if(r===null)i=null;else{var s=r.tag;if(s===13){if(i=u(r),i!==null)return i;i=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Ul=i,null}function n0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qa()){case Et:return 2;case ai:return 8;case ri:case Ga:return 32;case Ya:return 268435456;default:return 32}default:return 32}}var Qf=!1,Yi=null,$i=null,Ki=null,Go=new Map,Yo=new Map,Xi=[],eE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i0(i,r){switch(i){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Go.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(r.pointerId)}}function $o(i,r,s,c,p,b){return i===null||i.nativeEvent!==b?(i={blockedOn:r,domEventName:s,eventSystemFlags:c,nativeEvent:b,targetContainers:[p]},r!==null&&(r=oi(r),r!==null&&t0(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),i)}function tE(i,r,s,c,p){switch(r){case"focusin":return Yi=$o(Yi,i,r,s,c,p),!0;case"dragenter":return $i=$o($i,i,r,s,c,p),!0;case"mouseover":return Ki=$o(Ki,i,r,s,c,p),!0;case"pointerover":var b=p.pointerId;return Go.set(b,$o(Go.get(b)||null,i,r,s,c,p)),!0;case"gotpointercapture":return b=p.pointerId,Yo.set(b,$o(Yo.get(b)||null,i,r,s,c,p)),!0}return!1}function a0(i){var r=wi(i.target);if(r!==null){var s=l(r);if(s!==null){if(r=s.tag,r===13){if(r=u(s),r!==null){i.blockedOn=r,Gu(i.priority,function(){if(s.tag===13){var c=yn();c=jt(c);var p=rr(s,c);p!==null&&xn(p,s,c),$f(s,c)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){i.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ql(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var s=Xf(i.nativeEvent);if(s===null){s=i.nativeEvent;var c=new s.constructor(s.type,s);Ju=c,s.target.dispatchEvent(c),Ju=null}else return r=oi(s),r!==null&&t0(r),i.blockedOn=s,!1;r.shift()}return!0}function r0(i,r,s){ql(i)&&s.delete(r)}function nE(){Qf=!1,Yi!==null&&ql(Yi)&&(Yi=null),$i!==null&&ql($i)&&($i=null),Ki!==null&&ql(Ki)&&(Ki=null),Go.forEach(r0),Yo.forEach(r0)}function Gl(i,r){i.blockedOn===r&&(i.blockedOn=null,Qf||(Qf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nE)))}var Yl=null;function o0(i){Yl!==i&&(Yl=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yl===i&&(Yl=null);for(var r=0;r<i.length;r+=3){var s=i[r],c=i[r+1],p=i[r+2];if(typeof c!="function"){if(Wf(c||s)===null)continue;break}var b=oi(s);b!==null&&(i.splice(r,3),r-=3,Xc(b,{pending:!0,data:p,method:s.method,action:c},c,p))}}))}function Ko(i){function r(O){return Gl(O,i)}Yi!==null&&Gl(Yi,i),$i!==null&&Gl($i,i),Ki!==null&&Gl(Ki,i),Go.forEach(r),Yo.forEach(r);for(var s=0;s<Xi.length;s++){var c=Xi[s];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Xi.length&&(s=Xi[0],s.blockedOn===null);)a0(s),s.blockedOn===null&&Xi.shift();if(s=(i.ownerDocument||i).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var p=s[c],b=s[c+1],A=p[zt]||null;if(typeof b=="function")A||o0(s);else if(A){var w=null;if(b&&b.hasAttribute("formAction")){if(p=b,A=b[zt]||null)w=A.formAction;else if(Wf(p)!==null)continue}else w=A.action;typeof w=="function"?s[c+1]=w:(s.splice(c,3),c-=3),o0(s)}}}function Jf(i){this._internalRoot=i}$l.prototype.render=Jf.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,c=yn();Zy(s,c,i,r,null,null)},$l.prototype.unmount=Jf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Zy(i.current,2,null,i,null,null),Dl(),r[Mi]=null}};function $l(i){this._internalRoot=i}$l.prototype.unstable_scheduleHydration=function(i){if(i){var r=Os();i={blockedOn:null,target:i,priority:r};for(var s=0;s<Xi.length&&r!==0&&r<Xi[s].priority;s++);Xi.splice(s,0,i),s===0&&a0(i)}};var s0=t.version;if(s0!=="19.1.0")throw Error(a(527,s0,"19.1.0"));_.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=m(r),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var iE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{ee=Kl.inject(iE),me=Kl}catch{}}return Wo.createRoot=function(i,r){if(!o(i))throw Error(a(299));var s=!1,c="",p=Cg,b=Ag,A=Eg,w=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=Qy(i,1,!1,null,null,s,c,p,b,A,w,null),i[Mi]=r.current,Lf(i),new Jf(r)},Wo.hydrateRoot=function(i,r,s){if(!o(i))throw Error(a(299));var c=!1,p="",b=Cg,A=Ag,w=Eg,O=null,W=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(A=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(O=s.unstable_transitionCallbacks),s.formState!==void 0&&(W=s.formState)),r=Qy(i,1,!0,r,s??null,c,p,b,A,w,O,W),r.context=Jy(null),s=r.current,c=yn(),c=jt(c),p=Ii(c),p.callback=null,_i(s,p,c),s=c,r.current.lanes=s,Z(r,s),Jn(r),i[Mi]=r.current,Lf(i),new $l(r)},Wo.version="19.1.0",Wo}var y0;function hE(){if(y0)return td.exports;y0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),td.exports=mE(),td.exports}var pE=hE();const gE=ws(pE);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let yE,xE;function vE(){return{geminiUrl:yE,vertexUrl:xE}}function bE(e,t,n){var a,o,l;if(!(!((a=e.httpOptions)===null||a===void 0)&&a.baseUrl)){const u=vE();return e.vertexai?(o=u.vertexUrl)!==null&&o!==void 0?o:t:(l=u.geminiUrl)!==null&&l!==void 0?l:n}return e.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ds{}function ke(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(a,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const l=t[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function v(e,t,n){for(let l=0;l<t.length-1;l++){const u=t[l];if(u.endsWith("[]")){const f=u.slice(0,-2);if(!(f in e))if(Array.isArray(n))e[f]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(e[f])){const m=e[f];if(Array.isArray(n))for(let d=0;d<m.length;d++){const h=m[d];v(h,t.slice(l+1),n[d])}else for(const d of m)v(d,t.slice(l+1),n)}return}else if(u.endsWith("[0]")){const f=u.slice(0,-3);f in e||(e[f]=[{}]);const m=e[f];v(m[0],t.slice(l+1),n);return}(!e[u]||typeof e[u]!="object")&&(e[u]={}),e=e[u]}const a=t[t.length-1],o=e[a];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else e[a]=n}function x(e,t){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return;const a=t[n];if(a.endsWith("[]")){const o=a.slice(0,-2);if(o in e){const l=e[o];return Array.isArray(l)?l.map(u=>x(u,t.slice(n+1))):void 0}else return}else e=e[a]}return e}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ht(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function U1(e,t){const n=ht(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function q1(e,t){return Array.isArray(t)?t.map(n=>vu(e,n)):[vu(e,t)]}function vu(e,t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function TE(e,t){const n=vu(e,t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function SE(e,t){const n=vu(e,t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function x0(e,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function G1(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>x0(e,n)):[x0(e,t)]}function zd(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function v0(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function b0(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function on(e,t){if(t==null)throw new Error("ContentUnion is required");return zd(t)?t:{role:"user",parts:G1(e,t)}}function Y1(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const a=on(e,n);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(e.isVertexAI()){const n=on(e,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>on(e,n)):[on(e,t)]}function ra(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(v0(t)||b0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[on(e,t)]}const n=[],a=[],o=zd(t[0]);for(const l of t){const u=zd(l);if(u!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)n.push(l);else{if(v0(l)||b0(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");a.push(l)}}return o||n.push({role:"user",parts:G1(e,a)}),n}function $1(e,t){return t}function K1(e,t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Lu(e,t){return t}function Pu(e,t){if(!Array.isArray(t))throw new Error("tool is required and must be an array of Tools");return t}function CE(e,t,n,a=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===a;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function oa(e,t){if(typeof t!="string")throw new Error("name must be a string");return CE(e,t,"cachedContents")}function X1(e,t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function sa(e,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function W1(e,t){if(typeof t!="string")throw new Error("fromName must be a string");return t.startsWith("files/")?t.split("files/")[1]:t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AE(e,t){const n={};if(x(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const a=x(t,["thought"]);a!=null&&v(n,["thought"],a);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const m=x(t,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const h=x(t,["text"]);return h!=null&&v(n,["text"],h),n}function T0(e,t){const n={},a=x(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>AE(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function EE(){return{}}function ME(e,t){const n={},a=x(t,["mode"]);a!=null&&v(n,["mode"],a);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function wE(e,t){const n={},a=x(t,["dynamicRetrievalConfig"]);return a!=null&&v(n,["dynamicRetrievalConfig"],ME(e,a)),n}function DE(e,t){const n={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");x(t,["googleSearch"])!=null&&v(n,["googleSearch"],EE());const o=x(t,["googleSearchRetrieval"]);o!=null&&v(n,["googleSearchRetrieval"],wE(e,o));const l=x(t,["codeExecution"]);l!=null&&v(n,["codeExecution"],l);const u=x(t,["functionDeclarations"]);return u!=null&&v(n,["functionDeclarations"],u),n}function kE(e,t){const n={},a=x(t,["mode"]);a!=null&&v(n,["mode"],a);const o=x(t,["allowedFunctionNames"]);return o!=null&&v(n,["allowedFunctionNames"],o),n}function NE(e,t){const n={},a=x(t,["functionCallingConfig"]);return a!=null&&v(n,["functionCallingConfig"],kE(e,a)),n}function RE(e,t,n){const a={},o=x(t,["ttl"]);n!==void 0&&o!=null&&v(n,["ttl"],o);const l=x(t,["expireTime"]);n!==void 0&&l!=null&&v(n,["expireTime"],l);const u=x(t,["displayName"]);n!==void 0&&u!=null&&v(n,["displayName"],u);const f=x(t,["contents"]);if(n!==void 0&&f!=null){let y=ra(e,f);Array.isArray(y)&&(y=y.map(T=>T0(e,T))),v(n,["contents"],y)}const m=x(t,["systemInstruction"]);n!==void 0&&m!=null&&v(n,["systemInstruction"],T0(e,on(e,m)));const d=x(t,["tools"]);if(n!==void 0&&d!=null){let y=d;Array.isArray(y)&&(y=y.map(T=>DE(e,T))),v(n,["tools"],y)}const h=x(t,["toolConfig"]);return n!==void 0&&h!=null&&v(n,["toolConfig"],NE(e,h)),a}function IE(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["model"],U1(e,a));const o=x(t,["config"]);return o!=null&&v(n,["config"],RE(e,o,n)),n}function _E(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["_url","name"],oa(e,a));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function LE(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["_url","name"],oa(e,a));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function PE(e,t,n){const a={},o=x(t,["ttl"]);n!==void 0&&o!=null&&v(n,["ttl"],o);const l=x(t,["expireTime"]);return n!==void 0&&l!=null&&v(n,["expireTime"],l),a}function OE(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["_url","name"],oa(e,a));const o=x(t,["config"]);return o!=null&&v(n,["config"],PE(e,o,n)),n}function BE(e,t,n){const a={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);return n!==void 0&&l!=null&&v(n,["_query","pageToken"],l),a}function FE(e,t){const n={},a=x(t,["config"]);return a!=null&&v(n,["config"],BE(e,a,n)),n}function VE(e,t){const n={},a=x(t,["videoMetadata"]);a!=null&&v(n,["videoMetadata"],a);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const m=x(t,["functionCall"]);m!=null&&v(n,["functionCall"],m);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const h=x(t,["inlineData"]);h!=null&&v(n,["inlineData"],h);const y=x(t,["text"]);return y!=null&&v(n,["text"],y),n}function S0(e,t){const n={},a=x(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>VE(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function jE(){return{}}function zE(e,t){const n={},a=x(t,["mode"]);a!=null&&v(n,["mode"],a);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function HE(e,t){const n={},a=x(t,["dynamicRetrievalConfig"]);return a!=null&&v(n,["dynamicRetrievalConfig"],zE(e,a)),n}function UE(e,t){const n={},a=x(t,["retrieval"]);a!=null&&v(n,["retrieval"],a),x(t,["googleSearch"])!=null&&v(n,["googleSearch"],jE());const l=x(t,["googleSearchRetrieval"]);l!=null&&v(n,["googleSearchRetrieval"],HE(e,l));const u=x(t,["codeExecution"]);u!=null&&v(n,["codeExecution"],u);const f=x(t,["functionDeclarations"]);return f!=null&&v(n,["functionDeclarations"],f),n}function qE(e,t){const n={},a=x(t,["mode"]);a!=null&&v(n,["mode"],a);const o=x(t,["allowedFunctionNames"]);return o!=null&&v(n,["allowedFunctionNames"],o),n}function GE(e,t){const n={},a=x(t,["functionCallingConfig"]);return a!=null&&v(n,["functionCallingConfig"],qE(e,a)),n}function YE(e,t,n){const a={},o=x(t,["ttl"]);n!==void 0&&o!=null&&v(n,["ttl"],o);const l=x(t,["expireTime"]);n!==void 0&&l!=null&&v(n,["expireTime"],l);const u=x(t,["displayName"]);n!==void 0&&u!=null&&v(n,["displayName"],u);const f=x(t,["contents"]);if(n!==void 0&&f!=null){let y=ra(e,f);Array.isArray(y)&&(y=y.map(T=>S0(e,T))),v(n,["contents"],y)}const m=x(t,["systemInstruction"]);n!==void 0&&m!=null&&v(n,["systemInstruction"],S0(e,on(e,m)));const d=x(t,["tools"]);if(n!==void 0&&d!=null){let y=d;Array.isArray(y)&&(y=y.map(T=>UE(e,T))),v(n,["tools"],y)}const h=x(t,["toolConfig"]);return n!==void 0&&h!=null&&v(n,["toolConfig"],GE(e,h)),a}function $E(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["model"],U1(e,a));const o=x(t,["config"]);return o!=null&&v(n,["config"],YE(e,o,n)),n}function KE(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["_url","name"],oa(e,a));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function XE(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["_url","name"],oa(e,a));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function WE(e,t,n){const a={},o=x(t,["ttl"]);n!==void 0&&o!=null&&v(n,["ttl"],o);const l=x(t,["expireTime"]);return n!==void 0&&l!=null&&v(n,["expireTime"],l),a}function QE(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["_url","name"],oa(e,a));const o=x(t,["config"]);return o!=null&&v(n,["config"],WE(e,o,n)),n}function JE(e,t,n){const a={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);return n!==void 0&&l!=null&&v(n,["_query","pageToken"],l),a}function ZE(e,t){const n={},a=x(t,["config"]);return a!=null&&v(n,["config"],JE(e,a,n)),n}function uu(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["name"],a);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["model"]);l!=null&&v(n,["model"],l);const u=x(t,["createTime"]);u!=null&&v(n,["createTime"],u);const f=x(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const m=x(t,["expireTime"]);m!=null&&v(n,["expireTime"],m);const d=x(t,["usageMetadata"]);return d!=null&&v(n,["usageMetadata"],d),n}function eM(){return{}}function tM(e,t){const n={},a=x(t,["nextPageToken"]);a!=null&&v(n,["nextPageToken"],a);const o=x(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>uu(e,u))),v(n,["cachedContents"],l)}return n}function cu(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["name"],a);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["model"]);l!=null&&v(n,["model"],l);const u=x(t,["createTime"]);u!=null&&v(n,["createTime"],u);const f=x(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const m=x(t,["expireTime"]);m!=null&&v(n,["expireTime"],m);const d=x(t,["usageMetadata"]);return d!=null&&v(n,["usageMetadata"],d),n}function nM(){return{}}function iM(e,t){const n={},a=x(t,["nextPageToken"]);a!=null&&v(n,["nextPageToken"],a);const o=x(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>cu(e,u))),v(n,["cachedContents"],l)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gs;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(gs||(gs={}));class Rm{constructor(t,n,a,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,a,o)}init(t,n,a){var o,l;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let u={config:{}};a?typeof a=="object"?u=Object.assign({},a):u=a:u={config:{}},u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var C0;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(C0||(C0={}));var A0;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(A0||(A0={}));var E0;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(E0||(E0={}));var M0;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(M0||(M0={}));var w0;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(w0||(w0={}));var D0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(D0||(D0={}));var k0;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT"})(k0||(k0={}));var N0;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY"})(N0||(N0={}));var R0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(R0||(R0={}));var I0;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(I0||(I0={}));var _0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(_0||(_0={}));var L0;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(L0||(L0={}));var bu;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(bu||(bu={}));var P0;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(P0||(P0={}));var Hd;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Hd||(Hd={}));var O0;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(O0||(O0={}));var B0;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(B0||(B0={}));var F0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(F0||(F0={}));var V0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(V0||(V0={}));var j0;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(j0||(j0={}));var z0;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(z0||(z0={}));var H0;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"})(H0||(H0={}));var U0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(U0||(U0={}));var q0;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(q0||(q0={}));var G0;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(G0||(G0={}));var Y0;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Y0||(Y0={}));var $0;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})($0||($0={}));var K0;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(K0||(K0={}));var X0;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(X0||(X0={}));var W0;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(W0||(W0={}));var Q0;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Q0||(Q0={}));var J0;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(J0||(J0={}));class Xl{get text(){var t,n,a,o,l,u,f,m;if(((o=(a=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const y=[];for(const T of(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&m!==void 0?m:[]){for(const[S,E]of Object.entries(T))S!=="text"&&S!=="thought"&&(E!==null||E!==void 0)&&y.push(S);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;h=!0,d+=T.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var t,n,a,o,l,u,f,m;if(((o=(a=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const y of(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&m!==void 0?m:[]){for(const[T,S]of Object.entries(y))T!=="inlineData"&&(S!==null||S!==void 0)&&h.push(T);y.inlineData&&typeof y.inlineData.data=="string"&&(d+=atob(y.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,a,o,l,u,f,m;if(((o=(a=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,a,o,l,u,f,m,d;if(((o=(a=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,a,o,l,u,f,m,d;if(((o=(a=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class Z0{}class ex{}class tx{}class nx{}class aM{}class ix{}class ax{}class rx{}class rM{}class Ud{constructor(t){const n={};for(const a of t.headers.entries())n[a[0]]=a[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class oM{}class sM{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lM extends Ds{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Rm(gs.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(n),n)}async create(t){var n,a,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=$E(this.apiClient,t);return f=ke("cachedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(h=>cu(this.apiClient,h))}else{const d=IE(this.apiClient,t);return f=ke("cachedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>uu(this.apiClient,h))}}async get(t){var n,a,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=KE(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(h=>cu(this.apiClient,h))}else{const d=_E(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>uu(this.apiClient,h))}}async delete(t){var n,a,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=XE(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(()=>{const h=nM(),y=new ax;return Object.assign(y,h),y})}else{const d=LE(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(()=>{const h=eM(),y=new ax;return Object.assign(y,h),y})}}async update(t){var n,a,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=QE(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(h=>cu(this.apiClient,h))}else{const d=OE(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>uu(this.apiClient,h))}}async listInternal(t){var n,a,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=ZE(this.apiClient,t);return f=ke("cachedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(h=>{const y=iM(this.apiClient,h),T=new rx;return Object.assign(T,y),T})}else{const d=FE(this.apiClient,t);return f=ke("cachedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const y=tM(this.apiClient,h),T=new rx;return Object.assign(T,y),T})}}}function ox(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qt(e){return this instanceof qt?(this.v=e,this):new qt(e)}function Tu(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,t||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(S){return function(E){return Promise.resolve(E).then(S,y)}}function f(S,E){a[S]&&(o[S]=function(k){return new Promise(function(I,N){l.push([S,k,I,N])>1||m(S,k)})},E&&(o[S]=E(o[S])))}function m(S,E){try{d(a[S](E))}catch(k){T(l[0][3],k)}}function d(S){S.value instanceof qt?Promise.resolve(S.value.v).then(h,y):T(l[0][2],S)}function h(S){m("next",S)}function y(S){m("throw",S)}function T(S,E){S(E),l.shift(),l.length&&m(l[0][0],l[0][1])}}function qd(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ox=="function"?ox(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(l){n[l]=e[l]&&function(u){return new Promise(function(f,m){u=e[l](u),o(f,m,u.done,u.value)})}}function o(l,u,f,m){Promise.resolve(m).then(function(d){l({value:d,done:f})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uM(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Q1(n)}function Q1(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0||t.text!==void 0&&t.text==="")return!1;return!0}function cM(e){if(e.length!==0){if(e[0].role!=="user")throw new Error("History must start with a user turn.");for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function fM(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let a=0,o=e[0];for(;a<n;)if(e[a].role==="user")o=e[a],a++;else{const l=[];let u=!0;for(;a<n&&e[a].role==="model";)l.push(e[a]),u&&!Q1(e[a])&&(u=!1),a++;u&&(t.push(o),t.push(...l))}return t}class dM{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new mM(this.apiClient,this.modelsModule,t.model,t.config,t.history)}}class mM{constructor(t,n,a,o={},l=[]){this.apiClient=t,this.modelsModule=n,this.model=a,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),cM(l)}async sendMessage(t){var n;await this.sendPromise;const a=on(this.apiClient,t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,u;const m=(u=(l=(await o).candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,d=m?[m]:[];this.recordHistory(a,d)})(),await this.sendPromise,o}async sendMessageStream(t){var n;await this.sendPromise;const a=on(this.apiClient,t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,a)}getHistory(t=!1){return t?fM(this.history):this.history}processStreamResponse(t,n){var a,o;return Tu(this,arguments,function*(){var u,f,m,d;const h=[];try{for(var y=!0,T=qd(t),S;S=yield qt(T.next()),u=S.done,!u;y=!0){d=S.value,y=!1;const E=d;if(uM(E)){const k=(o=(a=E.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content;k!==void 0&&h.push(k)}yield yield qt(E)}}catch(E){f={error:E}}finally{try{!y&&!u&&(m=T.return)&&(yield qt(m.call(T)))}finally{if(f)throw f.error}}this.recordHistory(n,h)})}recordHistory(t,n){let a=[];n.length>0&&n.every(o=>o.role==="model")?a=n:a.push({role:"model",parts:[]}),this.history.push(t),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hM(e,t,n){const a={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);return n!==void 0&&l!=null&&v(n,["_query","pageToken"],l),a}function pM(e,t){const n={},a=x(t,["config"]);return a!=null&&v(n,["config"],hM(e,a,n)),n}function gM(e,t){const n={},a=x(t,["details"]);a!=null&&v(n,["details"],a);const o=x(t,["message"]);o!=null&&v(n,["message"],o);const l=x(t,["code"]);return l!=null&&v(n,["code"],l),n}function yM(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["name"],a);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["mimeType"]);l!=null&&v(n,["mimeType"],l);const u=x(t,["sizeBytes"]);u!=null&&v(n,["sizeBytes"],u);const f=x(t,["createTime"]);f!=null&&v(n,["createTime"],f);const m=x(t,["expirationTime"]);m!=null&&v(n,["expirationTime"],m);const d=x(t,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=x(t,["sha256Hash"]);h!=null&&v(n,["sha256Hash"],h);const y=x(t,["uri"]);y!=null&&v(n,["uri"],y);const T=x(t,["downloadUri"]);T!=null&&v(n,["downloadUri"],T);const S=x(t,["state"]);S!=null&&v(n,["state"],S);const E=x(t,["source"]);E!=null&&v(n,["source"],E);const k=x(t,["videoMetadata"]);k!=null&&v(n,["videoMetadata"],k);const I=x(t,["error"]);return I!=null&&v(n,["error"],gM(e,I)),n}function xM(e,t){const n={},a=x(t,["file"]);a!=null&&v(n,["file"],yM(e,a));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function vM(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["_url","file"],W1(e,a));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function bM(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["_url","file"],W1(e,a));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function TM(e,t){const n={},a=x(t,["details"]);a!=null&&v(n,["details"],a);const o=x(t,["message"]);o!=null&&v(n,["message"],o);const l=x(t,["code"]);return l!=null&&v(n,["code"],l),n}function Gd(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["name"],a);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["mimeType"]);l!=null&&v(n,["mimeType"],l);const u=x(t,["sizeBytes"]);u!=null&&v(n,["sizeBytes"],u);const f=x(t,["createTime"]);f!=null&&v(n,["createTime"],f);const m=x(t,["expirationTime"]);m!=null&&v(n,["expirationTime"],m);const d=x(t,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=x(t,["sha256Hash"]);h!=null&&v(n,["sha256Hash"],h);const y=x(t,["uri"]);y!=null&&v(n,["uri"],y);const T=x(t,["downloadUri"]);T!=null&&v(n,["downloadUri"],T);const S=x(t,["state"]);S!=null&&v(n,["state"],S);const E=x(t,["source"]);E!=null&&v(n,["source"],E);const k=x(t,["videoMetadata"]);k!=null&&v(n,["videoMetadata"],k);const I=x(t,["error"]);return I!=null&&v(n,["error"],TM(e,I)),n}function SM(e,t){const n={},a=x(t,["nextPageToken"]);a!=null&&v(n,["nextPageToken"],a);const o=x(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Gd(e,u))),v(n,["files"],l)}return n}function CM(){return{}}function AM(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EM extends Ds{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Rm(gs.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>Gd(this.apiClient,n))}async listInternal(t){var n,a;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=pM(this.apiClient,t);return l=ke("files",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),o.then(m=>{const d=SM(this.apiClient,m),h=new rM;return Object.assign(h,d),h})}}async createInternal(t){var n,a;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=xM(this.apiClient,t);return l=ke("upload/v1beta/files",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),o.then(()=>{const m=CM(),d=new oM;return Object.assign(d,m),d})}}async get(t){var n,a;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=vM(this.apiClient,t);return l=ke("files/{file}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),o.then(m=>Gd(this.apiClient,m))}}async delete(t){var n,a;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=bM(this.apiClient,t);return l=ke("files/{file}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),o.then(()=>{const m=AM(),d=new sM;return Object.assign(d,m),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MM(e,t){const n={};if(x(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const a=x(t,["thought"]);a!=null&&v(n,["thought"],a);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const m=x(t,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const h=x(t,["text"]);return h!=null&&v(n,["text"],h),n}function wM(e,t){const n={},a=x(t,["videoMetadata"]);a!=null&&v(n,["videoMetadata"],a);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const m=x(t,["functionCall"]);m!=null&&v(n,["functionCall"],m);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const h=x(t,["inlineData"]);h!=null&&v(n,["inlineData"],h);const y=x(t,["text"]);return y!=null&&v(n,["text"],y),n}function DM(e,t){const n={},a=x(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>MM(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function kM(e,t){const n={},a=x(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>wM(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function NM(){return{}}function RM(){return{}}function IM(e,t){const n={},a=x(t,["mode"]);a!=null&&v(n,["mode"],a);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function _M(e,t){const n={},a=x(t,["mode"]);a!=null&&v(n,["mode"],a);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function LM(e,t){const n={},a=x(t,["dynamicRetrievalConfig"]);return a!=null&&v(n,["dynamicRetrievalConfig"],IM(e,a)),n}function PM(e,t){const n={},a=x(t,["dynamicRetrievalConfig"]);return a!=null&&v(n,["dynamicRetrievalConfig"],_M(e,a)),n}function OM(e,t){const n={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");x(t,["googleSearch"])!=null&&v(n,["googleSearch"],NM());const o=x(t,["googleSearchRetrieval"]);o!=null&&v(n,["googleSearchRetrieval"],LM(e,o));const l=x(t,["codeExecution"]);l!=null&&v(n,["codeExecution"],l);const u=x(t,["functionDeclarations"]);return u!=null&&v(n,["functionDeclarations"],u),n}function BM(e,t){const n={},a=x(t,["retrieval"]);a!=null&&v(n,["retrieval"],a),x(t,["googleSearch"])!=null&&v(n,["googleSearch"],RM());const l=x(t,["googleSearchRetrieval"]);l!=null&&v(n,["googleSearchRetrieval"],PM(e,l));const u=x(t,["codeExecution"]);u!=null&&v(n,["codeExecution"],u);const f=x(t,["functionDeclarations"]);return f!=null&&v(n,["functionDeclarations"],f),n}function FM(e,t){const n={},a=x(t,["handle"]);if(a!=null&&v(n,["handle"],a),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function VM(e,t){const n={},a=x(t,["handle"]);a!=null&&v(n,["handle"],a);const o=x(t,["transparent"]);return o!=null&&v(n,["transparent"],o),n}function jM(){return{}}function sx(){return{}}function zM(e,t){const n={},a=x(t,["disabled"]);a!=null&&v(n,["disabled"],a);const o=x(t,["startOfSpeechSensitivity"]);o!=null&&v(n,["startOfSpeechSensitivity"],o);const l=x(t,["endOfSpeechSensitivity"]);l!=null&&v(n,["endOfSpeechSensitivity"],l);const u=x(t,["prefixPaddingMs"]);u!=null&&v(n,["prefixPaddingMs"],u);const f=x(t,["silenceDurationMs"]);return f!=null&&v(n,["silenceDurationMs"],f),n}function HM(e,t){const n={},a=x(t,["disabled"]);a!=null&&v(n,["disabled"],a);const o=x(t,["startOfSpeechSensitivity"]);o!=null&&v(n,["startOfSpeechSensitivity"],o);const l=x(t,["endOfSpeechSensitivity"]);l!=null&&v(n,["endOfSpeechSensitivity"],l);const u=x(t,["prefixPaddingMs"]);u!=null&&v(n,["prefixPaddingMs"],u);const f=x(t,["silenceDurationMs"]);return f!=null&&v(n,["silenceDurationMs"],f),n}function UM(e,t){const n={},a=x(t,["automaticActivityDetection"]);a!=null&&v(n,["automaticActivityDetection"],zM(e,a));const o=x(t,["activityHandling"]);o!=null&&v(n,["activityHandling"],o);const l=x(t,["turnCoverage"]);return l!=null&&v(n,["turnCoverage"],l),n}function qM(e,t){const n={},a=x(t,["automaticActivityDetection"]);a!=null&&v(n,["automaticActivityDetection"],HM(e,a));const o=x(t,["activityHandling"]);o!=null&&v(n,["activityHandling"],o);const l=x(t,["turnCoverage"]);return l!=null&&v(n,["turnCoverage"],l),n}function GM(e,t){const n={},a=x(t,["targetTokens"]);return a!=null&&v(n,["targetTokens"],a),n}function YM(e,t){const n={},a=x(t,["targetTokens"]);return a!=null&&v(n,["targetTokens"],a),n}function $M(e,t){const n={},a=x(t,["triggerTokens"]);a!=null&&v(n,["triggerTokens"],a);const o=x(t,["slidingWindow"]);return o!=null&&v(n,["slidingWindow"],GM(e,o)),n}function KM(e,t){const n={},a=x(t,["triggerTokens"]);a!=null&&v(n,["triggerTokens"],a);const o=x(t,["slidingWindow"]);return o!=null&&v(n,["slidingWindow"],YM(e,o)),n}function XM(e,t,n){const a={},o=x(t,["generationConfig"]);n!==void 0&&o!=null&&v(n,["setup","generationConfig"],o);const l=x(t,["responseModalities"]);n!==void 0&&l!=null&&v(n,["setup","generationConfig","responseModalities"],l);const u=x(t,["temperature"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","temperature"],u);const f=x(t,["topP"]);n!==void 0&&f!=null&&v(n,["setup","generationConfig","topP"],f);const m=x(t,["topK"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","topK"],m);const d=x(t,["maxOutputTokens"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","maxOutputTokens"],d);const h=x(t,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const y=x(t,["seed"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","seed"],y);const T=x(t,["speechConfig"]);n!==void 0&&T!=null&&v(n,["setup","generationConfig","speechConfig"],T);const S=x(t,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],DM(e,on(e,S)));const E=x(t,["tools"]);if(n!==void 0&&E!=null){let P=Pu(e,E);Array.isArray(P)&&(P=P.map($=>OM(e,Lu(e,$)))),v(n,["setup","tools"],P)}const k=x(t,["sessionResumption"]);if(n!==void 0&&k!=null&&v(n,["setup","sessionResumption"],FM(e,k)),x(t,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const I=x(t,["outputAudioTranscription"]);n!==void 0&&I!=null&&v(n,["setup","outputAudioTranscription"],jM());const N=x(t,["realtimeInputConfig"]);n!==void 0&&N!=null&&v(n,["setup","realtimeInputConfig"],UM(e,N));const V=x(t,["contextWindowCompression"]);return n!==void 0&&V!=null&&v(n,["setup","contextWindowCompression"],$M(e,V)),a}function WM(e,t,n){const a={},o=x(t,["generationConfig"]);n!==void 0&&o!=null&&v(n,["setup","generationConfig"],o);const l=x(t,["responseModalities"]);n!==void 0&&l!=null&&v(n,["setup","generationConfig","responseModalities"],l);const u=x(t,["temperature"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","temperature"],u);const f=x(t,["topP"]);n!==void 0&&f!=null&&v(n,["setup","generationConfig","topP"],f);const m=x(t,["topK"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","topK"],m);const d=x(t,["maxOutputTokens"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","maxOutputTokens"],d);const h=x(t,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const y=x(t,["seed"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","seed"],y);const T=x(t,["speechConfig"]);n!==void 0&&T!=null&&v(n,["setup","generationConfig","speechConfig"],T);const S=x(t,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],kM(e,on(e,S)));const E=x(t,["tools"]);if(n!==void 0&&E!=null){let $=Pu(e,E);Array.isArray($)&&($=$.map(K=>BM(e,Lu(e,K)))),v(n,["setup","tools"],$)}const k=x(t,["sessionResumption"]);n!==void 0&&k!=null&&v(n,["setup","sessionResumption"],VM(e,k));const I=x(t,["inputAudioTranscription"]);n!==void 0&&I!=null&&v(n,["setup","inputAudioTranscription"],sx());const N=x(t,["outputAudioTranscription"]);n!==void 0&&N!=null&&v(n,["setup","outputAudioTranscription"],sx());const V=x(t,["realtimeInputConfig"]);n!==void 0&&V!=null&&v(n,["setup","realtimeInputConfig"],qM(e,V));const P=x(t,["contextWindowCompression"]);return n!==void 0&&P!=null&&v(n,["setup","contextWindowCompression"],KM(e,P)),a}function QM(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["setup","model"],ht(e,a));const o=x(t,["config"]);return o!=null&&v(n,["config"],XM(e,o,n)),n}function JM(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["setup","model"],ht(e,a));const o=x(t,["config"]);return o!=null&&v(n,["config"],WM(e,o,n)),n}function ZM(){return{}}function ew(){return{}}function tw(){return{}}function nw(){return{}}function iw(e,t){const n={},a=x(t,["media"]);a!=null&&v(n,["mediaChunks"],q1(e,a));const o=x(t,["audio"]);o!=null&&v(n,["audio"],SE(e,o));const l=x(t,["audioStreamEnd"]);l!=null&&v(n,["audioStreamEnd"],l);const u=x(t,["video"]);u!=null&&v(n,["video"],TE(e,u));const f=x(t,["text"]);return f!=null&&v(n,["text"],f),x(t,["activityStart"])!=null&&v(n,["activityStart"],ZM()),x(t,["activityEnd"])!=null&&v(n,["activityEnd"],tw()),n}function aw(e,t){const n={},a=x(t,["media"]);if(a!=null&&v(n,["mediaChunks"],q1(e,a)),x(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=x(t,["audioStreamEnd"]);if(o!=null&&v(n,["audioStreamEnd"],o),x(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(x(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return x(t,["activityStart"])!=null&&v(n,["activityStart"],ew()),x(t,["activityEnd"])!=null&&v(n,["activityEnd"],nw()),n}function rw(){return{}}function ow(){return{}}function sw(e,t){const n={},a=x(t,["thought"]);a!=null&&v(n,["thought"],a);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const m=x(t,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const h=x(t,["text"]);return h!=null&&v(n,["text"],h),n}function lw(e,t){const n={},a=x(t,["videoMetadata"]);a!=null&&v(n,["videoMetadata"],a);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const m=x(t,["functionCall"]);m!=null&&v(n,["functionCall"],m);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const h=x(t,["inlineData"]);h!=null&&v(n,["inlineData"],h);const y=x(t,["text"]);return y!=null&&v(n,["text"],y),n}function uw(e,t){const n={},a=x(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>sw(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function cw(e,t){const n={},a=x(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>lw(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function lx(e,t){const n={},a=x(t,["text"]);a!=null&&v(n,["text"],a);const o=x(t,["finished"]);return o!=null&&v(n,["finished"],o),n}function ux(e,t){const n={},a=x(t,["text"]);a!=null&&v(n,["text"],a);const o=x(t,["finished"]);return o!=null&&v(n,["finished"],o),n}function fw(e,t){const n={},a=x(t,["modelTurn"]);a!=null&&v(n,["modelTurn"],uw(e,a));const o=x(t,["turnComplete"]);o!=null&&v(n,["turnComplete"],o);const l=x(t,["interrupted"]);l!=null&&v(n,["interrupted"],l);const u=x(t,["groundingMetadata"]);u!=null&&v(n,["groundingMetadata"],u);const f=x(t,["generationComplete"]);f!=null&&v(n,["generationComplete"],f);const m=x(t,["inputTranscription"]);m!=null&&v(n,["inputTranscription"],lx(e,m));const d=x(t,["outputTranscription"]);return d!=null&&v(n,["outputTranscription"],lx(e,d)),n}function dw(e,t){const n={},a=x(t,["modelTurn"]);a!=null&&v(n,["modelTurn"],cw(e,a));const o=x(t,["turnComplete"]);o!=null&&v(n,["turnComplete"],o);const l=x(t,["interrupted"]);l!=null&&v(n,["interrupted"],l);const u=x(t,["groundingMetadata"]);u!=null&&v(n,["groundingMetadata"],u);const f=x(t,["generationComplete"]);f!=null&&v(n,["generationComplete"],f);const m=x(t,["inputTranscription"]);m!=null&&v(n,["inputTranscription"],ux(e,m));const d=x(t,["outputTranscription"]);return d!=null&&v(n,["outputTranscription"],ux(e,d)),n}function mw(e,t){const n={},a=x(t,["id"]);a!=null&&v(n,["id"],a);const o=x(t,["args"]);o!=null&&v(n,["args"],o);const l=x(t,["name"]);return l!=null&&v(n,["name"],l),n}function hw(e,t){const n={},a=x(t,["args"]);a!=null&&v(n,["args"],a);const o=x(t,["name"]);return o!=null&&v(n,["name"],o),n}function pw(e,t){const n={},a=x(t,["functionCalls"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>mw(e,l))),v(n,["functionCalls"],o)}return n}function gw(e,t){const n={},a=x(t,["functionCalls"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>hw(e,l))),v(n,["functionCalls"],o)}return n}function yw(e,t){const n={},a=x(t,["ids"]);return a!=null&&v(n,["ids"],a),n}function xw(e,t){const n={},a=x(t,["ids"]);return a!=null&&v(n,["ids"],a),n}function Wl(e,t){const n={},a=x(t,["modality"]);a!=null&&v(n,["modality"],a);const o=x(t,["tokenCount"]);return o!=null&&v(n,["tokenCount"],o),n}function Ql(e,t){const n={},a=x(t,["modality"]);a!=null&&v(n,["modality"],a);const o=x(t,["tokenCount"]);return o!=null&&v(n,["tokenCount"],o),n}function vw(e,t){const n={},a=x(t,["promptTokenCount"]);a!=null&&v(n,["promptTokenCount"],a);const o=x(t,["cachedContentTokenCount"]);o!=null&&v(n,["cachedContentTokenCount"],o);const l=x(t,["responseTokenCount"]);l!=null&&v(n,["responseTokenCount"],l);const u=x(t,["toolUsePromptTokenCount"]);u!=null&&v(n,["toolUsePromptTokenCount"],u);const f=x(t,["thoughtsTokenCount"]);f!=null&&v(n,["thoughtsTokenCount"],f);const m=x(t,["totalTokenCount"]);m!=null&&v(n,["totalTokenCount"],m);const d=x(t,["promptTokensDetails"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(E=>Wl(e,E))),v(n,["promptTokensDetails"],S)}const h=x(t,["cacheTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(E=>Wl(e,E))),v(n,["cacheTokensDetails"],S)}const y=x(t,["responseTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>Wl(e,E))),v(n,["responseTokensDetails"],S)}const T=x(t,["toolUsePromptTokensDetails"]);if(T!=null){let S=T;Array.isArray(S)&&(S=S.map(E=>Wl(e,E))),v(n,["toolUsePromptTokensDetails"],S)}return n}function bw(e,t){const n={},a=x(t,["promptTokenCount"]);a!=null&&v(n,["promptTokenCount"],a);const o=x(t,["cachedContentTokenCount"]);o!=null&&v(n,["cachedContentTokenCount"],o);const l=x(t,["candidatesTokenCount"]);l!=null&&v(n,["responseTokenCount"],l);const u=x(t,["toolUsePromptTokenCount"]);u!=null&&v(n,["toolUsePromptTokenCount"],u);const f=x(t,["thoughtsTokenCount"]);f!=null&&v(n,["thoughtsTokenCount"],f);const m=x(t,["totalTokenCount"]);m!=null&&v(n,["totalTokenCount"],m);const d=x(t,["promptTokensDetails"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(k=>Ql(e,k))),v(n,["promptTokensDetails"],E)}const h=x(t,["cacheTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(k=>Ql(e,k))),v(n,["cacheTokensDetails"],E)}const y=x(t,["candidatesTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(k=>Ql(e,k))),v(n,["responseTokensDetails"],E)}const T=x(t,["toolUsePromptTokensDetails"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(k=>Ql(e,k))),v(n,["toolUsePromptTokensDetails"],E)}const S=x(t,["trafficType"]);return S!=null&&v(n,["trafficType"],S),n}function Tw(e,t){const n={},a=x(t,["timeLeft"]);return a!=null&&v(n,["timeLeft"],a),n}function Sw(e,t){const n={},a=x(t,["timeLeft"]);return a!=null&&v(n,["timeLeft"],a),n}function Cw(e,t){const n={},a=x(t,["newHandle"]);a!=null&&v(n,["newHandle"],a);const o=x(t,["resumable"]);o!=null&&v(n,["resumable"],o);const l=x(t,["lastConsumedClientMessageIndex"]);return l!=null&&v(n,["lastConsumedClientMessageIndex"],l),n}function Aw(e,t){const n={},a=x(t,["newHandle"]);a!=null&&v(n,["newHandle"],a);const o=x(t,["resumable"]);o!=null&&v(n,["resumable"],o);const l=x(t,["lastConsumedClientMessageIndex"]);return l!=null&&v(n,["lastConsumedClientMessageIndex"],l),n}function Ew(e,t){const n={};x(t,["setupComplete"])!=null&&v(n,["setupComplete"],rw());const o=x(t,["serverContent"]);o!=null&&v(n,["serverContent"],fw(e,o));const l=x(t,["toolCall"]);l!=null&&v(n,["toolCall"],pw(e,l));const u=x(t,["toolCallCancellation"]);u!=null&&v(n,["toolCallCancellation"],yw(e,u));const f=x(t,["usageMetadata"]);f!=null&&v(n,["usageMetadata"],vw(e,f));const m=x(t,["goAway"]);m!=null&&v(n,["goAway"],Tw(e,m));const d=x(t,["sessionResumptionUpdate"]);return d!=null&&v(n,["sessionResumptionUpdate"],Cw(e,d)),n}function Mw(e,t){const n={};x(t,["setupComplete"])!=null&&v(n,["setupComplete"],ow());const o=x(t,["serverContent"]);o!=null&&v(n,["serverContent"],dw(e,o));const l=x(t,["toolCall"]);l!=null&&v(n,["toolCall"],gw(e,l));const u=x(t,["toolCallCancellation"]);u!=null&&v(n,["toolCallCancellation"],xw(e,u));const f=x(t,["usageMetadata"]);f!=null&&v(n,["usageMetadata"],bw(e,f));const m=x(t,["goAway"]);m!=null&&v(n,["goAway"],Sw(e,m));const d=x(t,["sessionResumptionUpdate"]);return d!=null&&v(n,["sessionResumptionUpdate"],Aw(e,d)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ww(e,t){const n={};if(x(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const a=x(t,["thought"]);a!=null&&v(n,["thought"],a);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const m=x(t,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const h=x(t,["text"]);return h!=null&&v(n,["text"],h),n}function Ou(e,t){const n={},a=x(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>ww(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function Dw(e,t){const n={};if(x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=x(t,["category"]);a!=null&&v(n,["category"],a);const o=x(t,["threshold"]);return o!=null&&v(n,["threshold"],o),n}function kw(){return{}}function Nw(e,t){const n={},a=x(t,["mode"]);a!=null&&v(n,["mode"],a);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function Rw(e,t){const n={},a=x(t,["dynamicRetrievalConfig"]);return a!=null&&v(n,["dynamicRetrievalConfig"],Nw(e,a)),n}function Iw(e,t){const n={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");x(t,["googleSearch"])!=null&&v(n,["googleSearch"],kw());const o=x(t,["googleSearchRetrieval"]);o!=null&&v(n,["googleSearchRetrieval"],Rw(e,o));const l=x(t,["codeExecution"]);l!=null&&v(n,["codeExecution"],l);const u=x(t,["functionDeclarations"]);return u!=null&&v(n,["functionDeclarations"],u),n}function _w(e,t){const n={},a=x(t,["mode"]);a!=null&&v(n,["mode"],a);const o=x(t,["allowedFunctionNames"]);return o!=null&&v(n,["allowedFunctionNames"],o),n}function Lw(e,t){const n={},a=x(t,["functionCallingConfig"]);return a!=null&&v(n,["functionCallingConfig"],_w(e,a)),n}function Pw(e,t){const n={},a=x(t,["voiceName"]);return a!=null&&v(n,["voiceName"],a),n}function Ow(e,t){const n={},a=x(t,["prebuiltVoiceConfig"]);return a!=null&&v(n,["prebuiltVoiceConfig"],Pw(e,a)),n}function Bw(e,t){const n={},a=x(t,["voiceConfig"]);a!=null&&v(n,["voiceConfig"],Ow(e,a));const o=x(t,["languageCode"]);return o!=null&&v(n,["languageCode"],o),n}function Fw(e,t){const n={},a=x(t,["includeThoughts"]);a!=null&&v(n,["includeThoughts"],a);const o=x(t,["thinkingBudget"]);return o!=null&&v(n,["thinkingBudget"],o),n}function Vw(e,t,n){const a={},o=x(t,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],Ou(e,on(e,o)));const l=x(t,["temperature"]);l!=null&&v(a,["temperature"],l);const u=x(t,["topP"]);u!=null&&v(a,["topP"],u);const f=x(t,["topK"]);f!=null&&v(a,["topK"],f);const m=x(t,["candidateCount"]);m!=null&&v(a,["candidateCount"],m);const d=x(t,["maxOutputTokens"]);d!=null&&v(a,["maxOutputTokens"],d);const h=x(t,["stopSequences"]);h!=null&&v(a,["stopSequences"],h);const y=x(t,["responseLogprobs"]);y!=null&&v(a,["responseLogprobs"],y);const T=x(t,["logprobs"]);T!=null&&v(a,["logprobs"],T);const S=x(t,["presencePenalty"]);S!=null&&v(a,["presencePenalty"],S);const E=x(t,["frequencyPenalty"]);E!=null&&v(a,["frequencyPenalty"],E);const k=x(t,["seed"]);k!=null&&v(a,["seed"],k);const I=x(t,["responseMimeType"]);I!=null&&v(a,["responseMimeType"],I);const N=x(t,["responseSchema"]);if(N!=null&&v(a,["responseSchema"],$1(e,N)),x(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const V=x(t,["safetySettings"]);if(n!==void 0&&V!=null){let L=V;Array.isArray(L)&&(L=L.map(G=>Dw(e,G))),v(n,["safetySettings"],L)}const P=x(t,["tools"]);if(n!==void 0&&P!=null){let L=Pu(e,P);Array.isArray(L)&&(L=L.map(G=>Iw(e,Lu(e,G)))),v(n,["tools"],L)}const $=x(t,["toolConfig"]);if(n!==void 0&&$!=null&&v(n,["toolConfig"],Lw(e,$)),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=x(t,["cachedContent"]);n!==void 0&&K!=null&&v(n,["cachedContent"],oa(e,K));const q=x(t,["responseModalities"]);q!=null&&v(a,["responseModalities"],q);const ce=x(t,["mediaResolution"]);ce!=null&&v(a,["mediaResolution"],ce);const ue=x(t,["speechConfig"]);if(ue!=null&&v(a,["speechConfig"],Bw(e,K1(e,ue))),x(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const pe=x(t,["thinkingConfig"]);return pe!=null&&v(a,["thinkingConfig"],Fw(e,pe)),a}function cx(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["_url","model"],ht(e,a));const o=x(t,["contents"]);if(o!=null){let u=ra(e,o);Array.isArray(u)&&(u=u.map(f=>Ou(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["generationConfig"],Vw(e,l,n)),n}function jw(e,t,n){const a={},o=x(t,["taskType"]);n!==void 0&&o!=null&&v(n,["requests[]","taskType"],o);const l=x(t,["title"]);n!==void 0&&l!=null&&v(n,["requests[]","title"],l);const u=x(t,["outputDimensionality"]);if(n!==void 0&&u!=null&&v(n,["requests[]","outputDimensionality"],u),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function zw(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["_url","model"],ht(e,a));const o=x(t,["contents"]);o!=null&&v(n,["requests[]","content"],Y1(e,o));const l=x(t,["config"]);l!=null&&v(n,["config"],jw(e,l,n));const u=x(t,["model"]);return u!==void 0&&v(n,["requests[]","model"],ht(e,u)),n}function Hw(e,t,n){const a={};if(x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=x(t,["numberOfImages"]);n!==void 0&&o!=null&&v(n,["parameters","sampleCount"],o);const l=x(t,["aspectRatio"]);n!==void 0&&l!=null&&v(n,["parameters","aspectRatio"],l);const u=x(t,["guidanceScale"]);if(n!==void 0&&u!=null&&v(n,["parameters","guidanceScale"],u),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=x(t,["safetyFilterLevel"]);n!==void 0&&f!=null&&v(n,["parameters","safetySetting"],f);const m=x(t,["personGeneration"]);n!==void 0&&m!=null&&v(n,["parameters","personGeneration"],m);const d=x(t,["includeSafetyAttributes"]);n!==void 0&&d!=null&&v(n,["parameters","includeSafetyAttributes"],d);const h=x(t,["includeRaiReason"]);n!==void 0&&h!=null&&v(n,["parameters","includeRaiReason"],h);const y=x(t,["language"]);n!==void 0&&y!=null&&v(n,["parameters","language"],y);const T=x(t,["outputMimeType"]);n!==void 0&&T!=null&&v(n,["parameters","outputOptions","mimeType"],T);const S=x(t,["outputCompressionQuality"]);if(n!==void 0&&S!=null&&v(n,["parameters","outputOptions","compressionQuality"],S),x(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function Uw(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["_url","model"],ht(e,a));const o=x(t,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const l=x(t,["config"]);return l!=null&&v(n,["config"],Hw(e,l,n)),n}function qw(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["_url","name"],ht(e,a));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function Gw(e,t,n){const a={},o=x(t,["displayName"]);n!==void 0&&o!=null&&v(n,["displayName"],o);const l=x(t,["description"]);return n!==void 0&&l!=null&&v(n,["description"],l),a}function Yw(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["_url","name"],ht(e,a));const o=x(t,["config"]);return o!=null&&v(n,["config"],Gw(e,o,n)),n}function $w(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["_url","name"],ht(e,a));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function Kw(e,t){const n={};if(x(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function Xw(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["_url","model"],ht(e,a));const o=x(t,["contents"]);if(o!=null){let u=ra(e,o);Array.isArray(u)&&(u=u.map(f=>Ou(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["config"],Kw(e,l)),n}function Ww(e,t){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=x(t,["imageBytes"]);a!=null&&v(n,["bytesBase64Encoded"],sa(e,a));const o=x(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}function Qw(e,t,n){const a={},o=x(t,["numberOfVideos"]);if(n!==void 0&&o!=null&&v(n,["parameters","sampleCount"],o),x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=x(t,["durationSeconds"]);if(n!==void 0&&l!=null&&v(n,["parameters","durationSeconds"],l),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=x(t,["aspectRatio"]);if(n!==void 0&&u!=null&&v(n,["parameters","aspectRatio"],u),x(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const f=x(t,["personGeneration"]);if(n!==void 0&&f!=null&&v(n,["parameters","personGeneration"],f),x(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=x(t,["negativePrompt"]);if(n!==void 0&&m!=null&&v(n,["parameters","negativePrompt"],m),x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function Jw(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["_url","model"],ht(e,a));const o=x(t,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const l=x(t,["image"]);l!=null&&v(n,["instances[0]","image"],Ww(e,l));const u=x(t,["config"]);return u!=null&&v(n,["config"],Qw(e,u,n)),n}function Zw(e,t){const n={},a=x(t,["videoMetadata"]);a!=null&&v(n,["videoMetadata"],a);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const m=x(t,["functionCall"]);m!=null&&v(n,["functionCall"],m);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const h=x(t,["inlineData"]);h!=null&&v(n,["inlineData"],h);const y=x(t,["text"]);return y!=null&&v(n,["text"],y),n}function qr(e,t){const n={},a=x(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>Zw(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function e2(e,t){const n={},a=x(t,["featureSelectionPreference"]);return a!=null&&v(n,["featureSelectionPreference"],a),n}function t2(e,t){const n={},a=x(t,["method"]);a!=null&&v(n,["method"],a);const o=x(t,["category"]);o!=null&&v(n,["category"],o);const l=x(t,["threshold"]);return l!=null&&v(n,["threshold"],l),n}function n2(){return{}}function i2(e,t){const n={},a=x(t,["mode"]);a!=null&&v(n,["mode"],a);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function a2(e,t){const n={},a=x(t,["dynamicRetrievalConfig"]);return a!=null&&v(n,["dynamicRetrievalConfig"],i2(e,a)),n}function J1(e,t){const n={},a=x(t,["retrieval"]);a!=null&&v(n,["retrieval"],a),x(t,["googleSearch"])!=null&&v(n,["googleSearch"],n2());const l=x(t,["googleSearchRetrieval"]);l!=null&&v(n,["googleSearchRetrieval"],a2(e,l));const u=x(t,["codeExecution"]);u!=null&&v(n,["codeExecution"],u);const f=x(t,["functionDeclarations"]);return f!=null&&v(n,["functionDeclarations"],f),n}function r2(e,t){const n={},a=x(t,["mode"]);a!=null&&v(n,["mode"],a);const o=x(t,["allowedFunctionNames"]);return o!=null&&v(n,["allowedFunctionNames"],o),n}function o2(e,t){const n={},a=x(t,["functionCallingConfig"]);return a!=null&&v(n,["functionCallingConfig"],r2(e,a)),n}function s2(e,t){const n={},a=x(t,["voiceName"]);return a!=null&&v(n,["voiceName"],a),n}function l2(e,t){const n={},a=x(t,["prebuiltVoiceConfig"]);return a!=null&&v(n,["prebuiltVoiceConfig"],s2(e,a)),n}function u2(e,t){const n={},a=x(t,["voiceConfig"]);a!=null&&v(n,["voiceConfig"],l2(e,a));const o=x(t,["languageCode"]);return o!=null&&v(n,["languageCode"],o),n}function c2(e,t){const n={},a=x(t,["includeThoughts"]);a!=null&&v(n,["includeThoughts"],a);const o=x(t,["thinkingBudget"]);return o!=null&&v(n,["thinkingBudget"],o),n}function f2(e,t,n){const a={},o=x(t,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],qr(e,on(e,o)));const l=x(t,["temperature"]);l!=null&&v(a,["temperature"],l);const u=x(t,["topP"]);u!=null&&v(a,["topP"],u);const f=x(t,["topK"]);f!=null&&v(a,["topK"],f);const m=x(t,["candidateCount"]);m!=null&&v(a,["candidateCount"],m);const d=x(t,["maxOutputTokens"]);d!=null&&v(a,["maxOutputTokens"],d);const h=x(t,["stopSequences"]);h!=null&&v(a,["stopSequences"],h);const y=x(t,["responseLogprobs"]);y!=null&&v(a,["responseLogprobs"],y);const T=x(t,["logprobs"]);T!=null&&v(a,["logprobs"],T);const S=x(t,["presencePenalty"]);S!=null&&v(a,["presencePenalty"],S);const E=x(t,["frequencyPenalty"]);E!=null&&v(a,["frequencyPenalty"],E);const k=x(t,["seed"]);k!=null&&v(a,["seed"],k);const I=x(t,["responseMimeType"]);I!=null&&v(a,["responseMimeType"],I);const N=x(t,["responseSchema"]);N!=null&&v(a,["responseSchema"],$1(e,N));const V=x(t,["routingConfig"]);V!=null&&v(a,["routingConfig"],V);const P=x(t,["modelSelectionConfig"]);P!=null&&v(a,["modelConfig"],e2(e,P));const $=x(t,["safetySettings"]);if(n!==void 0&&$!=null){let re=$;Array.isArray(re)&&(re=re.map(B=>t2(e,B))),v(n,["safetySettings"],re)}const K=x(t,["tools"]);if(n!==void 0&&K!=null){let re=Pu(e,K);Array.isArray(re)&&(re=re.map(B=>J1(e,Lu(e,B)))),v(n,["tools"],re)}const q=x(t,["toolConfig"]);n!==void 0&&q!=null&&v(n,["toolConfig"],o2(e,q));const ce=x(t,["labels"]);n!==void 0&&ce!=null&&v(n,["labels"],ce);const ue=x(t,["cachedContent"]);n!==void 0&&ue!=null&&v(n,["cachedContent"],oa(e,ue));const pe=x(t,["responseModalities"]);pe!=null&&v(a,["responseModalities"],pe);const L=x(t,["mediaResolution"]);L!=null&&v(a,["mediaResolution"],L);const G=x(t,["speechConfig"]);G!=null&&v(a,["speechConfig"],u2(e,K1(e,G)));const ne=x(t,["audioTimestamp"]);ne!=null&&v(a,["audioTimestamp"],ne);const te=x(t,["thinkingConfig"]);return te!=null&&v(a,["thinkingConfig"],c2(e,te)),a}function fx(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["_url","model"],ht(e,a));const o=x(t,["contents"]);if(o!=null){let u=ra(e,o);Array.isArray(u)&&(u=u.map(f=>qr(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["generationConfig"],f2(e,l,n)),n}function d2(e,t,n){const a={},o=x(t,["taskType"]);n!==void 0&&o!=null&&v(n,["instances[]","task_type"],o);const l=x(t,["title"]);n!==void 0&&l!=null&&v(n,["instances[]","title"],l);const u=x(t,["outputDimensionality"]);n!==void 0&&u!=null&&v(n,["parameters","outputDimensionality"],u);const f=x(t,["mimeType"]);n!==void 0&&f!=null&&v(n,["instances[]","mimeType"],f);const m=x(t,["autoTruncate"]);return n!==void 0&&m!=null&&v(n,["parameters","autoTruncate"],m),a}function m2(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["_url","model"],ht(e,a));const o=x(t,["contents"]);o!=null&&v(n,["instances[]","content"],Y1(e,o));const l=x(t,["config"]);return l!=null&&v(n,["config"],d2(e,l,n)),n}function h2(e,t,n){const a={},o=x(t,["outputGcsUri"]);n!==void 0&&o!=null&&v(n,["parameters","storageUri"],o);const l=x(t,["negativePrompt"]);n!==void 0&&l!=null&&v(n,["parameters","negativePrompt"],l);const u=x(t,["numberOfImages"]);n!==void 0&&u!=null&&v(n,["parameters","sampleCount"],u);const f=x(t,["aspectRatio"]);n!==void 0&&f!=null&&v(n,["parameters","aspectRatio"],f);const m=x(t,["guidanceScale"]);n!==void 0&&m!=null&&v(n,["parameters","guidanceScale"],m);const d=x(t,["seed"]);n!==void 0&&d!=null&&v(n,["parameters","seed"],d);const h=x(t,["safetyFilterLevel"]);n!==void 0&&h!=null&&v(n,["parameters","safetySetting"],h);const y=x(t,["personGeneration"]);n!==void 0&&y!=null&&v(n,["parameters","personGeneration"],y);const T=x(t,["includeSafetyAttributes"]);n!==void 0&&T!=null&&v(n,["parameters","includeSafetyAttributes"],T);const S=x(t,["includeRaiReason"]);n!==void 0&&S!=null&&v(n,["parameters","includeRaiReason"],S);const E=x(t,["language"]);n!==void 0&&E!=null&&v(n,["parameters","language"],E);const k=x(t,["outputMimeType"]);n!==void 0&&k!=null&&v(n,["parameters","outputOptions","mimeType"],k);const I=x(t,["outputCompressionQuality"]);n!==void 0&&I!=null&&v(n,["parameters","outputOptions","compressionQuality"],I);const N=x(t,["addWatermark"]);n!==void 0&&N!=null&&v(n,["parameters","addWatermark"],N);const V=x(t,["enhancePrompt"]);return n!==void 0&&V!=null&&v(n,["parameters","enhancePrompt"],V),a}function p2(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["_url","model"],ht(e,a));const o=x(t,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const l=x(t,["config"]);return l!=null&&v(n,["config"],h2(e,l,n)),n}function g2(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["_url","name"],ht(e,a));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function y2(e,t,n){const a={},o=x(t,["displayName"]);n!==void 0&&o!=null&&v(n,["displayName"],o);const l=x(t,["description"]);return n!==void 0&&l!=null&&v(n,["description"],l),a}function x2(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["_url","model"],ht(e,a));const o=x(t,["config"]);return o!=null&&v(n,["config"],y2(e,o,n)),n}function v2(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["_url","name"],ht(e,a));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function b2(e,t,n){const a={},o=x(t,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],qr(e,on(e,o)));const l=x(t,["tools"]);if(n!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>J1(e,m))),v(n,["tools"],f)}const u=x(t,["generationConfig"]);return n!==void 0&&u!=null&&v(n,["generationConfig"],u),a}function T2(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["_url","model"],ht(e,a));const o=x(t,["contents"]);if(o!=null){let u=ra(e,o);Array.isArray(u)&&(u=u.map(f=>qr(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["config"],b2(e,l,n)),n}function S2(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["_url","model"],ht(e,a));const o=x(t,["contents"]);if(o!=null){let u=ra(e,o);Array.isArray(u)&&(u=u.map(f=>qr(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["config"],l),n}function C2(e,t){const n={},a=x(t,["gcsUri"]);a!=null&&v(n,["gcsUri"],a);const o=x(t,["imageBytes"]);o!=null&&v(n,["bytesBase64Encoded"],sa(e,o));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function A2(e,t,n){const a={},o=x(t,["numberOfVideos"]);n!==void 0&&o!=null&&v(n,["parameters","sampleCount"],o);const l=x(t,["outputGcsUri"]);n!==void 0&&l!=null&&v(n,["parameters","storageUri"],l);const u=x(t,["fps"]);n!==void 0&&u!=null&&v(n,["parameters","fps"],u);const f=x(t,["durationSeconds"]);n!==void 0&&f!=null&&v(n,["parameters","durationSeconds"],f);const m=x(t,["seed"]);n!==void 0&&m!=null&&v(n,["parameters","seed"],m);const d=x(t,["aspectRatio"]);n!==void 0&&d!=null&&v(n,["parameters","aspectRatio"],d);const h=x(t,["resolution"]);n!==void 0&&h!=null&&v(n,["parameters","resolution"],h);const y=x(t,["personGeneration"]);n!==void 0&&y!=null&&v(n,["parameters","personGeneration"],y);const T=x(t,["pubsubTopic"]);n!==void 0&&T!=null&&v(n,["parameters","pubsubTopic"],T);const S=x(t,["negativePrompt"]);n!==void 0&&S!=null&&v(n,["parameters","negativePrompt"],S);const E=x(t,["enhancePrompt"]);return n!==void 0&&E!=null&&v(n,["parameters","enhancePrompt"],E),a}function E2(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["_url","model"],ht(e,a));const o=x(t,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const l=x(t,["image"]);l!=null&&v(n,["instances[0]","image"],C2(e,l));const u=x(t,["config"]);return u!=null&&v(n,["config"],A2(e,u,n)),n}function M2(e,t){const n={},a=x(t,["thought"]);a!=null&&v(n,["thought"],a);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const m=x(t,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const h=x(t,["text"]);return h!=null&&v(n,["text"],h),n}function w2(e,t){const n={},a=x(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>M2(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function D2(e,t){const n={},a=x(t,["citationSources"]);return a!=null&&v(n,["citations"],a),n}function k2(e,t){const n={},a=x(t,["content"]);a!=null&&v(n,["content"],w2(e,a));const o=x(t,["citationMetadata"]);o!=null&&v(n,["citationMetadata"],D2(e,o));const l=x(t,["tokenCount"]);l!=null&&v(n,["tokenCount"],l);const u=x(t,["finishReason"]);u!=null&&v(n,["finishReason"],u);const f=x(t,["avgLogprobs"]);f!=null&&v(n,["avgLogprobs"],f);const m=x(t,["groundingMetadata"]);m!=null&&v(n,["groundingMetadata"],m);const d=x(t,["index"]);d!=null&&v(n,["index"],d);const h=x(t,["logprobsResult"]);h!=null&&v(n,["logprobsResult"],h);const y=x(t,["safetyRatings"]);return y!=null&&v(n,["safetyRatings"],y),n}function dx(e,t){const n={},a=x(t,["candidates"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>k2(e,m))),v(n,["candidates"],f)}const o=x(t,["modelVersion"]);o!=null&&v(n,["modelVersion"],o);const l=x(t,["promptFeedback"]);l!=null&&v(n,["promptFeedback"],l);const u=x(t,["usageMetadata"]);return u!=null&&v(n,["usageMetadata"],u),n}function N2(e,t){const n={},a=x(t,["values"]);return a!=null&&v(n,["values"],a),n}function R2(){return{}}function I2(e,t){const n={},a=x(t,["embeddings"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>N2(e,u))),v(n,["embeddings"],l)}return x(t,["metadata"])!=null&&v(n,["metadata"],R2()),n}function _2(e,t){const n={},a=x(t,["bytesBase64Encoded"]);a!=null&&v(n,["imageBytes"],sa(e,a));const o=x(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}function Z1(e,t){const n={},a=x(t,["safetyAttributes","categories"]);a!=null&&v(n,["categories"],a);const o=x(t,["safetyAttributes","scores"]);o!=null&&v(n,["scores"],o);const l=x(t,["contentType"]);return l!=null&&v(n,["contentType"],l),n}function L2(e,t){const n={},a=x(t,["_self"]);a!=null&&v(n,["image"],_2(e,a));const o=x(t,["raiFilteredReason"]);o!=null&&v(n,["raiFilteredReason"],o);const l=x(t,["_self"]);return l!=null&&v(n,["safetyAttributes"],Z1(e,l)),n}function P2(e,t){const n={},a=x(t,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>L2(e,u))),v(n,["generatedImages"],l)}const o=x(t,["positivePromptSafetyAttributes"]);return o!=null&&v(n,["positivePromptSafetyAttributes"],Z1(e,o)),n}function O2(e,t){const n={},a=x(t,["baseModel"]);a!=null&&v(n,["baseModel"],a);const o=x(t,["createTime"]);o!=null&&v(n,["createTime"],o);const l=x(t,["updateTime"]);return l!=null&&v(n,["updateTime"],l),n}function mx(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["name"],a);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["description"]);l!=null&&v(n,["description"],l);const u=x(t,["version"]);u!=null&&v(n,["version"],u);const f=x(t,["_self"]);f!=null&&v(n,["tunedModelInfo"],O2(e,f));const m=x(t,["inputTokenLimit"]);m!=null&&v(n,["inputTokenLimit"],m);const d=x(t,["outputTokenLimit"]);d!=null&&v(n,["outputTokenLimit"],d);const h=x(t,["supportedGenerationMethods"]);return h!=null&&v(n,["supportedActions"],h),n}function B2(){return{}}function F2(e,t){const n={},a=x(t,["totalTokens"]);a!=null&&v(n,["totalTokens"],a);const o=x(t,["cachedContentTokenCount"]);return o!=null&&v(n,["cachedContentTokenCount"],o),n}function V2(e,t){const n={},a=x(t,["video","uri"]);a!=null&&v(n,["uri"],a);const o=x(t,["video","encodedVideo"]);o!=null&&v(n,["videoBytes"],sa(e,o));const l=x(t,["encoding"]);return l!=null&&v(n,["mimeType"],l),n}function j2(e,t){const n={},a=x(t,["_self"]);return a!=null&&v(n,["video"],V2(e,a)),n}function z2(e,t){const n={},a=x(t,["generatedSamples"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>j2(e,f))),v(n,["generatedVideos"],u)}const o=x(t,["raiMediaFilteredCount"]);o!=null&&v(n,["raiMediaFilteredCount"],o);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function H2(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["name"],a);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response","generateVideoResponse"]);return f!=null&&v(n,["response"],z2(e,f)),n}function U2(e,t){const n={},a=x(t,["videoMetadata"]);a!=null&&v(n,["videoMetadata"],a);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const m=x(t,["functionCall"]);m!=null&&v(n,["functionCall"],m);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const h=x(t,["inlineData"]);h!=null&&v(n,["inlineData"],h);const y=x(t,["text"]);return y!=null&&v(n,["text"],y),n}function q2(e,t){const n={},a=x(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>U2(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function G2(e,t){const n={},a=x(t,["citations"]);return a!=null&&v(n,["citations"],a),n}function Y2(e,t){const n={},a=x(t,["content"]);a!=null&&v(n,["content"],q2(e,a));const o=x(t,["citationMetadata"]);o!=null&&v(n,["citationMetadata"],G2(e,o));const l=x(t,["finishMessage"]);l!=null&&v(n,["finishMessage"],l);const u=x(t,["finishReason"]);u!=null&&v(n,["finishReason"],u);const f=x(t,["avgLogprobs"]);f!=null&&v(n,["avgLogprobs"],f);const m=x(t,["groundingMetadata"]);m!=null&&v(n,["groundingMetadata"],m);const d=x(t,["index"]);d!=null&&v(n,["index"],d);const h=x(t,["logprobsResult"]);h!=null&&v(n,["logprobsResult"],h);const y=x(t,["safetyRatings"]);return y!=null&&v(n,["safetyRatings"],y),n}function hx(e,t){const n={},a=x(t,["candidates"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>Y2(e,h))),v(n,["candidates"],d)}const o=x(t,["createTime"]);o!=null&&v(n,["createTime"],o);const l=x(t,["responseId"]);l!=null&&v(n,["responseId"],l);const u=x(t,["modelVersion"]);u!=null&&v(n,["modelVersion"],u);const f=x(t,["promptFeedback"]);f!=null&&v(n,["promptFeedback"],f);const m=x(t,["usageMetadata"]);return m!=null&&v(n,["usageMetadata"],m),n}function $2(e,t){const n={},a=x(t,["truncated"]);a!=null&&v(n,["truncated"],a);const o=x(t,["token_count"]);return o!=null&&v(n,["tokenCount"],o),n}function K2(e,t){const n={},a=x(t,["values"]);a!=null&&v(n,["values"],a);const o=x(t,["statistics"]);return o!=null&&v(n,["statistics"],$2(e,o)),n}function X2(e,t){const n={},a=x(t,["billableCharacterCount"]);return a!=null&&v(n,["billableCharacterCount"],a),n}function W2(e,t){const n={},a=x(t,["predictions[]","embeddings"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>K2(e,u))),v(n,["embeddings"],l)}const o=x(t,["metadata"]);return o!=null&&v(n,["metadata"],X2(e,o)),n}function Q2(e,t){const n={},a=x(t,["gcsUri"]);a!=null&&v(n,["gcsUri"],a);const o=x(t,["bytesBase64Encoded"]);o!=null&&v(n,["imageBytes"],sa(e,o));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function eb(e,t){const n={},a=x(t,["safetyAttributes","categories"]);a!=null&&v(n,["categories"],a);const o=x(t,["safetyAttributes","scores"]);o!=null&&v(n,["scores"],o);const l=x(t,["contentType"]);return l!=null&&v(n,["contentType"],l),n}function J2(e,t){const n={},a=x(t,["_self"]);a!=null&&v(n,["image"],Q2(e,a));const o=x(t,["raiFilteredReason"]);o!=null&&v(n,["raiFilteredReason"],o);const l=x(t,["_self"]);l!=null&&v(n,["safetyAttributes"],eb(e,l));const u=x(t,["prompt"]);return u!=null&&v(n,["enhancedPrompt"],u),n}function Z2(e,t){const n={},a=x(t,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>J2(e,u))),v(n,["generatedImages"],l)}const o=x(t,["positivePromptSafetyAttributes"]);return o!=null&&v(n,["positivePromptSafetyAttributes"],eb(e,o)),n}function eD(e,t){const n={},a=x(t,["endpoint"]);a!=null&&v(n,["name"],a);const o=x(t,["deployedModelId"]);return o!=null&&v(n,["deployedModelId"],o),n}function tD(e,t){const n={},a=x(t,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&v(n,["baseModel"],a);const o=x(t,["createTime"]);o!=null&&v(n,["createTime"],o);const l=x(t,["updateTime"]);return l!=null&&v(n,["updateTime"],l),n}function px(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["name"],a);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["description"]);l!=null&&v(n,["description"],l);const u=x(t,["versionId"]);u!=null&&v(n,["version"],u);const f=x(t,["deployedModels"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>eD(e,y))),v(n,["endpoints"],h)}const m=x(t,["labels"]);m!=null&&v(n,["labels"],m);const d=x(t,["_self"]);return d!=null&&v(n,["tunedModelInfo"],tD(e,d)),n}function nD(){return{}}function iD(e,t){const n={},a=x(t,["totalTokens"]);return a!=null&&v(n,["totalTokens"],a),n}function aD(e,t){const n={},a=x(t,["tokensInfo"]);return a!=null&&v(n,["tokensInfo"],a),n}function rD(e,t){const n={},a=x(t,["gcsUri"]);a!=null&&v(n,["uri"],a);const o=x(t,["bytesBase64Encoded"]);o!=null&&v(n,["videoBytes"],sa(e,o));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function oD(e,t){const n={},a=x(t,["_self"]);return a!=null&&v(n,["video"],rD(e,a)),n}function sD(e,t){const n={},a=x(t,["videos"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>oD(e,f))),v(n,["generatedVideos"],u)}const o=x(t,["raiMediaFilteredCount"]);o!=null&&v(n,["raiMediaFilteredCount"],o);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function lD(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["name"],a);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response"]);return f!=null&&v(n,["response"],sD(e,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uD="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function cD(e,t,n){let a,o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),e.isVertexAI()?a=Mw(e,o):a=Ew(e,o),t(a)}class fD{constructor(t,n,a){this.apiClient=t,this.auth=n,this.webSocketFactory=a}async connect(t){var n,a,o,l;const u=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let m;const d=pD(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())m=`${u}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d);else{const $=this.apiClient.getApiKey();m=`${u}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateContent?key=${$}`}let h=()=>{};const y=new Promise($=>{h=$}),T=t.callbacks,S=function(){var $;($=T==null?void 0:T.onopen)===null||$===void 0||$.call(T),h({})},E=this.apiClient,k={onopen:S,onmessage:$=>{cD(E,T.onmessage,$)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function($){},onclose:(a=T==null?void 0:T.onclose)!==null&&a!==void 0?a:function($){}},I=this.webSocketFactory.create(m,hD(d),k);I.connect(),await y;let N=ht(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&N.startsWith("publishers/")){const $=this.apiClient.getProject(),K=this.apiClient.getLocation();N=`projects/${$}/locations/${K}/`+N}let V={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[bu.AUDIO]}:t.config.responseModalities=[bu.AUDIO]),!((l=t.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P={model:N,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?V=JM(this.apiClient,P):V=QM(this.apiClient,P),delete V.config,I.send(JSON.stringify(V)),new mD(I,this.apiClient)}}const dD={turnComplete:!0};class mD{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let a=[];try{a=ra(t,n.turns),t.isVertexAI()?a=a.map(o=>qr(t,o)):a=a.map(o=>Ou(t,o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:a,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let a=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?a=n.functionResponses:a=[n.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const l of a){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error(uD)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},dD),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:aw(this.apiClient,t)}:n={realtimeInput:iw(this.apiClient,t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function hD(e){const t={};return e.forEach((n,a)=>{t[a]=n}),t}function pD(e){const t=new Headers;for(const[n,a]of Object.entries(e))t.append(n,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gD extends Ds{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(a=>{var o;let l;const u=[];if(a!=null&&a.generatedImages)for(const m of a.generatedImages)m&&(m!=null&&m.safetyAttributes)&&((o=m==null?void 0:m.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=m==null?void 0:m.safetyAttributes:u.push(m);let f;return l?f={generatedImages:u,positivePromptSafetyAttributes:l}:f={generatedImages:u},f})}async generateContentInternal(t){var n,a,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=fx(this.apiClient,t);return f=ke("{model}:generateContent",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(h=>{const y=hx(this.apiClient,h),T=new Xl;return Object.assign(T,y),T})}else{const d=cx(this.apiClient,t);return f=ke("{model}:generateContent",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const y=dx(this.apiClient,h),T=new Xl;return Object.assign(T,y),T})}}async generateContentStreamInternal(t){var n,a,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=fx(this.apiClient,t);f=ke("{model}:streamGenerateContent?alt=sse",d._url),m=d._query,delete d.config,delete d._url,delete d._query;const h=this.apiClient;return u=h.requestStream({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),u.then(function(y){return Tu(this,arguments,function*(){var T,S,E,k;try{for(var I=!0,N=qd(y),V;V=yield qt(N.next()),T=V.done,!T;I=!0){k=V.value,I=!1;const $=hx(h,yield qt(k.json())),K=new Xl;Object.assign(K,$),yield yield qt(K)}}catch(P){S={error:P}}finally{try{!I&&!T&&(E=N.return)&&(yield qt(E.call(N)))}finally{if(S)throw S.error}}})})}else{const d=cx(this.apiClient,t);f=ke("{model}:streamGenerateContent?alt=sse",d._url),m=d._query,delete d.config,delete d._url,delete d._query;const h=this.apiClient;return u=h.requestStream({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(y){return Tu(this,arguments,function*(){var T,S,E,k;try{for(var I=!0,N=qd(y),V;V=yield qt(N.next()),T=V.done,!T;I=!0){k=V.value,I=!1;const $=dx(h,yield qt(k.json())),K=new Xl;Object.assign(K,$),yield yield qt(K)}}catch(P){S={error:P}}finally{try{!I&&!T&&(E=N.return)&&(yield qt(E.call(N)))}finally{if(S)throw S.error}}})})}}async embedContent(t){var n,a,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=m2(this.apiClient,t);return f=ke("{model}:predict",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(h=>{const y=W2(this.apiClient,h),T=new Z0;return Object.assign(T,y),T})}else{const d=zw(this.apiClient,t);return f=ke("{model}:batchEmbedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const y=I2(this.apiClient,h),T=new Z0;return Object.assign(T,y),T})}}async generateImagesInternal(t){var n,a,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=p2(this.apiClient,t);return f=ke("{model}:predict",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(h=>{const y=Z2(this.apiClient,h),T=new ex;return Object.assign(T,y),T})}else{const d=Uw(this.apiClient,t);return f=ke("{model}:predict",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const y=P2(this.apiClient,h),T=new ex;return Object.assign(T,y),T})}}async get(t){var n,a,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=g2(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(h=>px(this.apiClient,h))}else{const d=qw(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>mx(this.apiClient,h))}}async update(t){var n,a,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=x2(this.apiClient,t);return f=ke("{model}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(h=>px(this.apiClient,h))}else{const d=Yw(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>mx(this.apiClient,h))}}async delete(t){var n,a,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=v2(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(()=>{const h=nD(),y=new tx;return Object.assign(y,h),y})}else{const d=$w(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(()=>{const h=B2(),y=new tx;return Object.assign(y,h),y})}}async countTokens(t){var n,a,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=T2(this.apiClient,t);return f=ke("{model}:countTokens",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(h=>{const y=iD(this.apiClient,h),T=new nx;return Object.assign(T,y),T})}else{const d=Xw(this.apiClient,t);return f=ke("{model}:countTokens",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const y=F2(this.apiClient,h),T=new nx;return Object.assign(T,y),T})}}async computeTokens(t){var n,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=S2(this.apiClient,t);return l=ke("{model}:computeTokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),o.then(m=>{const d=aD(this.apiClient,m),h=new aM;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(t){var n,a,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=E2(this.apiClient,t);return f=ke("{model}:predictLongRunning",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(h=>lD(this.apiClient,h))}else{const d=Jw(this.apiClient,t);return f=ke("{model}:predictLongRunning",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>H2(this.apiClient,h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yD(e,t){const n={},a=x(t,["operationName"]);a!=null&&v(n,["_url","operationName"],a);const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function xD(e,t){const n={},a=x(t,["operationName"]);a!=null&&v(n,["_url","operationName"],a);const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function vD(e,t){const n={},a=x(t,["operationName"]);a!=null&&v(n,["operationName"],a);const o=x(t,["resourceName"]);o!=null&&v(n,["_url","resourceName"],o);const l=x(t,["config"]);return l!=null&&v(n,["config"],l),n}function bD(e,t){const n={},a=x(t,["video","uri"]);a!=null&&v(n,["uri"],a);const o=x(t,["video","encodedVideo"]);o!=null&&v(n,["videoBytes"],sa(e,o));const l=x(t,["encoding"]);return l!=null&&v(n,["mimeType"],l),n}function TD(e,t){const n={},a=x(t,["_self"]);return a!=null&&v(n,["video"],bD(e,a)),n}function SD(e,t){const n={},a=x(t,["generatedSamples"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>TD(e,f))),v(n,["generatedVideos"],u)}const o=x(t,["raiMediaFilteredCount"]);o!=null&&v(n,["raiMediaFilteredCount"],o);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function CD(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["name"],a);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response","generateVideoResponse"]);return f!=null&&v(n,["response"],SD(e,f)),n}function AD(e,t){const n={},a=x(t,["gcsUri"]);a!=null&&v(n,["uri"],a);const o=x(t,["bytesBase64Encoded"]);o!=null&&v(n,["videoBytes"],sa(e,o));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function ED(e,t){const n={},a=x(t,["_self"]);return a!=null&&v(n,["video"],AD(e,a)),n}function MD(e,t){const n={},a=x(t,["videos"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>ED(e,f))),v(n,["generatedVideos"],u)}const o=x(t,["raiMediaFilteredCount"]);o!=null&&v(n,["raiMediaFilteredCount"],o);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function gx(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["name"],a);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response"]);return f!=null&&v(n,["response"],MD(e,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wD extends Ds{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,a=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;return a&&"httpOptions"in a&&(l=a.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}})}else return this.getVideosOperationInternal({operationName:n.name,config:a})}async getVideosOperationInternal(t){var n,a,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=xD(this.apiClient,t);return f=ke("{operationName}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(h=>gx(this.apiClient,h))}else{const d=yD(this.apiClient,t);return f=ke("{operationName}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>CD(this.apiClient,h))}}async fetchPredictVideosOperationInternal(t){var n,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=vD(this.apiClient,t);return l=ke("{resourceName}:fetchPredictOperation",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),o.then(m=>gx(this.apiClient,m))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DD="Content-Type",kD="X-Server-Timeout",ND="User-Agent",RD="x-goog-api-client",ID="0.12.0",_D=`google-genai-sdk/${ID}`,LD="v1beta1",PD="v1beta",yx=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class tb extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class Yd extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class OD{constructor(t){var n,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:LD,this.getProject()||this.getLocation()?(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(o.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(o.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:PD,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,a){const o=[this.getRequestUrlInternal(n)];return a&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,a);if(t.queryParams)for(const[u,f]of Object.entries(t.queryParams))o.searchParams.append(u,String(f));let l={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=t.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,t.abortSignal),this.unaryApiCall(o,l,t.httpMethod)}patchHttpOptions(t,n){const a=JSON.parse(JSON.stringify(t));for(const[o,l]of Object.entries(n))typeof l=="object"?a[o]=Object.assign(Object.assign({},a[o]),l):l!==void 0&&(a[o]=l);return a}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,a);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=t.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,t.abortSignal),this.streamApiCall(o,l,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,a){if(n&&n.timeout||a){const o=new AbortController,l=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),a&&a.addEventListener("abort",()=>{o.abort()}),t.signal=l}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:a})).then(async o=>(await xx(o),new Ud(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:a})).then(async o=>(await xx(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){var n;return Tu(this,arguments,function*(){const o=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";for(;;){const{done:f,value:m}=yield qt(o.read());if(f){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=l.decode(m);try{const y=JSON.parse(d);if("error"in y){const T=JSON.parse(JSON.stringify(y.error)),S=T.status,E=T.code,k=`got status: ${S}. ${JSON.stringify(y)}`;if(E>=400&&E<500)throw new tb(k);if(E>=500&&E<600)throw new Yd(k)}}catch(y){const T=y;if(T.name==="ClientError"||T.name==="ServerError")throw y}u+=d;let h=u.match(yx);for(;h;){const y=h[1];try{const T=new Response(y,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield qt(new Ud(T)),u=u.slice(h[0].length),h=u.match(yx)}catch(T){throw new Error(`exception parsing stream chunk ${y}. ${T}`)}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},n=_D+" "+this.clientOptions.userAgentExtra;return t[ND]=n,t[RD]=n,t[DD]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[a,o]of Object.entries(t.headers))n.append(a,o);t.timeout&&t.timeout>0&&n.append(kD,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var a;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,u=await l.stat(t);o.sizeBytes=String(u.size);const f=(a=n==null?void 0:n.mimeType)!==null&&a!==void 0?a:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=f;const m=await this.fetchUploadUrl(o,n);return l.upload(t,m,this)}async fetchUploadUrl(t,n){var a;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const l={file:t},u=await this.request({path:ke("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:o});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function xx(e){var t;if(e===void 0)throw new Yd("response is undefined");if(!e.ok){const n=e.status,a=e.statusText;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const l=`got status: ${n} ${a}. ${JSON.stringify(o)}`;throw n>=400&&n<500?new tb(l):n>=500&&n<600?new Yd(l):new Error(l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BD(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["_url","name"],a);const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function FD(e,t,n){const a={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);n!==void 0&&l!=null&&v(n,["_query","pageToken"],l);const u=x(t,["filter"]);return n!==void 0&&u!=null&&v(n,["_query","filter"],u),a}function VD(e,t){const n={},a=x(t,["config"]);return a!=null&&v(n,["config"],FD(e,a,n)),n}function jD(e,t){const n={},a=x(t,["textInput"]);a!=null&&v(n,["textInput"],a);const o=x(t,["output"]);return o!=null&&v(n,["output"],o),n}function zD(e,t){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=x(t,["examples"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>jD(e,l))),v(n,["examples","examples"],o)}return n}function HD(e,t,n){const a={};if(x(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=x(t,["tunedModelDisplayName"]);if(n!==void 0&&o!=null&&v(n,["displayName"],o),x(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=x(t,["epochCount"]);n!==void 0&&l!=null&&v(n,["tuningTask","hyperparameters","epochCount"],l);const u=x(t,["learningRateMultiplier"]);if(u!=null&&v(a,["tuningTask","hyperparameters","learningRateMultiplier"],u),x(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=x(t,["batchSize"]);n!==void 0&&f!=null&&v(n,["tuningTask","hyperparameters","batchSize"],f);const m=x(t,["learningRate"]);return n!==void 0&&m!=null&&v(n,["tuningTask","hyperparameters","learningRate"],m),a}function UD(e,t){const n={},a=x(t,["baseModel"]);a!=null&&v(n,["baseModel"],a);const o=x(t,["trainingDataset"]);o!=null&&v(n,["tuningTask","trainingData"],zD(e,o));const l=x(t,["config"]);return l!=null&&v(n,["config"],HD(e,l,n)),n}function qD(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["_url","name"],a);const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function GD(e,t,n){const a={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);n!==void 0&&l!=null&&v(n,["_query","pageToken"],l);const u=x(t,["filter"]);return n!==void 0&&u!=null&&v(n,["_query","filter"],u),a}function YD(e,t){const n={},a=x(t,["config"]);return a!=null&&v(n,["config"],GD(e,a,n)),n}function $D(e,t,n){const a={},o=x(t,["gcsUri"]);if(n!==void 0&&o!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],o),x(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function KD(e,t){const n={},a=x(t,["gcsUri"]);return a!=null&&v(n,["validationDatasetUri"],a),n}function XD(e,t,n){const a={},o=x(t,["validationDataset"]);n!==void 0&&o!=null&&v(n,["supervisedTuningSpec"],KD(e,o));const l=x(t,["tunedModelDisplayName"]);n!==void 0&&l!=null&&v(n,["tunedModelDisplayName"],l);const u=x(t,["description"]);n!==void 0&&u!=null&&v(n,["description"],u);const f=x(t,["epochCount"]);n!==void 0&&f!=null&&v(n,["supervisedTuningSpec","hyperParameters","epochCount"],f);const m=x(t,["learningRateMultiplier"]);n!==void 0&&m!=null&&v(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m);const d=x(t,["adapterSize"]);if(n!==void 0&&d!=null&&v(n,["supervisedTuningSpec","hyperParameters","adapterSize"],d),x(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(x(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return a}function WD(e,t){const n={},a=x(t,["baseModel"]);a!=null&&v(n,["baseModel"],a);const o=x(t,["trainingDataset"]);o!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],$D(e,o,n));const l=x(t,["config"]);return l!=null&&v(n,["config"],XD(e,l,n)),n}function QD(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["model"],a);const o=x(t,["name"]);return o!=null&&v(n,["endpoint"],o),n}function nb(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["name"],a);const o=x(t,["state"]);o!=null&&v(n,["state"],X1(e,o));const l=x(t,["createTime"]);l!=null&&v(n,["createTime"],l);const u=x(t,["tuningTask","startTime"]);u!=null&&v(n,["startTime"],u);const f=x(t,["tuningTask","completeTime"]);f!=null&&v(n,["endTime"],f);const m=x(t,["updateTime"]);m!=null&&v(n,["updateTime"],m);const d=x(t,["description"]);d!=null&&v(n,["description"],d);const h=x(t,["baseModel"]);h!=null&&v(n,["baseModel"],h);const y=x(t,["_self"]);y!=null&&v(n,["tunedModel"],QD(e,y));const T=x(t,["distillationSpec"]);T!=null&&v(n,["distillationSpec"],T);const S=x(t,["experiment"]);S!=null&&v(n,["experiment"],S);const E=x(t,["labels"]);E!=null&&v(n,["labels"],E);const k=x(t,["pipelineJob"]);k!=null&&v(n,["pipelineJob"],k);const I=x(t,["tunedModelDisplayName"]);return I!=null&&v(n,["tunedModelDisplayName"],I),n}function JD(e,t){const n={},a=x(t,["nextPageToken"]);a!=null&&v(n,["nextPageToken"],a);const o=x(t,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>nb(e,u))),v(n,["tuningJobs"],l)}return n}function ZD(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["name"],a);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);return u!=null&&v(n,["error"],u),n}function ek(e,t){const n={},a=x(t,["model"]);a!=null&&v(n,["model"],a);const o=x(t,["endpoint"]);return o!=null&&v(n,["endpoint"],o),n}function $d(e,t){const n={},a=x(t,["name"]);a!=null&&v(n,["name"],a);const o=x(t,["state"]);o!=null&&v(n,["state"],X1(e,o));const l=x(t,["createTime"]);l!=null&&v(n,["createTime"],l);const u=x(t,["startTime"]);u!=null&&v(n,["startTime"],u);const f=x(t,["endTime"]);f!=null&&v(n,["endTime"],f);const m=x(t,["updateTime"]);m!=null&&v(n,["updateTime"],m);const d=x(t,["error"]);d!=null&&v(n,["error"],d);const h=x(t,["description"]);h!=null&&v(n,["description"],h);const y=x(t,["baseModel"]);y!=null&&v(n,["baseModel"],y);const T=x(t,["tunedModel"]);T!=null&&v(n,["tunedModel"],ek(e,T));const S=x(t,["supervisedTuningSpec"]);S!=null&&v(n,["supervisedTuningSpec"],S);const E=x(t,["tuningDataStats"]);E!=null&&v(n,["tuningDataStats"],E);const k=x(t,["encryptionSpec"]);k!=null&&v(n,["encryptionSpec"],k);const I=x(t,["partnerModelTuningSpec"]);I!=null&&v(n,["partnerModelTuningSpec"],I);const N=x(t,["distillationSpec"]);N!=null&&v(n,["distillationSpec"],N);const V=x(t,["experiment"]);V!=null&&v(n,["experiment"],V);const P=x(t,["labels"]);P!=null&&v(n,["labels"],P);const $=x(t,["pipelineJob"]);$!=null&&v(n,["pipelineJob"],$);const K=x(t,["tunedModelDisplayName"]);return K!=null&&v(n,["tunedModelDisplayName"],K),n}function tk(e,t){const n={},a=x(t,["nextPageToken"]);a!=null&&v(n,["nextPageToken"],a);const o=x(t,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>$d(e,u))),v(n,["tuningJobs"],l)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nk extends Ds{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Rm(gs.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const a=await this.tuneMldevInternal(n);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:Hd.JOB_STATE_QUEUED}}}}async getInternal(t){var n,a,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=qD(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(h=>$d(this.apiClient,h))}else{const d=BD(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>nb(this.apiClient,h))}}async listInternal(t){var n,a,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=YD(this.apiClient,t);return f=ke("tuningJobs",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(h=>{const y=tk(this.apiClient,h),T=new ix;return Object.assign(T,y),T})}else{const d=VD(this.apiClient,t);return f=ke("tunedModels",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const y=JD(this.apiClient,h),T=new ix;return Object.assign(T,y),T})}}async tuneInternal(t){var n,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=WD(this.apiClient,t);return l=ke("tuningJobs",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),o.then(m=>$d(this.apiClient,m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,a;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=UD(this.apiClient,t);return l=ke("tunedModels",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),o.then(m=>ZD(this.apiClient,m))}}}const ik=1024*1024*8;async function ak(e,t,n){var a,o;let l=0,u=0,f=new Ud(new Response),m="upload";for(l=e.size;u<l;){const h=Math.min(ik,l-u),y=e.slice(u,u+h);if(u+h>=l&&(m+=", finalize"),f=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),u+=h,((a=f==null?void 0:f.headers)===null||a===void 0?void 0:a["x-goog-upload-status"])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(f==null?void 0:f.json());if(((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function rk(e){return{size:e.size,type:e.type}}class ok{async upload(t,n,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await ak(t,n,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await rk(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sk{create(t,n,a){return new lk(t,n,a)}}class lk{constructor(t,n,a){this.url=t,this.headers=n,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vx="x-goog-api-key";class uk{constructor(t){this.apiKey=t}async addAuthHeaders(t){t.get(vx)===null&&t.append(vx,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ck="gl-node/";class ib{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const a=bE(t,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion;const o=new uk(this.apiKey);this.apiClient=new OD({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:ck+"web",uploader:new ok}),this.models=new gD(this.apiClient),this.live=new fD(this.apiClient,o,new sk),this.chats=new dM(this.models,this.apiClient),this.caches=new lM(this.apiClient),this.files=new EM(this.apiClient),this.operations=new wD(this.apiClient),this.tunings=new nk(this.apiClient)}}var fk={};const Ha=typeof process<"u"&&fk.GEMINI_MODEL_NAME||typeof import.meta<"u"&&void 0||"gemini-2.0-flash-exp",bx="TrackGuide",Tx="songGuidebookLibrary",Qo="trackGuideLastUsedDAW",Jl="trackGuideLastUsedPlugins",ab=["Pop","Indie Pop","Synth-Pop","Rock","Alternative Rock","Hard Rock","Punk Rock","Post-Punk","Nu Metal","Progressive Rock","Psychedelic Rock","Folk Rock","Shoegaze","House","Deep House","Progressive House","Tech House","Bass House","Electro House","Minimal House","Techno","Minimal Techno","Industrial Techno","Melodic Techno","Ambient Techno","Hard Techno","Trance","Progressive Trance","Psytrance","Goa Trance","Hard Trance","Ambient","Dark Ambient","Downtempo","Chillout","Chillwave","Psybient","Berlin School","Synthwave","Retrowave","Darksynth","Vaporwave","Future Funk","Drum and Bass","Jungle","Liquid DnB","Neurofunk","Breakcore","Dubstep","Riddim","Future Bass","Trap (EDM)","Hardstyle","Gabber","UK Hardcore","IDM (Intelligent Dance Music)","Glitch","Breakbeat","UK Garage","2-Step","Future Garage","EBM (Electronic Body Music)","Footwork","Juke","Hip Hop","Boom Bap","Trap","Lo-fi Hip Hop","Cloud Rap","Drill","Conscious Hip Hop","R&B","Contemporary R&B","Neo-Soul","Soul","Folk","Acoustic","World Music","Reggae","Dub","Ska","Latin","Afrobeat","Celtic","Jazz","Smooth Jazz","Blues","Funk","Heavy Metal","Thrash Metal","Death Metal","Black Metal","Doom Metal","Metalcore","Deathcore","Experimental","Noise","Industrial","Classical Crossover","Chiptune","Video Game Music"],dk=["Dark","Atmospheric","Energetic","Uplifting","Chill","Relaxed","Experimental","Trippy","Nostalgic","Retro","Aggressive","Intense","Melancholic","Introspective","Funky","Groovy","Mysterious","Eerie","Euphoric","Anthemic","Dreamy","Ethereal","Raw","Gritty","Sophisticated","Smooth","Cyberpunk","Futuristic","Hypnotic","Driving","Industrial","Mechanical","Hopeful","Aggressive","Peaceful","Romantic","Sad","Joyful","Tense"],Sx=["Ableton Live","Logic Pro X","FL Studio","Pro Tools","Cubase","Studio One","Reason","Bitwig Studio","Reaper","GarageBand"],rs=["C Major","G Major","D Major","A Major","E Major","B Major","F# Major","C# Major","F Major","Bb Major","Eb Major","Ab Major","Db Major","Gb Major","Cb Major","A Minor","E Minor","B Minor","F# Minor","C# Minor","G# Minor","D# Minor","A# Minor","D Minor","G Minor","C Minor","F Minor","Bb Minor","Eb Minor","Ab Minor"],Cx={C:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"C#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Db:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],D:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"D#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Eb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],E:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],F:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"F#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Gb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],G:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"G#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Ab:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],A:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"A#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Bb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],B:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Cb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"]},mk=[[4,4],[3,4],[6,8],[2,4],[5,4],[7,8]],hk=[{id:"chords",label:"Chords"},{id:"bassline",label:"Bassline"},{id:"melody",label:"Melody"},{id:"drums",label:"Drums"}],pk=["General Loop","Intro","Verse","Pre-Chorus","Chorus","Post-Chorus","Bridge","Solo","Breakdown","Drop","Outro","Fill"],Ke={key:"C Major",tempo:120,timeSignature:[4,4],chordProgression:"I-V-vi-IV",genre:"Pop",bars:8,targetInstruments:["chords","bassline","melody","drums"],guidebookContext:"",songSection:"General Loop"},Ln={Pop:["I-V-vi-IV","vi-IV-I-V","I-IV-V-I","I-vi-IV-V","ii-V-I-IV"],"Indie Pop":["I-V-vi-IV","I-IV-vi-V","vi-IV-I-V","I-iii-IV-V"],"Synth-Pop":["i-VI-III-VII (minor)","I-V-vi-IV (major)","i-iv-v-VI (minor)","I-IV-ii-V (major)"],Rock:["I-IV-V","vi-IV-I-V","I-bVII-IV-I","i-VI-III-VII (minor)","I-V-IV-I"],"Alternative Rock":["vi-IV-I-V","I-V-vi-IV","i-VI-III-VII","I-IV-ii-V"],House:["Am-G-C-F","i-VI-III-VII (Am-F-C-G)","i-III-VI-VII","i-v-iv-i"],"Deep House":["i-VI-III-VII (e.g. Dm-Bb-F-C)","Am-G-C-F","i-iv-v-i"],Techno:["i-VI-III-VII","i-iv-v-i (minor, repetitive)","Single chord drone with variations","Am-G-F-E"],Trance:["vi-IV-I-V (Am-F-C-G)","i-VI-III-VII","i-VII-VI-V (minor descending)"],Ambient:["Imaj7-IVmaj7 (long, evolving)","i-VI (slow changes)","Drone + suspended chords"],Synthwave:["i-VI-III-VII (Am-F-C-G)","vi-IV-I-V","I-V-vi-IV","i-iv-v-i"],"Drum and Bass":["i-VI-III-VII","Am-F-C-G","Complex jazz voicings over two chords","i-iv-v-VI"],Dubstep:["i-VI-III-VII","i-iv-v-i (minor)","Heavy focus on sound design over complex progression"],"Trap (EDM)":["i-VI-III-VII","i-iv-v-i (minor)","Simple 2 or 3 chord loops"],"Hip Hop":["i-VI-III-VII","Am-G-Em-F","ii-V-I (Jazz influenced)","i-iv-v-i","Sample-based loops"],"Lo-fi Hip Hop":["ii-V-I-IV (Jazz)","Imaj7-vi7-ii7-V7","Simple 2-4 chord loops"],"R&B":["Imaj7-IVmaj7","ii-V-I","i-VI-III-VII","vi-ii-V-I"],Folk:["I-IV-V","I-V-vi-IV","G-C-D-G","C-G-Am-F"],Jazz:["ii-V-I","I-vi-ii-V","iii-vi-ii-V","I-II7-V7-I (Rhythm Changes A section)","Imaj7-IIm7-IIIm7-IVmaj7 (Modal)"],Blues:["I-I-I-I-IV-IV-I-I-V-IV-I-I (12-bar)","i-i-i-i-iv-iv-i-i-v-iv-i-i (minor 12-bar)"],Default:["I-V-vi-IV","i-VI-III-VII","I-IV-V-I","ii-V-I"]},Pn={Pop:[90,130],"Indie Pop":[100,140],"Synth-Pop":[110,140],Rock:[100,160],"Alternative Rock":[90,150],House:[118,128],"Deep House":[115,125],Techno:[125,145],Trance:[130,145],Ambient:[50,100],Synthwave:[80,120],"Drum and Bass":[160,180],Dubstep:[130,150],"Trap (EDM)":[130,160],"Hip Hop":[80,110],"Lo-fi Hip Hop":[70,90],"R&B":[60,100],Folk:[80,120],Jazz:[70,180],Blues:[70,130],Default:[60,200]},Su={kick:36,snare:38,hihat_closed:42,open_hihat:46,tom_low:41,tom_mid:47,tom_high:50,crash_cymbal_1:49,ride_cymbal_1:51,clap:39,shaker:70,tambourine:54,rim_shot:37,cowbell:56,bass_drum:36,snare_drum:38},fu=[{category:"Genre",key:"genre",examples:["Techno","House","Trance","Dubstep","Drum & Bass","Synthwave","Ambient","Industrial","Rock","Pop","Hip Hop","R&B","Jazz","Experimental","Cinematic","Video Game Score","Chiptune","Noise"]},{category:"Voice Type",key:"voiceType",examples:["Lead","Pad","Bass","Pluck","Arp","FX","Drone","Texture","Atmosphere","Riser","Impact","Chord","Stab"]},{category:"Style & Mood",key:"styleMood",examples:["Glassy","Warm","Bright","Dark","Metallic","Raspy","Analog","Digital","Dreamy","Aggressive","Mysterious","Epic","Brooding","Punchy","Floating","Gritty","Distorted","Clean","Organic","Mechanical","Futuristic","Retro","Cyberpunk","Space","Underwater","Industrial","Forest","Ghost","Machine","Sacred","Alien","Abstract"]},{category:"Reference Notes",key:"notes",type:"text",placeholder:"Reference artist, track, sound design concept, or extra notes..."}],gk=["Ableton Operator","Ableton Wavetable","Apple Alchemy","Apple Retro Synth","Arturia Analog Lab","Arturia PolyBrute","Bazille","DiscoDSP OB-Xd","Diva","Hive 2","Kilohearts Phase Plant","Korg MS-20","Korg Wavestate","Moog Minimoog","Native Instruments FM8","Native Instruments Massive","Native Instruments Massive X","Native Instruments Monark","Omnisphere","Pigments","Roland Jupiter-8","Roland Juno-106","Roland SH-101","Sylenth1","TAL TAL-U-No-LX","u-he Repro-1","u-he Repro-5","Vital","Xfer Serum","Zebra2","Generic"].sort(),yk="AIzaSyCxOuxalv_PC6h6aE8JvEjLMK8ie8C9Nts",Gr=new ib({apiKey:yk});function rb(e,t){if(!e&&!t)return`
###  Processing Tips & Plugin Parameters

**EQ Settings:**
- High-pass filter: 20-40 Hz to remove sub-bass rumble
- Low-mid cut: 200-400 Hz to reduce muddiness
- Presence boost: 2-5 kHz for clarity
- Air boost: 10-15 kHz for sparkle

**Compression:**
- Ratio: 3:1 to 4:1 for moderate control
- Attack: 10-30ms for punch retention
- Release: 100-300ms for natural decay
- Makeup gain: 2-6 dB as needed

**Reverb & Delay:**
- Room reverb: 0.8-1.5s decay for space
- Delay: 1/8 or 1/4 note timing
- High-cut: 8-12 kHz to avoid harshness
- Mix: 15-30% for depth without wash`;const a=e?(u=>{const f=u.toLowerCase();return f.includes("ableton")?{eq:"EQ Eight",compressor:"Compressor",reverb:"Reverb",delay:"Echo",limiter:"Limiter",saturator:"Saturator"}:f.includes("logic")?{eq:"Channel EQ",compressor:"Compressor",reverb:"ChromaVerb",delay:"Echo",limiter:"Adaptive Limiter",saturator:"Tape"}:f.includes("fl studio")||f.includes("fl")?{eq:"Parametric EQ 2",compressor:"Fruity Compressor",reverb:"Reverb 2",delay:"Fruity Delay 3",limiter:"Fruity Limiter",saturator:"Fruity Waveshaper"}:f.includes("pro tools")?{eq:"EQ III",compressor:"Dyn3 Compressor/Limiter",reverb:"D-Verb",delay:"Mod Delay III",limiter:"Dyn3 Compressor/Limiter",saturator:"Lo-Fi"}:f.includes("cubase")||f.includes("nuendo")?{eq:"StudioEQ",compressor:"Compressor",reverb:"REVerence",delay:"ModMachine",limiter:"Limiter",saturator:"Tape"}:f.includes("reaper")?{eq:"ReaEQ",compressor:"ReaComp",reverb:"ReaVerb",delay:"ReaDelay",limiter:"ReaLimit",saturator:"ReaSynth"}:{eq:"Stock EQ",compressor:"Stock Compressor",reverb:"Stock Reverb",delay:"Stock Delay",limiter:"Stock Limiter",saturator:"Stock Saturator"}})(e):null,o=e&&!t?`**${e} Stock Plugin Chain:**`:e?`**${e}-Specific Settings:**`:"",l=t?`**Custom Plugin Chain (${t}):**`:"";return`
###  Processing Tips & Plugin Parameters
${o}
${l}

**EQ Parameters:**
${a&&!t?`- ${a.eq}: High-pass at ${e!=null&&e.toLowerCase().includes("logic")?"35":e!=null&&e.toLowerCase().includes("fl")?"30":"40"} Hz, Low-mid cut at ${e!=null&&e.toLowerCase().includes("logic")?"300":e!=null&&e.toLowerCase().includes("fl")?"400":"250"} Hz (-3dB), Presence boost at ${e!=null&&e.toLowerCase().includes("logic")?"12 kHz (+1.5dB)":e!=null&&e.toLowerCase().includes("fl")?"15 kHz (+2dB)":"3 kHz (+2dB)"}`:e==="Ableton Live"?"- EQ Eight: High-pass at 40 Hz, Low-mid cut at 250 Hz (-3dB), Presence boost at 3 kHz (+2dB)":e==="Logic Pro X"?"- Channel EQ: High-pass at 35 Hz, Low-mid cut at 300 Hz (-2.5dB), High boost at 12 kHz (+1.5dB)":e==="FL Studio"?"- Parametric EQ 2: High-pass at 30 Hz, Mid cut at 400 Hz (-4dB), Air boost at 15 kHz (+2dB)":"- High-pass filter: 20-40 Hz, Low-mid cut: 200-400 Hz (-2 to -4dB), Presence boost: 2-5 kHz (+1 to +3dB)"}

**Compression Settings:**
${a&&!t?`- ${a.compressor}: Ratio ${e!=null&&e.toLowerCase().includes("logic")?"3.5:1":"4:1"}, Attack ${e!=null&&e.toLowerCase().includes("fl")?"10ms":e!=null&&e.toLowerCase().includes("logic")?"20ms":"15ms"}, Release ${e!=null&&e.toLowerCase().includes("logic")?"150ms":e!=null&&e.toLowerCase().includes("fl")?"250ms":"200ms"}${e!=null&&e.toLowerCase().includes("logic")?", Auto-Release enabled":e!=null&&e.toLowerCase().includes("fl")?", Knee 3dB":", Knee 2dB"}`:e==="Ableton Live"?"- Compressor: Ratio 4:1, Attack 15ms, Release 200ms, Knee 2dB":e==="Logic Pro X"?"- Compressor: Ratio 3.5:1, Attack 20ms, Release 150ms, Auto-Release enabled":e==="FL Studio"?"- Fruity Compressor: Ratio 4:1, Attack 10ms, Release 250ms, Knee 3dB":"- Ratio: 3:1 to 4:1, Attack: 10-30ms, Release: 100-300ms"}

**Reverb & Delay:**
${a&&!t?`- ${a.reverb}: Room/Hall setting, 1.2s decay, Pre-delay 20ms, Mix 25%
- ${a.delay}: 1/8 note timing, Feedback 35%, High-cut 8kHz, Mix 20%`:"- Room reverb: 0.8-1.5s decay for space, Delay: 1/8 or 1/4 note timing, High-cut: 8-12 kHz to avoid harshness"}

**Effects Chain:**
${t?`- Using ${t}: Apply specific parameter recommendations based on your plugin selection`:a?`- ${a.eq}  ${a.compressor}  ${a.saturator}  ${a.reverb}/${a.delay}  ${a.limiter}`:"- Standard effects: EQ  Compressor  Reverb/Delay  Limiter"}
- Send levels: 15-25% to reverb bus, 10-20% to delay bus
- Sidechain settings: 4:1 ratio, fast attack, medium release`}function ob(e=!0){const t=e?" | **Instrumentation** ":"",n=e?" | --- ":"",a=e?[" | Lead synth, Bass, Drums, Pads "," | Vocals, Full arrangement "," | Reduced arrangement, Focus elements "," | Full arrangement, Vocal harmonies "," | Breakdown elements, Build-up "," | Lead elements, Minimal backing "," | Full arrangement, Climax elements "," | Fade elements, Ambient textures "]:Array(8).fill("");return`
##  Structural Blueprint

| **Section** | **Duration** | **Key Elements** | **Energy Level**${t}|
| --- | --- | --- | ---${n}|
| **Intro** | 16-32 bars | Atmospheric build, Teaser elements | Low-Medium${a[0]}|
| **Verse 1** | 16 bars | Main groove, Vocal/Lead melody | Medium${a[1]}|
| **Pre-Chorus** | 8 bars | Tension build, Filter sweeps | Medium-High${a[2]}|
| **Chorus** | 16 bars | Full energy, Hook elements | High${a[3]}|
| **Breakdown** | 8-16 bars | Stripped back, Build tension | Low-Medium${a[4]}|
| **Verse 2/Solo** | 16 bars | Variation, New elements | Medium-High${a[5]}|
| **Final Chorus** | 16-24 bars | Maximum energy, All elements | Maximum${a[6]}|
| **Outro** | 16-32 bars | Gradual fade, Ambient tail | Low${a[7]}|`}const xk=async e=>{var V,P;const t=e.songTitle?`- **Project Name**: ${e.songTitle}`:"",n=e.artistReference?`- **Artist References**: ${e.artistReference}`:"",a=((V=e.genre)==null?void 0:V.join(", "))||"Not specified",o=((P=e.vibe)==null?void 0:P.join(", "))||"Not specified",l=e.availableInstruments||"Not specified",u=e.daw?e.daw:"Not specified",f=e.plugins?e.plugins:"Stock/Generic plugins",m=e.key?`Key: ${e.key}`:"",d=e.scale?`Scale/Mode: ${e.scale}`:"",h=e.chords?`Chord Progression: ${e.chords}`:"",y=e.referenceTrackLink?`Reference Track: ${e.referenceTrackLink}`:"",T=e.lyrics?`Lyrics Theme: ${e.lyrics}`:"",S=e.generalNotes?`Additional Notes: ${e.generalNotes}`:"",E=ob(!0),k=rb(e.daw,e.plugins),I=`//  Including all fields
You are TrackGuideAI, an expert music production assistant specializing in comprehensive track creation guides.

Create a detailed TrackGuide for the following specifications:
${t}
${n}
- **Genre**: ${a}
- **Vibe**: ${o}
- **Available Instruments**: ${l}
- **DAW**: ${u}
- **Plugins**: ${f}
${m}
${d}
${h}
${y}
${T}
${S}

**IMPORTANT FORMATTING REQUIREMENTS:**
1. Include the exact Structural Blueprint table with Instrumentation column as provided
2. Use specific plugin parameters when DAW/plugins are specified
3. Provide actionable, detailed guidance for each section
4. Use markdown formatting with proper headers and emphasis

**Required Sections:**

${E}

##  Genre DNA Analysis
**Core Characteristics:**
- Tempo range and feel
- Harmonic structure and chord progressions
- Rhythmic patterns and groove elements
- Sonic palette and instrumentation choices

**Reference Analysis:**
${e.referenceTrackLink?"Analyze the provided reference track for key production techniques and arrangement ideas.":`Draw from classic examples in the ${a} genre for inspiration.`}

##  Instrument & Sound Design
**Primary Elements:**
- Lead sounds: Character, processing, and role
- Bass design: Sub content, mid presence, and groove
- Drum programming: Kick selection, snare character, hi-hat patterns
- Harmonic elements: Pad textures, chord voicings, arpeggios

**Sound Shaping:**
- Synthesis techniques and oscillator choices
- Filter movements and modulation
- Effects processing and spatial placement
- Layering strategies for fullness

${k}

##  Mixing & Arrangement Strategy
**Frequency Management:**
- Low-end: Sub-bass vs bass guitar/synth separation
- Midrange: Vocal/lead clarity and instrument separation  
- High-end: Air, sparkle, and presence balance

**Spatial Design:**
- Stereo width: Center, sides, and phantom center elements
- Depth: Reverb sends, delay throws, and dry/wet balance
- Movement: Automation, panning, and filter sweeps

**Dynamic Control:**
- Compression: Individual tracks and bus processing
- Sidechain: Pumping effects and clarity enhancement
- Limiting: Loudness and peak control

##  Arrangement Flow & Energy Management
**Section Transitions:**
- Build techniques: Risers, drum fills, filter sweeps
- Drop preparation: Silence, reverse reverbs, tension
- Energy curves: How to maintain listener engagement

**Variation Techniques:**
- Verse differences: Subtle changes to maintain interest
- Chorus variations: Building intensity across repetitions
- Bridge/breakdown: Contrast and reset before final sections

Focus on practical, actionable advice that can be immediately applied in ${u}. Provide specific parameter ranges and creative techniques that align with the ${a} aesthetic and ${o} mood.`;return await Gr.models.generateContentStream({model:Ha,contents:I})},ys=async e=>{const t=`//  Including guidebookContext
You are TrackGuideAI's MIDI Pattern Generator. Generate MIDI patterns in VALID JSON format only.

**Requirements:**
- Key: ${e.key}
- Scale/Mode: ${e.scale||"Major/Natural Minor"}
- Tempo: ${e.tempo} BPM
- Time Signature: ${e.timeSignature.join("/")}
- Chord Progression: ${e.chordProgression}
- Genre Context: ${e.genre}
- Song Section: ${e.songSection||"General Loop"}
- Bars: ${e.bars}
- Target Instruments: ${e.targetInstruments.join(", ")}
- Guidebook Context: ${e.guidebookContext||"Not specified"}

**JSON Structure Required:**
{
  "chords": [...],
  "bassline": [...],
  "melody": [...],
  "drums": { ... }
}

**CRITICAL:** Return ONLY valid JSON. No explanatory text, no markdown formatting, no code blocks. Just the raw JSON object that can be parsed directly.

Generate patterns appropriate for ${e.genre} in the ${e.songSection} section, using ${e.chordProgression} progression in ${e.key}.`;return await Gr.models.generateContentStream({model:Ha,contents:t})},vk=async e=>{const t=`You are TrackGuideAI's Mix Analysis Expert. Provide detailed mix feedback.

**Track Analysis:**
- Track Name: ${e.trackName}
- Focus Areas: ${e.focus||"Overall mix balance and clarity"}
- User Notes: ${e.notes||e.userNotes||"No specific notes provided"}

**Analysis Framework:**
1. **Frequency Balance**
   - Low-end: Sub-bass presence and bass clarity
   - Midrange: Vocal/lead prominence and instrument separation
   - High-end: Air, sparkle, and harshness assessment

2. **Spatial Characteristics**
   - Stereo width and imaging
   - Depth and dimension
   - Center focus vs side content

3. **Dynamic Properties**
   - Compression effectiveness
   - Transient preservation
   - Overall loudness and headroom

4. **Technical Assessment**
   - Phase relationships
   - Distortion or artifacts
   - Noise floor and clarity

**Provide specific, actionable feedback with:**
- Identified strengths and areas for improvement
- Specific frequency ranges and dB adjustments
- Plugin suggestions and parameter recommendations
- Before/after comparison techniques

Focus on practical improvements that can be implemented immediately.`;return(await Gr.models.generateContent({model:Ha,contents:t})).text},bk=async e=>{const t=`
You are an expert mixing & mastering AI. The user has uploaded two mixes:

Mix A: "${e.mixAName}"  an earlier version  
Mix B: "${e.mixBName}"  the current working version  

 Instructions:
- Mix B is the active version  focus all actionable feedback on improving Mix B.
- Mix A is an earlier version  if Mix A has strengths vs Mix B, point those out.
- Acknowledge improvements made in Mix B compared to A.
- Do NOT suggest changes to Mix A (it is not being revised).

If "Request full mix analysis" is selected  add full technical breakdown of Mix B (like in your Mix Feedback function).

Provide your analysis in clear Markdown format with the following sections:

##  Overall Comparison

##  Frequency Balance

##  Stereo Image & Depth

##  Dynamics & Loudness

##  Technical Quality

##  Strengths & Opportunities (for Mix B)

##  Actionable Recommendations (for Mix B only)

`;return(await Gr.models.generateContent({model:Ha,contents:t})).text};async function Tk(e,t,n,a,o){var l,u;try{const f=n!=null&&n.tempoRange?`${n.tempoRange[0]}-${n.tempoRange[1]} BPM`:"120-130 BPM",m=(n==null?void 0:n.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"],d=ob(!0),h=rb(a,o),T={text:`You are TrackGuideAI's Remix Specialist. Analyze the uploaded audio track and create a comprehensive remix guide for transforming it into ${t} style.

**User Production Setup:**
- **DAW:** ${a||"Not specified"}
- **Available Plugins:** ${o||"Stock/Generic plugins"}

**Analysis Requirements:**
1. Identify the original track's tempo, key, harmonic progression, and rhythmic characteristics
2. Determine optimal transformation approach for ${t}
3. Provide detailed production guidance with specific techniques
4. Include plugin-specific parameter recommendations based on user's setup

**Target Genre:** ${t}
**Target Tempo Range:** ${f}
**Suggested Sections:** ${m.join(", ")}

**CRITICAL: Return your response in this EXACT JSON format:**
{
  "guide": "FULL_MARKDOWN_GUIDE_HERE",
  "originalTempo": 120,
  "originalKey": "C minor",
  "originalChordProgression": "i-VI-III-VII",
  "targetTempo": 128,
  "targetKey": "C minor",
  "sections": ["Intro", "Build-Up", "Drop", "Breakdown", "Outro"]
}

**For the "guide" field, create a detailed markdown guide that includes:**

#  REMIX GUIDE: [Original Track]  ${t}

##  Original Track DNA Analysis
**Detected Characteristics:**
- **Original Tempo:** [Detected BPM]
- **Original Key:** [Detected Key]
- **Harmonic Blueprint:** [Chord progression analysis]
- **Rhythmic Feel:** [Time signature and groove analysis]
- **Sonic Character:** [Tonal qualities and instrumentation]

**Transformation Strategy:**
- **Target Tempo:** [Recommended BPM within ${f}]
- **Target Key:** [Optimal key for ${t}]
- **Genre Adaptation:** [How to adapt original elements]

${d}

##  Sound Design & Instrumentation Transformation
**Lead Elements:**
- **Original  ${t}:** Transform existing leads using specific techniques
- **New Elements:** Add characteristic ${t} sounds
- **Processing Chain:** Specific plugin recommendations and parameters

**Rhythm Section Redesign:**
- **Drum Programming:** ${t}-specific patterns and sounds
- **Bass Design:** Sub-bass content and mid-range presence for ${t}
- **Percussion:** Additional elements typical of ${t}

**Harmonic Content:**
- **Chord Voicings:** Adapt progressions for ${t} aesthetic
- **Pad Textures:** Atmospheric elements and spatial design
- **Arpeggios/Sequences:** Rhythmic harmonic content

${h}

##  Production Techniques & Processing
**Arrangement Strategy:**
- **Section Transitions:** Build-ups, drops, and breakdowns for ${t}
- **Energy Management:** How to structure dynamics across sections
- **Original Element Integration:** Preserving vs transforming source material

**Mix Approach:**
- **Frequency Management:** EQ strategies for ${t} clarity
- **Spatial Design:** Stereo width and depth characteristics
- **Dynamic Processing:** Compression and limiting for ${t} impact

**Effects Processing:**
- **Time-Based Effects:** Reverb and delay for ${t} space
- **Modulation:** LFOs, filters, and movement
- **Creative Processing:** Distortion, bit-crushing, and character effects

##  Step-by-Step Remix Process
**Phase 1: Preparation**
1. Tempo adjustment: Specific technique for tempo change
2. Key transposition: If needed, method and tools
3. Audio editing: Chopping, slicing, and preparation

**Phase 2: Foundation**
1. Drum programming: ${t} patterns and sounds
2. Bass design: Sub and mid-bass for ${t}
3. Harmonic foundation: Chord progressions and voicings

**Phase 3: Development**
1. Lead transformation: Processing original or creating new
2. Atmospheric elements: Pads, textures, and ambience
3. Rhythmic elements: Percussion and groove enhancement

**Phase 4: Arrangement**
1. Section structure: Intro, build-ups, drops, breakdowns
2. Transition techniques: Risers, sweeps, and cuts
3. Variation strategies: Keeping listener engagement

**Phase 5: Mix & Master**
1. Frequency balance: ${t}-specific EQ approach
2. Dynamic control: Compression and limiting strategies
3. Spatial processing: Stereo width and depth
4. Final polish: Loudness and character enhancement

##  Pro Tips for ${t} Remix Success
- **Signature Elements:** Key characteristics that define ${t}
- **Common Pitfalls:** What to avoid when adapting to ${t}
- **Creative Opportunities:** Unique ways to blend original with ${t}
- **Reference Tracks:** Study these ${t} examples for inspiration

Focus on practical, actionable techniques that can be implemented immediately. Provide specific parameter suggestions and creative approaches that honor both the original track and the target genre aesthetic.

**IMPORTANT:** Return ONLY the JSON object with the complete markdown guide in the "guide" field. Focus on detailed analysis and production techniques.`},E=[{inlineData:{data:e.base64,mimeType:e.mimeType}},T],I=(await Gr.models.generateContent({model:Ha,contents:{parts:E}})).text;if(typeof I!="string")throw new Error("Received an unexpected response format from Gemini API for remix guide.");let N=I.trim();const V=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,P=N.match(V);P&&P[2]&&(N=P[2].trim());let $;try{$=JSON.parse(N)}catch{console.error("Failed to parse JSON response:",N);const ce=I.match(/Target Tempo.*?(\d+)/i),ue=I.match(/Target Key.*?([A-G][#b]?\s*(?:major|minor|maj|min)?)/i);return{guide:I,targetTempo:ce?parseInt(ce[1]):((l=n==null?void 0:n.tempoRange)==null?void 0:l[0])||128,targetKey:ue?ue[1].trim():"C minor",sections:m,originalKey:"C minor",originalTempo:120,originalChordProgression:"i-VI-III-VII"}}return{guide:$.guide||I,targetTempo:$.targetTempo||((u=n==null?void 0:n.tempoRange)==null?void 0:u[0])||128,targetKey:$.targetKey||"C minor",sections:$.sections||m,originalKey:$.originalKey||"C minor",originalTempo:$.originalTempo||120,originalChordProgression:$.originalChordProgression||"i-VI-III-VII"}}catch(f){console.error("Error generating remix guide:",f);let m="An unknown error occurred while generating remix guide.";throw f instanceof Error&&(m=f.message,f.message.includes("API key not valid")||f.message.includes("permission")?m="Invalid API Key or insufficient permissions. Please check your API key configuration.":f.message.toLowerCase().includes("network error")||f.message.toLowerCase().includes("failed to fetch")?m=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${f.message})`:f.message.includes("Candidate was blocked")?m="The response for remix guide was blocked by the AI. This might be due to content policies. Please try again or adjust your input.":f.message.includes("audio")&&(m=`There was an issue processing the audio file. Ensure it's a common format and not too large. (${f.message})`)),new Error(m)}}const Ax=async e=>{if(!e.audioFile)return vk(e);try{const n=await(d=>new Promise((h,y)=>{const T=new FileReader;T.onloadend=()=>{const S=T.result;h(S.split(",")[1])},T.onerror=y,T.readAsDataURL(d)}))(e.audioFile),o={text:`You are TrackGuideAI's Advanced Mix Analysis Expert. Analyze the uploaded audio file and provide comprehensive mix feedback.

**Track Information:**
- Track Name: ${e.trackName||"Uploaded Mix"}
- Focus Areas: ${e.focus||"Overall mix balance and clarity"}
- User Notes: ${e.notes||e.userNotes||"No specific notes provided"}

**Comprehensive Analysis Framework:**

##  Audio Analysis Results

### Frequency Spectrum Analysis
**Low-End (20-250 Hz):**
- Sub-bass presence and control
- Bass clarity and definition
- Low-mid muddiness assessment

**Midrange (250 Hz - 5 kHz):**
- Vocal/lead instrument clarity
- Instrument separation and masking
- Presence and intelligibility

**High-End (5 kHz+):**
- Air and sparkle quality
- Harshness or sibilance issues
- Overall brightness balance

### Stereo Field & Spatial Analysis
**Width & Imaging:**
- Stereo spread effectiveness
- Phantom center stability
- Side content balance

**Depth & Dimension:**
- Reverb usage and space
- Dry/wet balance
- Front-to-back positioning

### Dynamic Range Assessment
**Compression Analysis:**
- Overall dynamic range
- Transient preservation
- Pumping or over-compression

**Loudness Evaluation:**
- Perceived loudness level
- Peak management
- Headroom availability

### Technical Quality Check
**Distortion & Artifacts:**
- Unwanted harmonic distortion
- Digital artifacts or clipping
- Noise floor assessment

**Phase Relationships:**
- Mono compatibility
- Phase cancellation issues
- Correlation analysis

##  Specific Recommendations

### Immediate Improvements
1. **Priority Fix #1:** [Most critical issue with specific solution]
2. **Priority Fix #2:** [Second most important improvement]
3. **Priority Fix #3:** [Third priority enhancement]

### Technical Adjustments
**EQ Suggestions:**
- Specific frequency cuts/boosts with dB amounts
- Problem frequency identification
- Enhancement opportunities

**Compression Recommendations:**
- Ratio, attack, and release settings
- Specific compressor types or plugins
- Bus compression strategies

**Effects Processing:**
- Reverb and delay adjustments
- Spatial enhancement techniques
- Creative processing opportunities

### Professional Polish
**Mastering Considerations:**
- Final EQ and compression
- Stereo enhancement
- Loudness optimization

**Reference Comparison:**
- How this mix compares to commercial standards
- Genre-specific benchmarks
- Areas for competitive improvement

Provide actionable, specific feedback that can be implemented immediately to improve the mix quality and professional impact.`},u=[{inlineData:{data:n,mimeType:e.audioFile.type||"audio/mpeg"}},o],m=(await Gr.models.generateContent({model:Ha,contents:{parts:u}})).text;if(typeof m!="string")throw new Error("Received an unexpected response format from Gemini API for mix feedback.");return m}catch(t){console.error("Error generating mix feedback with audio:",t);let n="An unknown error occurred while generating mix feedback.";throw t instanceof Error&&(n=t.message,t.message.includes("API key not valid")||t.message.includes("permission")?n="Invalid API Key or insufficient permissions. Please check your API key configuration.":t.message.toLowerCase().includes("network error")||t.message.toLowerCase().includes("failed to fetch")?n=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${t.message})`:t.message.includes("Candidate was blocked")?n="The response was blocked by the AI. This might be due to content policies. Please try again or adjust your input.":t.message.includes("audio")&&(n=`There was an issue processing the audio file. Ensure it's a common format and not too large. (${t.message})`)),new Error(n)}},_n=Nm.forwardRef(({label:e,id:t,wrapperClassName:n,...a},o)=>g.jsxs("div",{className:n,children:[e&&g.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-300 mb-1",children:e}),g.jsx("input",{id:t,ref:o,...a,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${a.className||""}`})]}));_n.displayName="Input";const Nr=({label:e,id:t,wrapperClassName:n,...a})=>g.jsxs("div",{className:n,children:[e&&g.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-300 mb-1",children:e}),g.jsx("textarea",{id:t,...a,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${a.className||""}`,rows:3})]}),Be=({children:e,variant:t="primary",size:n="md",className:a="",leftIcon:o,rightIcon:l,...u})=>{const f="inline-flex items-center justify-center font-semibold rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 transition-colors duration-150 disabled:opacity-50 disabled:cursor-not-allowed",m={primary:"bg-purple-600 hover:bg-purple-700 text-white focus:ring-purple-500",secondary:"bg-gray-700    hover:bg-gray-600 text-gray-100 focus:ring-gray-500",outline:"border border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white focus:ring-purple-500",danger:"bg-red-600     hover:bg-red-700 text-white focus:ring-red-500"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2   text-base",lg:"px-6 py-3   text-lg"};return g.jsxs("button",{...u,className:`${f} ${m[t]} ${d[n]} ${a}`,children:[o&&g.jsx("span",{className:"mr-2",children:o}),e,l&&g.jsx("span",{className:"ml-2",children:l})]})},Ue=({children:e,className:t="",title:n,titleClassName:a="",contentClassName:o="",...l})=>g.jsxs("div",{className:`bg-gray-800 shadow-lg rounded-lg overflow-hidden ${t}`,...l,children:[n&&g.jsx("div",{className:`px-4 py-3 border-b border-gray-700 ${a}`,children:g.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:n})}),g.jsx("div",{className:`p-4 ${o}`,children:e})]}),ta=({size:e="md",color:t="text-purple-500",text:n})=>{const a={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"};return g.jsxs("div",{className:"flex flex-col items-center justify-center",children:[g.jsx("div",{className:`animate-spin rounded-full border-t-2 border-b-2 border-transparent ${a[e]} ${t}`,style:{borderTopColor:"currentColor",borderBottomColor:"currentColor"}}),n&&g.jsx("p",{className:"mt-2 text-sm text-gray-400",children:n})]})},Kd=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})]}),Sk=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v10a2 2 0 01-2 2H7a2 2 0 01-2-2V4zm2 0v10h6V4H7zm5 1h-4a1 1 0 100 2h4a1 1 0 100-2z"})]}),Ck=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})]}),Xd=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})]}),Ak=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m9.75 0l-4.5-4.5m0 0l-4.5 4.5M12.75 3v4.5A2.25 2.25 0 0015 9.75h4.5"})]}),sb=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{d:"M10 3.515V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S7.187 14.18 8.5 14.18c1.238 0 2.263-.672 2.375-1.537h.125v-7.14c0-.313.11-.604.313-.828.202-.224.494-.344.812-.344.625 0 1.125.5 1.125 1.125V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S10.187 14.18 11.5 14.18c1.313 0 2.388-.752 2.388-1.672a1.675 1.675 0 00-1.078-1.543V3.515A2.625 2.625 0 0010 1C8.619 1 7.5 2.12 7.5 3.5V11.24A3.513 3.513 0 006 10.833c-1.313 0-2.388.752-2.388 1.672S4.687 14.18 6 14.18c1.237 0 2.262-.672 2.375-1.537h.125V6.125C8.5 4.5 9.125 3.515 10 3.515z"})]}),Wd=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})]}),Ex=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M6.516 4.42A1.5 1.5 0 004 5.662v8.676a1.5 1.5 0 002.516 1.242l6.712-4.338a1.5 1.5 0 000-2.484L6.516 4.42z",clipRule:"evenodd"})]}),Ek=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M5 5a1 1 0 00-1 1v8a1 1 0 001 1h8a1 1 0 001-1V6a1 1 0 00-1-1H5zm0-2a3 3 0 00-3 3v8a3 3 0 003 3h8a3 3 0 003-3V6a3 3 0 00-3-3H5z",clipRule:"evenodd"})]}),Mx=({className:e,isSpinning:t,title:n})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${e||"w-5 h-5"} ${t?"animate-spin":""}`,"aria-hidden":n?void 0:"true",role:n?"img":void 0,children:[n&&g.jsx("title",{children:n}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})]}),Mk=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M18 7H2a1 1 0 00-1 1v6a1 1 0 001 1h16a1 1 0 001-1V8a1 1 0 00-1-1zM2 9.5v3h16v-3H2z",clipRule:"evenodd"}),g.jsx("path",{d:"M4 11h1v1H4v-1zm2 0h1v1H6v-1zm2 0h1v1H8v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1z"})]}),wk=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("rect",{x:"3.5",y:"3.5",width:"17",height:"17",rx:"2",stroke:"currentColor",fill:"none",strokeWidth:"1.5"})]}),Dk=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v12a1 1 0 01-1 1H4a1 1 0 01-1-1V3zm10.707 3.707a1 1 0 00-1.414-1.414L8 9.586 6.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l5-5z",clipRule:"evenodd"})]}),lb=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})]}),rd=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})]}),od=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a2.25 2.25 0 11-4.5 0m4.5 0a2.25 2.25 0 10-4.5 0M3.75 6H7.5m3 12h9.75m-9.75 0a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 18H7.5M10.5 12h9.75M10.5 12a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 12H7.5"})]});function kk(e){return typeof e=="number"}function Nk(e){return typeof e=="string"}function Rk(e){return typeof e<"u"}function Ik(e,t){return Math.pow(2,(e-69)/12)*440}var _k=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,Lk=[0,2,4,5,7,9,11];function Pk(e,t,n){if(typeof e!="string")return null;var a=_k.exec(e);if(!a||a[4])return null;var o={letter:a[1].toUpperCase(),acc:a[2].replace(/x/g,"##")};o.pc=o.letter+o.acc,o.step=(o.letter.charCodeAt(0)+3)%7,o.alt=o.acc[0]==="b"?-o.acc.length:o.acc.length;var l=Lk[o.step]+o.alt;return o.chroma=l<0?12+l:l%12,a[3]&&(o.oct=+a[3],o.midi=l+12*(o.oct+1),o.freq=Ik(o.midi)),o}function Ok(e){if((kk(e)||Nk(e))&&e>=0&&e<128)return+e;var t=Pk(e);return t&&Rk(t.midi)?t.midi:null}function Bk(e){return Array.isArray(e)&&e.length===2?e[0]*7+e[1]*12+12:Ok(e)}var Fk="C Db D Eb E F Gb G Ab A Bb B".split(" "),Vk="C C# D D# E F F# G G# A A# B".split(" ");function ub(e,t){if(e===!0||e===!1)return function(l){return ub(l,e)};e=Math.round(e);var n=t===!0?Vk:Fk,a=n[e%12],o=Math.floor(e/12)-1;return a+o}const jk=Object.freeze(Object.defineProperty({__proto__:null,note:ub,toMidi:Bk},Symbol.toStringTag,{value:"Module"})),zk=rE(jk);var sd,wx;function Hk(){if(wx)return sd;wx=1;var e=zk,t={VERSION:"2.1.4",HEADER_CHUNK_TYPE:[77,84,104,100],HEADER_CHUNK_LENGTH:[0,0,0,6],HEADER_CHUNK_FORMAT0:[0,0],HEADER_CHUNK_FORMAT1:[0,1],HEADER_CHUNK_DIVISION:[0,128],TRACK_CHUNK_TYPE:[77,84,114,107],META_EVENT_ID:255,META_TEXT_ID:1,META_COPYRIGHT_ID:2,META_TRACK_NAME_ID:3,META_INSTRUMENT_NAME_ID:4,META_LYRIC_ID:5,META_MARKER_ID:6,META_CUE_POINT:7,META_TEMPO_ID:81,META_SMTPE_OFFSET:84,META_TIME_SIGNATURE_ID:88,META_KEY_SIGNATURE_ID:89,META_END_OF_TRACK_ID:[47,0],CONTROLLER_CHANGE_STATUS:176,PITCH_BEND_STATUS:224};function n(_){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},n(_)}function a(){a=function(j,U){return new R(j,void 0,U)};var _=RegExp.prototype,D=new WeakMap;function R(j,U,M){var ae=new RegExp(j,U);return D.set(ae,M||D.get(j)),m(ae,R.prototype)}function C(j,U){var M=D.get(U);return Object.keys(M).reduce(function(ae,z){return ae[z]=j[M[z]],ae},Object.create(null))}return f(R,RegExp),R.prototype.exec=function(j){var U=_.exec.call(this,j);return U&&(U.groups=C(U,this)),U},R.prototype[Symbol.replace]=function(j,U){if(typeof U=="string"){var M=D.get(this);return _[Symbol.replace].call(this,j,U.replace(/\$<([^>]+)>/g,function(z,oe){return"$"+M[oe]}))}if(typeof U=="function"){var ae=this;return _[Symbol.replace].call(this,j,function(){var z=arguments;return typeof z[z.length-1]!="object"&&(z=[].slice.call(z)).push(C(z,ae)),U.apply(this,z)})}return _[Symbol.replace].call(this,j,U)},a.apply(this,arguments)}function o(_,D){if(!(_ instanceof D))throw new TypeError("Cannot call a class as a function")}function l(_,D){for(var R=0;R<D.length;R++){var C=D[R];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}}function u(_,D,R){return D&&l(_.prototype,D),R&&l(_,R),Object.defineProperty(_,"prototype",{writable:!1}),_}function f(_,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(D&&D.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),D&&m(_,D)}function m(_,D){return m=Object.setPrototypeOf||function(C,j){return C.__proto__=j,C},m(_,D)}var d=function(){function _(){o(this,_)}return u(_,null,[{key:"version",value:function(){return t.VERSION}},{key:"stringToBytes",value:function(R){return R.split("").map(function(C){return C.charCodeAt()})}},{key:"isNumeric",value:function(R){return!isNaN(parseFloat(R))&&isFinite(R)}},{key:"getPitch",value:function(R){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"C4";return 60-e.toMidi(C)+e.toMidi(R)}},{key:"numberToVariableLength",value:function(R){R=Math.round(R);for(var C=R&127;R=R>>7;)C<<=8,C|=R&127|128;for(var j=[];j.push(C&255),C&128;)C>>=8;return j}},{key:"stringByteCount",value:function(R){return encodeURI(R).split(/%..|./).length-1}},{key:"numberFromBytes",value:function(R){var C="",j;return R.forEach(function(U){j=U.toString(16),j.length==1&&(j="0"+j),C+=j}),parseInt(C,16)}},{key:"numberToBytes",value:function(R,C){C=C||1;var j=R.toString(16);j.length&1&&(j="0"+j);var U=j.match(/.{2}/g);if(U=U.map(function(M){return parseInt(M,16)}),U.length<C)for(;C-U.length>0;)U.unshift(0);return U}},{key:"toArray",value:function(R){return Array.isArray(R)?R:[R]}},{key:"convertVelocity",value:function(R){return R=R>100?100:R,Math.round(R/100*127)}},{key:"getTickDuration",value:function(R){if(Array.isArray(R))return R.map(function(M){return _.getTickDuration(M)}).reduce(function(M,ae){return M+ae},0);if(R=R.toString(),R.toLowerCase().charAt(0)==="t"){var C=parseInt(R.substring(1));if(isNaN(C)||C<0)throw new Error(R+" is not a valid duration.");return C}var j=_.numberFromBytes(t.HEADER_CHUNK_DIVISION),U=j*_.getDurationMultiplier(R);return _.getRoundedIfClose(U)}},{key:"getRoundedIfClose",value:function(R){var C=Math.round(R);return Math.abs(C-R)<1e-6?C:R}},{key:"getPrecisionLoss",value:function(R){var C=Math.round(R);return C-R}},{key:"getDurationMultiplier",value:function(R){if(R==="0")return 0;var C=R.match(a(/^(d+)?(\d+)(?:t(\d*))?/,{dotted:1,base:2,tuplet:3}));if(C){var j=Number(C.groups.base),U=j===1||(j&j-1)===0;if(U){var M=j/4,ae=1/M,z=C.groups,oe=z.dotted,ye=z.tuplet;if(oe){var de=oe.length,Ee=Math.pow(2,de);ae=ae+ae*((Ee-1)/Ee)}if(typeof ye=="string"){var Ie=ae*2,Ve=Number(ye||"3");ae=Ie/Ve}return ae}}throw new Error(R+" is not a valid duration.")}}]),_}(),h=u(function _(D){o(this,_),D=Object.assign({delta:0},D),this.type="controller",this.data=d.numberToVariableLength(D.delta).concat(t.CONTROLLER_CHANGE_STATUS,D.controllerNumber,D.controllerValue)}),y=u(function _(D){o(this,_),D=Object.assign({delta:0},D),this.type="cue-point";var R=d.stringToBytes(D.text);this.data=d.numberToVariableLength(D.delta).concat(t.META_EVENT_ID,t.META_CUE_POINT,d.numberToVariableLength(R.length),R)}),T=u(function _(D){o(this,_),D=Object.assign({delta:0},D),this.type="end-track",this.data=d.numberToVariableLength(D.delta).concat(t.META_EVENT_ID,t.META_END_OF_TRACK_ID)}),S=u(function _(D){o(this,_),D=Object.assign({delta:0},D),this.type="instrument-name";var R=d.stringToBytes(D.text);this.data=d.numberToVariableLength(D.delta).concat(t.META_EVENT_ID,t.META_INSTRUMENT_NAME_ID,d.numberToVariableLength(R.length),R)}),E=u(function _(D,R){o(this,_),this.type="key-signature";var C=R||0;if(D=D||0,typeof R>"u"){var j=[["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"],["ab","eb","bb","f","c","g","d","a","e","b","f#","c#","g#","d#","a#"]],U=D.length,M=D||"C";if(D[0]===D[0].toLowerCase()&&(C=1),U>1)switch(D.charAt(U-1)){case"m":C=1,M=D.charAt(0).toLowerCase(),M=M.concat(D.substring(1,U-1));break;case"-":C=1,M=D.charAt(0).toLowerCase(),M=M.concat(D.substring(1,U-1));break;case"M":C=0,M=D.charAt(0).toUpperCase(),M=M.concat(D.substring(1,U-1));break;case"+":C=0,M=D.charAt(0).toUpperCase(),M=M.concat(D.substring(1,U-1));break}var ae=j[C].indexOf(M);D=ae===-1?0:ae-7}this.data=d.numberToVariableLength(0).concat(t.META_EVENT_ID,t.META_KEY_SIGNATURE_ID,[2],d.numberToBytes(D,1),d.numberToBytes(C,1))}),k=u(function _(D){o(this,_),D=Object.assign({delta:0},D),this.type="lyric";var R=d.stringToBytes(D.text);this.data=d.numberToVariableLength(D.delta).concat(t.META_EVENT_ID,t.META_LYRIC_ID,d.numberToVariableLength(R.length),R)}),I=u(function _(D){o(this,_),D=Object.assign({delta:0},D),this.type="marker";var R=d.stringToBytes(D.text);this.data=d.numberToVariableLength(D.delta).concat(t.META_EVENT_ID,t.META_MARKER_ID,d.numberToVariableLength(R.length),R)}),N=function(){function _(D){o(this,_),D=Object.assign({channel:1,startTick:null,velocity:50,wait:0},D),this.type="note-on",this.channel=D.channel,this.pitch=D.pitch,this.wait=D.wait,this.velocity=D.velocity,this.startTick=D.startTick,this.tick=null,this.delta=null,this.data=D.data}return u(_,[{key:"buildData",value:function(R,C){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.data=[],this.startTick?(this.tick=d.getRoundedIfClose(this.startTick),R.tickPointer==0&&(this.delta=this.tick)):(this.delta=d.getTickDuration(this.wait),this.tick=d.getRoundedIfClose(R.tickPointer+this.delta)),this.deltaWithPrecisionCorrection=d.getRoundedIfClose(this.delta-C),this.data=d.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),d.getPitch(this.pitch,j.middleC),d.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 144+this.channel-1}}]),_}(),V=function(){function _(D){o(this,_),D=Object.assign({channel:1,velocity:50,tick:null},D),this.type="note-off",this.channel=D.channel,this.pitch=D.pitch,this.duration=D.duration,this.velocity=D.velocity,this.tick=D.tick,this.delta=d.getTickDuration(this.duration),this.data=D.data}return u(_,[{key:"buildData",value:function(R,C){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.tick===null&&(this.tick=d.getRoundedIfClose(this.delta+R.tickPointer)),this.deltaWithPrecisionCorrection=d.getRoundedIfClose(this.delta-C),this.data=d.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),d.getPitch(this.pitch,j.middleC),d.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 128+this.channel-1}}]),_}(),P=function(){function _(D){o(this,_),D=Object.assign({channel:1,repeat:1,sequential:!1,startTick:null,velocity:50,wait:0},D),this.data=[],this.type="note",this.pitch=d.toArray(D.pitch),this.channel=D.channel,this.duration=D.duration,this.grace=D.grace,this.repeat=D.repeat,this.sequential=D.sequential,this.startTick=D.startTick,this.velocity=D.velocity,this.wait=D.wait,this.tickDuration=d.getTickDuration(this.duration),this.restDuration=d.getTickDuration(this.wait),this.events=[]}return u(_,[{key:"buildData",value:function(){var R=this;if(this.data=[],this.grace){var C=1;this.grace=d.toArray(this.grace),this.grace.forEach(function(){var M=new _({pitch:R.grace,duration:"T"+C});R.data=R.data.concat(M.data)})}if(this.sequential)for(var U=0;U<this.repeat;U++)this.pitch.forEach(function(M,ae){var z=new N({channel:R.channel,wait:ae>0?0:R.wait,velocity:R.velocity,pitch:M,startTick:R.startTick}),oe=new V({channel:R.channel,duration:R.duration,velocity:R.velocity,pitch:M});R.events.push(z,oe)});else for(var j=0;j<this.repeat;j++)this.pitch.forEach(function(M,ae){var z;ae==0?z=new N({channel:R.channel,wait:R.wait,velocity:R.velocity,pitch:M,startTick:R.startTick}):z=new N({channel:R.channel,wait:0,velocity:R.velocity,pitch:M,startTick:R.startTick}),R.events.push(z)}),this.pitch.forEach(function(M,ae){var z;ae==0?z=new V({channel:R.channel,duration:R.duration,velocity:R.velocity,pitch:M,tick:R.startTick!==null?d.getTickDuration(R.duration)+R.startTick:null}):z=new V({channel:R.channel,duration:0,velocity:R.velocity,pitch:M,tick:R.startTick!==null?d.getTickDuration(R.duration)+R.startTick:null}),R.events.push(z)});return this}}]),_}(),$=function(D){return D<=0?Math.floor(16384*(D+1)/2):Math.floor(16383*(D+1)/2)},K=u(function _(D){o(this,_),D=Object.assign({delta:0},D),this.type="pitch-bend";var R=$(D.bend),C=D.channel||0,j=R&127,U=R>>7&127;this.data=d.numberToVariableLength(D.delta).concat(t.PITCH_BEND_STATUS|C,j,U)}),q=function(){function _(D){o(this,_),this.fields=Object.assign({channel:1,delta:0},D),this.type="program",this.data=d.numberToVariableLength(this.fields.delta).concat(this.getStatusByte(),this.fields.instrument)}return u(_,[{key:"getStatusByte",value:function(){return 192+this.fields.channel-1}}]),_}(),ce=u(function _(D){o(this,_),D=Object.assign({delta:0},D),this.type="tempo",this.tick=D.tick;var R=Math.round(6e7/D.bpm);this.data=d.numberToVariableLength(D.delta).concat(t.META_EVENT_ID,t.META_TEMPO_ID,[3],d.numberToBytes(R,3))}),ue=u(function _(D){o(this,_),D=Object.assign({delta:0},D),this.type="text";var R=d.stringToBytes(D.text);this.data=d.numberToVariableLength(D.delta).concat(t.META_EVENT_ID,t.META_TEXT_ID,d.numberToVariableLength(R.length),R)}),pe=u(function _(D,R,C,j){o(this,_),this.type="time-signature",this.data=d.numberToVariableLength(0).concat(t.META_EVENT_ID,t.META_TIME_SIGNATURE_ID,[4],d.numberToBytes(D,1),d.numberToBytes(Math.log2(R),1),d.numberToBytes(C||24,1),d.numberToBytes(j||8,1))}),L=u(function _(D){o(this,_),D=Object.assign({delta:0},D),this.type="copyright";var R=d.stringToBytes(D.text);this.data=d.numberToVariableLength(D.delta).concat(t.META_EVENT_ID,t.META_COPYRIGHT_ID,d.numberToVariableLength(R.length),R)}),G=u(function _(D){o(this,_),D=Object.assign({delta:0},D),this.type="track-name";var R=d.stringToBytes(D.text);this.data=d.numberToVariableLength(D.delta).concat(t.META_EVENT_ID,t.META_TRACK_NAME_ID,d.numberToVariableLength(R.length),R)}),ne=function(){function _(){o(this,_),this.type=t.TRACK_CHUNK_TYPE,this.data=[],this.size=[],this.events=[],this.explicitTickEvents=[],this.tickPointer=0}return u(_,[{key:"addEvent",value:function(R,C){var j=this;return d.toArray(R).forEach(function(U,M){if(U instanceof P){if(typeof C=="function"){var ae=C(M,U);if(n(ae)==="object")for(var z in ae)switch(z){case"channel":U.channel=ae[z];break;case"duration":U.duration=ae[z];break;case"sequential":U.sequential=ae[z];break;case"velocity":U.velocity=d.convertVelocity(ae[z]);break}}U.startTick!==null?j.explicitTickEvents.push(U):U.buildData().events.forEach(function(oe){return j.events.push(oe)})}else U instanceof T&&j.removeEventsByType("end-track"),j.events.push(U)}),this}},{key:"buildData",value:function(){var R=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(!this.events.length||!(this.events[this.events.length-1]instanceof T))&&this.addEvent(new T),this.data=[],this.size=[],this.tickPointer=0;var j=0;return this.events.forEach(function(U){if(U instanceof N||U instanceof V){var M=U.buildData(R,j,C);j=d.getPrecisionLoss(U.deltaWithPrecisionCorrection||0),R.data=R.data.concat(M.data),R.tickPointer=d.getRoundedIfClose(U.tick)}else U instanceof ce&&(R.tickPointer=d.getRoundedIfClose(U.tick)),R.data=R.data.concat(U.data)}),this.mergeExplicitTickEvents(),this.size=d.numberToBytes(this.data.length,4),this}},{key:"mergeExplicitTickEvents",value:function(){var R=this;this.explicitTickEvents.length&&(this.explicitTickEvents.sort(function(C,j){return C.startTick-j.startTick}),this.explicitTickEvents.forEach(function(C){C.buildData().events.forEach(function(j){return j.buildData(R)}),C.events.forEach(function(j){return R.mergeSingleEvent(j)})}),this.explicitTickEvents=[],this.buildData())}},{key:"mergeTrack",value:function(R){var C=this;this.buildData(),R.buildData().events.forEach(function(j){return C.mergeSingleEvent(j)})}},{key:"mergeSingleEvent",value:function(R){if(!this.events.length){this.addEvent(R);return}for(var C,j=0;j<this.events.length&&!(this.events[j].tick>R.tick);j++)C=j;var U=C+1;R.delta=R.tick-this.events[C].tick,this.events.splice(U,0,R);for(var M=U+1;M<this.events.length;M++)this.events[M].delta=this.events[M].tick-this.events[M-1].tick}},{key:"removeEventsByType",value:function(R){var C=this;return this.events.forEach(function(j,U){j.type===R&&C.events.splice(U,1)}),this}},{key:"setTempo",value:function(R){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.addEvent(new ce({bpm:R,tick:C}))}},{key:"setTimeSignature",value:function(R,C,j,U){return this.addEvent(new pe(R,C,j,U))}},{key:"setKeySignature",value:function(R,C){return this.addEvent(new E(R,C))}},{key:"addText",value:function(R){return this.addEvent(new ue({text:R}))}},{key:"addCopyright",value:function(R){return this.addEvent(new L({text:R}))}},{key:"addTrackName",value:function(R){return this.addEvent(new G({text:R}))}},{key:"addInstrumentName",value:function(R){return this.addEvent(new S({text:R}))}},{key:"addMarker",value:function(R){return this.addEvent(new I({text:R}))}},{key:"addCuePoint",value:function(R){return this.addEvent(new y({text:R}))}},{key:"addLyric",value:function(R){return this.addEvent(new k({text:R}))}},{key:"polyModeOn",value:function(){var R=new N({data:[0,176,126,0]});return this.addEvent(R)}},{key:"setPitchBend",value:function(R){return this.addEvent(new K({bend:R}))}},{key:"controllerChange",value:function(R,C){return this.addEvent(new h({controllerNumber:R,controllerValue:C}))}}]),_}(),te=function(){function _(){o(this,_)}return u(_,[{key:"trackFromVoice",value:function(R){var C=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{addRenderedAccidentals:!1},U=new ne,M=[];return R.tickables.forEach(function(ae){ae.noteType==="n"?(U.addEvent(new P({pitch:ae.keys.map(function(z,oe){return C.convertPitch(z,oe,ae,j.addRenderedAccidentals)}),duration:C.convertDuration(ae),wait:M})),M=[]):ae.noteType==="r"&&M.push(C.convertDuration(ae))}),M.length>0&&U.addEvent(new P({pitch:"[c4]",duration:"0",wait:M,velocity:"0"})),U}},{key:"convertPitch",value:function(R,C,j){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,M=R.split("/"),ae=M[0].substring(1).replace("n","");if(U){var z;(z=j.getAccidentals())===null||z===void 0||z.forEach(function(oe){oe.index===C&&(oe.type==="n"?ae="":ae+=oe.type)})}return M[0][0]+ae+M[1]}},{key:"convertDuration",value:function(R){return"d".repeat(R.dots)+this.convertBaseDuration(R.duration)+(R.tuplet?"t"+R.tuplet.num_notes:"")}},{key:"convertBaseDuration",value:function(R){switch(R){case"w":return"1";case"h":return"2";case"q":return"4";default:return R}}}]),_}(),re=u(function _(D){o(this,_),this.type=t.HEADER_CHUNK_TYPE;var R=D>1?t.HEADER_CHUNK_FORMAT1:t.HEADER_CHUNK_FORMAT0;this.data=R.concat(d.numberToBytes(D,2),t.HEADER_CHUNK_DIVISION),this.size=[0,0,0,this.data.length]}),B=function(){function _(D){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,_),this.tracks=d.toArray(D),this.options=R}return u(_,[{key:"buildData",value:function(){var R=this,C=[];return C.push(new re(this.tracks.length)),this.tracks.forEach(function(j){C.push(j.buildData(R.options))}),C}},{key:"buildFile",value:function(){var R=[];return this.buildData().forEach(function(C){return R=R.concat(C.type,C.size,C.data)}),new Uint8Array(R)}},{key:"base64",value:function(){return typeof btoa=="function"?btoa(String.fromCharCode.apply(null,this.buildFile())):Buffer.from(this.buildFile()).toString("base64")}},{key:"dataUri",value:function(){return"data:audio/midi;base64,"+this.base64()}},{key:"setOption",value:function(R,C){return this.options[R]=C,this}},{key:"stdout",value:function(){return process.stdout.write(Buffer.from(this.buildFile()))}}]),_}(),F={Constants:t,ControllerChangeEvent:h,CuePointEvent:y,EndTrackEvent:T,InstrumentNameEvent:S,KeySignatureEvent:E,LyricEvent:k,MarkerEvent:I,NoteOnEvent:N,NoteOffEvent:V,NoteEvent:P,PitchBendEvent:K,ProgramChangeEvent:q,TempoEvent:ce,TextEvent:ue,TimeSignatureEvent:pe,Track:ne,TrackNameEvent:G,Utils:d,VexFlow:te,Writer:B};return sd=F,sd}var Uk=Hk();const Gn=ws(Uk),Zl=e=>{if(!Gn.Track)return null;const t=new Gn.Track;return t.addTrackName(e),t},ld=(e,t,n,a=!1)=>{!Gn.NoteEvent||!t||t.length===0||!e||t.forEach(o=>{let l=[];if(a)l=o.notes.map(f=>f.midi).filter(f=>typeof f=="number");else{const u=o;typeof u.midi=="number"&&(l=[u.midi])}if(l.length>0){const u=Math.round(o.duration*128),f=Math.round(o.time*128),m=l.map(d=>{const h=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],y=Math.floor(d/12)-1;return`${h[d%12]}${y}`});e.addEvent(new Gn.NoteEvent({pitch:m.length===1?m[0]:m,duration:`T${u}`,startTick:f,velocity:o.velocity||(a?90:100),channel:n}))}})},qk=(e,t)=>{!Gn.NoteEvent||!t||Object.keys(t).length===0||!e||Object.entries(t).forEach(([n,a])=>{const o=n.toLowerCase().replace(/\s+/g,"_"),l=Su[o]||Su[n];typeof l!="number"||!a||a.forEach(u=>{const f=Math.round(u.duration*128),m=Math.round(u.time*128),d=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],h=Math.floor(l/12)-1,T=`${d[l%12]}${h}`;e.addEvent(new Gn.NoteEvent({pitch:T,duration:`T${f}`,startTick:m,velocity:u.velocity||100,channel:10}))})})},Dx=(e,t,n="TrackGuide")=>{if(!Gn||!Gn.Writer||!Gn.Track||!Gn.NoteEvent)return console.error("MidiWriterJS components (Writer, Track, NoteEvent) are not loaded. Cannot generate MIDI file."),null;const a=[];let o=!1;const l=f=>(f&&(f.setTempo(t.tempo,0),f.setTimeSignature(t.timeSignature[0],t.timeSignature[1])),f);if(e.chords&&e.chords.length>0){let f=Zl(`${n} Chords`);f=l(f),f&&(ld(f,e.chords,1,!0),a.push(f),o=!0)}if(e.bassline&&e.bassline.length>0){let f=Zl(`${n} Bassline`);f=l(f),f&&(ld(f,e.bassline,2,!1),a.push(f),o=!0)}if(e.melody&&e.melody.length>0){let f=Zl(`${n} Melody`);f=l(f),f&&(ld(f,e.melody,3,!1),a.push(f),o=!0)}if(e.drums&&Object.keys(e.drums).length>0){let f=Zl(`${n} Drums`);f=l(f),f&&(qk(f,e.drums),a.push(f),o=!0)}return o?new Gn.Writer(a).dataUri():(console.warn("No patterns to write to MIDI file."),null)},kx=(e,t)=>{if(!e){console.error("MIDI data URI is null or empty. Cannot download."),alert("Failed to generate MIDI data for download.");return}const n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)};let Qi=null,na=[],Cu=null,du=null,Au=0,ss=0,_r=!1;const Im=()=>((!Qi||Qi.state==="closed")&&(Qi=new(window.AudioContext||window.webkitAudioContext),Cu=Qi.createGain(),Cu.connect(Qi.destination)),Qi.state==="suspended"&&Qi.resume(),Qi),Pa=(e,t)=>e/t*60,ud=(e,t,n,a=100,o=!1,l,u)=>{const f=Im();if(!Cu||!u)return;const m=Au+ss*cb()+t;if(m<f.currentTime-.05)return;const d=f.createGain(),h=a/127*(o?.75:.35);let y=h;if(d.gain.setValueAtTime(y,m),y>1e-4)try{d.gain.exponentialRampToValueAtTime(1e-4,m+n)}catch{d.gain.linearRampToValueAtTime(1e-4,m+n)}d.connect(Cu);let T;if(o)if(l==="kick"){const S=f.createOscillator();S.type="sine",S.frequency.setValueAtTime(150,m),S.frequency.exponentialRampToValueAtTime(50,m+Math.min(n,.12));const E=f.createGain();E.gain.setValueAtTime(1,m),E.gain.exponentialRampToValueAtTime(.001,m+n),S.connect(E).connect(d),S.start(m),S.stop(m+n),na.push({node:S,controlGainNode:d,trackType:u,intendedVolume:h,scheduledStopTime:m+n,isDrum:!0});return}else{T=f.createBufferSource();const S=Math.max(1,Math.floor(f.sampleRate*n)),E=f.createBuffer(1,S,f.sampleRate),k=E.getChannelData(0);if(l==="snare"||l==="clap")for(let I=0;I<S;I++)k[I]=(Math.random()*2-1)*Math.exp(-I/(f.sampleRate*.05));else if(l&&(l.includes("hat")||l.includes("cymbal")||l.includes("shaker"))){const I=l.includes("hat")?5e3:l.includes("shaker")?7e3:3e3,N=l.includes("hat")?.03:l.includes("shaker")?.02:.25;for(let V=0;V<S;V++)k[V]=(Math.random()*2-1)*Math.exp(-V/(f.sampleRate*N))*Math.sin(2*Math.PI*I*(V/f.sampleRate)*(1+Math.random()*.3))}else{const I=f.createOscillator();I.type="sine",I.frequency.setValueAtTime(200+Math.random()*150,m),I.frequency.exponentialRampToValueAtTime(100,m+n*.8);const N=f.createGain();N.gain.setValueAtTime(.9,m),N.gain.exponentialRampToValueAtTime(.001,m+n),I.connect(N).connect(d),I.start(m),I.stop(m+n),na.push({node:I,controlGainNode:d,trackType:u,intendedVolume:h,scheduledStopTime:m+n,isDrum:!0});return}T.buffer=E}else{T=f.createOscillator(),T.type="sawtooth";const S=440*Math.pow(2,(e-69)/12);T.frequency.setValueAtTime(S,m)}T.connect(d),T.start(m),T.stop(m+n),na.push({node:T,controlGainNode:d,trackType:u,intendedVolume:h,scheduledStopTime:m+n,isDrum:o})};let Qd=null;const cb=()=>{if(!Qd)throw new Error("Settings not available for loop duration calculation.");const{tempo:e,bars:t,timeSignature:n}=Qd,a=n[0]*(4/n[1]);return Pa(t*a,e)},Nx=(e,t,n)=>{fb(!1),_r=!0,ss=0,Qd={...t};const a=Im();Au=a.currentTime,na=[];const o=cb();if(o<=0){console.error("Loop duration is zero or negative. Cannot play."),_r=!1;return}function l(){if(!_r)return;const u=a.currentTime;na=na.filter(h=>h.scheduledStopTime>u||!h.node);const f=t.tempo,m=(h,y)=>{y&&(h==="drums"&&typeof y=="object"&&!Array.isArray(y)?Object.entries(y).forEach(([T,S])=>{const E=T.toLowerCase().replace(/\s+/g,"_"),k=Su[E]||Su[T];typeof k!="number"||!S||S.forEach(I=>{ud(k,Pa(I.time,f),Pa(I.duration,f),I.velocity,!0,E,h)})}):Array.isArray(y)&&y.forEach(T=>{"notes"in T?T.notes.forEach(E=>{typeof E.midi=="number"&&ud(E.midi,Pa(T.time,f),Pa(T.duration,f),T.velocity,!1,void 0,h)}):typeof T.midi=="number"&&ud(T.midi,Pa(T.time,f),Pa(T.duration,f),T.velocity,!1,void 0,h)}))};if((n?[n]:["chords","bassline","melody","drums"]).forEach(h=>{switch(h){case"chords":e.chords&&m("chords",e.chords);break;case"bassline":e.bassline&&m("bassline",e.bassline);break;case"melody":e.melody&&m("melody",e.melody);break;case"drums":e.drums&&m("drums",e.drums);break}}),_r){const h=Au+(ss+1)*o;let y=(h-a.currentTime)*1e3;y<0&&(console.warn(`Loop drift detected. Next loop scheduled with minimal delay. Ideal: ${h}, Current: ${a.currentTime}`),y=10),du=window.setTimeout(()=>{_r&&(ss++,l())},y)}}l()},qn=()=>{_r=!1,fb(!0)},fb=e=>{du!==null&&(clearTimeout(du),du=null),na.forEach(t=>{try{t.node&&(t.node.stop(),t.node.disconnect()),t.controlGainNode&&t.controlGainNode.disconnect()}catch{}}),na=[],e&&(ss=0,Au=0)},Jo=async()=>{try{const e=Im();e.state==="suspended"&&await e.resume()}catch(e){console.error("Failed to initialize audio context:",e)}},Gk=async e=>new Promise((t,n)=>{const a=new FileReader;a.onload=()=>{if(a.result&&typeof a.result=="string"){const o=a.result.split(","),l=o[1],u=o[0].match(/data:(.*);base64/),f=u?u[1]:e.type||"audio/mpeg";t({base64:l,mimeType:f})}else n(new Error("Failed to read file"))},a.onerror=()=>n(new Error("File reading failed")),a.readAsDataURL(e)}),Yk={kick:"Kick",snare:"Snare",hihat:"Hi-Hat",hihat_open:"Hi-Hat Open",hihat_closed:"Hi-Hat Closed",crash:"Crash",ride:"Ride",tom:"Tom",tom_high:"High Tom",tom_mid:"Mid Tom",tom_low:"Low Tom",clap:"Clap",shaker:"Shaker",tambourine:"Tambourine",cowbell:"Cowbell",rim:"Rimshot"},Ra=e=>{if(!e)return"General musical context. Focus on genre and vibe.";const t=e.indexOf("## 3. Instrument & Sound Design Guide"),n=t>0?t:e.indexOf("## 2. Structural Blueprint")>0?e.indexOf("## 2. Structural Blueprint"):1500;return e.substring(0,Math.min(n,e.length))},$k=e=>{const t=e.match(/^([A-G][#b]?)/);return t?t[1]:"C"},Kk=e=>{const t=$k(e);return Cx[t]||Cx.C},Xk=e=>{const t=Pn[e]||Pn.Default;return`Typical: ${t[0]}-${t[1]} BPM`},Wk=e=>Ln[e]||Ln.Default,Zo=[1,2,4,8,16,32],db=({currentGuidebookEntry:e,mainAppInputs:t,onUpdateGuidebookEntryMidi:n,parsedGuidebookBpm:a,parsedGuidebookKey:o,parsedGuidebookChordProg:l,initialPatterns:u,sections:f,targetTempo:m,targetKey:d,isRemixMode:h=!1})=>{var j,U,M,ae;const[y,T]=fe.useState(()=>{var qe,nt;if(h)return{...Ke,key:d||Ke.key,tempo:m||Ke.tempo,genre:"Electronic",songSection:(f==null?void 0:f[0])||Ke.songSection,guidebookContext:`Remix mode for ${d||"C minor"} at ${m||128} BPM`,targetInstruments:["bassline","drums","melody","chords"],bars:8};if(e!=null&&e.midiSettings)return{...e.midiSettings,bars:Zo.includes(e.midiSettings.bars)?e.midiSettings.bars:Ke.bars,songSection:e.midiSettings.songSection||Ke.songSection,targetInstruments:e.midiSettings.targetInstruments&&e.midiSettings.targetInstruments.length>0?e.midiSettings.targetInstruments:[...Ke.targetInstruments],guidebookContext:e.midiSettings.guidebookContext||Ra(e.content)};const z=((qe=e==null?void 0:e.genre)==null?void 0:qe[0])||((nt=t==null?void 0:t.genre)==null?void 0:nt[0])||Ke.genre,oe=Ra((e==null?void 0:e.content)||""),ye=Pn[z]||Pn.Default,de=Math.round((ye[0]+ye[1])/2),Ee=Ke.songSection;let Ie=Ke.bars;const Ve=Ee.toLowerCase();return Ve.includes("intro")||Ve.includes("outro")||Ve.includes("fill")||Ve.includes("breakdown")?Ie=4:Ie=8,Ie=Zo.includes(Ie)?Ie:Ke.bars,{...Ke,genre:z,key:o||Ke.key,tempo:a||de,chordProgression:l||(Ln[z]||Ln.Default)[0],guidebookContext:oe,targetInstruments:[...Ke.targetInstruments],songSection:Ee,bars:Ie}}),[S,E]=fe.useState(()=>{if(h&&u){const z={};return Object.entries(u).forEach(([oe,ye])=>{Object.entries(ye).forEach(([de,Ee])=>{const Ie=`${oe}_${de}`;typeof Ee!="string"&&(z[Ie]=Ee)})}),z}return(e==null?void 0:e.generatedMidiPatterns)||null}),[k,I]=fe.useState(!1),[N,V]=fe.useState(""),[P,$]=fe.useState(null),[K,q]=fe.useState(!1),ce=fe.useRef(K);fe.useEffect(()=>{ce.current=K},[K]);const[ue,pe]=fe.useState(!1);fe.useEffect(()=>{var oe,ye;let z;if(e!=null&&e.midiSettings)z=e.midiSettings.bars||Ke.bars,T({...e.midiSettings,bars:Zo.includes(z)?z:Ke.bars,songSection:e.midiSettings.songSection||Ke.songSection,targetInstruments:e.midiSettings.targetInstruments&&e.midiSettings.targetInstruments.length>0?e.midiSettings.targetInstruments:[...Ke.targetInstruments],guidebookContext:e.midiSettings.guidebookContext||Ra(e.content)});else{const de=((oe=e==null?void 0:e.genre)==null?void 0:oe[0])||((ye=t==null?void 0:t.genre)==null?void 0:ye[0])||Ke.genre,Ee=Ra((e==null?void 0:e.content)||""),Ie=Pn[de]||Pn.Default,Ve=Math.round((Ie[0]+Ie[1])/2),qe=Ke.songSection;let nt=Ke.bars;const rt=qe.toLowerCase();rt.includes("intro")||rt.includes("outro")||rt.includes("fill")||rt.includes("breakdown")?nt=4:nt=8,z=Zo.includes(nt)?nt:Ke.bars,T({...Ke,key:o||Ke.key,tempo:a||Ve,chordProgression:l||(Ln[de]||Ln.Default)[0],genre:de,guidebookContext:Ee,targetInstruments:[...Ke.targetInstruments],songSection:qe,bars:z})}E((e==null?void 0:e.generatedMidiPatterns)||null),$(null),ce.current&&(qn(),q(!1))},[e,t==null?void 0:t.genre,a,o,l]);const L=(z,oe)=>{T(ye=>{const de={...ye,[z]:oe};if(z==="genre"){const Ee=oe,Ie=(Ln[ye.genre]||Ln.Default)[0];ye.chordProgression===Ie&&(de.chordProgression=(Ln[Ee]||Ln.Default)[0]);const Ve=Pn[ye.genre]||Pn.Default,qe=Math.round((Ve[0]+Ve[1])/2);if(ye.tempo===qe){const nt=Pn[Ee]||Pn.Default;de.tempo=Math.round((nt[0]+nt[1])/2)}}return e!=null&&e.content&&(de.guidebookContext=Ra(e.content)),de})},G=z=>{T(oe=>{const ye=oe.targetInstruments,de=ye.includes(z)?ye.filter(Ee=>Ee!==z):[...ye,z];return{...oe,targetInstruments:de}})},ne=async()=>{var oe;I(!0),V("Regenerating MIDI patterns..."),$(null),ce.current&&(qn(),q(!1)),await Jo();let z;if(h)z={...y,guidebookContext:`${y.genre} remix at ${y.tempo} BPM in ${y.key}`,genre:y.genre};else{const ye=((oe=e==null?void 0:e.genre)==null?void 0:oe[0])||y.genre,de=Ra((e==null?void 0:e.content)||"");z={...y,guidebookContext:de,genre:ye}}try{const ye=await ys(z);let de="";for await(const qe of ye)qe.text&&(de+=qe.text);de=de.trim();const Ee=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Ie=de.match(Ee);Ie&&Ie[2]&&(de=Ie[2].trim());const Ve=JSON.parse(de);if(Ve.drums){const qe={};for(const nt in Ve.drums)qe[nt.toLowerCase().replace(/\s+/g,"_")]=Ve.drums[nt];Ve.drums=qe}E(Ve),n==null||n(z,Ve)}catch(ye){console.error("MIDI Generation Error:",ye);const de=ye.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns. (${ye.message})`:`Failed to generate MIDI patterns: ${ye.message}`;$(de),E(null)}finally{I(!1),V("")}},te=async()=>{S&&(await Jo(),ce.current&&(qn(),q(!1),await new Promise(z=>setTimeout(z,50))),Nx(S,y),q(!0))},re=async z=>{!S||!S[z]||(await Jo(),ce.current&&(qn(),q(!1),await new Promise(oe=>setTimeout(oe,50))),Nx(S,y,z),q(!0))},B=()=>{qn(),q(!1)};fe.useEffect(()=>()=>{ce.current&&qn()},[]);const F=()=>{if(!S)return;const z=((e==null?void 0:e.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),oe=Dx(S,y,z);oe?kx(oe,`${z}_all_tracks.mid`):alert("No MIDI data to download or error in generation.")},_=z=>{if(!S||!S[z]){alert(`No ${z} data available in current patterns.`);return}const oe={[z]:S[z]},ye=((e==null?void 0:e.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),de=Dx(oe,y,`${ye}_${z}`);de?kx(de,`${ye}_${z}.mid`):alert(`No ${z} data to download or error in generation.`)},D=async z=>{var ye;if(!S)return;I(!0),V(`Regenerating ${z}...`),$(null),ce.current&&(qn(),q(!1)),await Jo();let oe;if(h)oe={...y,guidebookContext:`${y.genre} remix at ${y.tempo} BPM in ${y.key}`,genre:y.genre,targetInstruments:[z]};else{const de=((ye=e==null?void 0:e.genre)==null?void 0:ye[0])||y.genre,Ee=Ra((e==null?void 0:e.content)||"");oe={...y,guidebookContext:Ee,genre:de,targetInstruments:[z]}}try{const de=await ys(oe);let Ee="";for await(const rt of de)rt.text&&(Ee+=rt.text);Ee=Ee.trim();const Ie=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Ve=Ee.match(Ie);Ve&&Ve[2]&&(Ee=Ve[2].trim());const qe=JSON.parse(Ee),nt={...S,[z]:qe[z]};if(z==="drums"&&qe.drums){const rt={};for(const Dt in qe.drums)rt[Dt.toLowerCase().replace(/\s+/g,"_")]=qe.drums[Dt];nt.drums=rt}E(nt),n==null||n(y,nt)}catch(de){console.error("Error regenerating single track:",de),$(`Failed to regenerate ${z}. Please try again.`)}finally{I(!1),V("")}},R=async()=>{ue||await Jo(),pe(z=>!z)},C=(z,oe)=>{if(!S||!S[z])return null;const ye=S[z];let de="";if(z==="drums"&&ye){const Ee=Object.keys(ye);de=`${Ee.length} elements: ${Ee.map(Ie=>Yk[Ie]||Ie).join(", ")}`}else z==="chords"&&Array.isArray(ye)?de=`${ye.length} chord events`:(z==="bassline"||z==="melody")&&Array.isArray(ye)&&(de=`${ye.length} notes`);return g.jsxs(Ue,{title:oe,className:"p-4 border border-gray-600 rounded-md bg-gray-800/50",children:[g.jsx("div",{className:"mb-3",children:g.jsx("p",{className:"text-xs text-gray-400",children:de})}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx(Be,{onClick:()=>re(z),leftIcon:g.jsx(Ex,{}),size:"sm",variant:"primary",children:"Play"}),g.jsx(Be,{onClick:()=>D(z),leftIcon:g.jsx(Mx,{className:"w-4 h-4",isSpinning:k&&N.includes(z)}),size:"sm",variant:"secondary",disabled:k,children:"Regenerate"}),g.jsx(Be,{onClick:()=>_(z),leftIcon:g.jsx(Kd,{}),size:"sm",variant:"secondary",children:"Download"})]})]},z)};return g.jsxs(Ue,{title:" MIDI Tools & Pattern Generator",className:"mt-6 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx(Be,{onClick:R,variant:"secondary",className:"w-full mb-4",leftIcon:g.jsx(Mk,{}),children:ue?"Hide MIDI Settings":"Adjust MIDI Settings & Regenerate"}),ue&&g.jsxs("div",{className:"mb-6 border-t border-gray-700 pt-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-4 mb-6",children:[g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"midi-key",className:"block text-sm font-medium text-gray-300 mb-1",children:["Key ",g.jsxs("span",{className:"text-xs text-gray-400",children:["(Guidebook: ",o||"N/A",")"]})]}),g.jsx("select",{id:"midi-key",value:y.key,onChange:z=>L("key",z.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:rs.map(z=>g.jsx("option",{value:z,children:z},z))})]}),g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"midi-scale",className:"block text-sm font-medium text-gray-300 mb-1",children:["Scale/Mode ",g.jsx("span",{className:"text-xs text-gray-400",children:"(Optional)"})]}),g.jsxs("select",{id:"midi-scale",value:y.scale||"",onChange:z=>L("scale",z.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[g.jsx("option",{value:"",children:"Default (from key)"}),Kk(y.key).map(z=>g.jsx("option",{value:z,children:z},z))]})]}),g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"midi-tempo",className:"block text-sm font-medium text-gray-300 mb-1",children:["Tempo (BPM) ",g.jsxs("span",{className:"text-xs text-gray-400",children:["Guidebook: ",a||"N/A"]})]}),g.jsx(_n,{type:"number",id:"midi-tempo",value:y.tempo,onChange:z=>L("tempo",parseInt(z.target.value,10)),min:"30",max:"300"}),g.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Xk(y.genre)})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-timesig",className:"block text-sm font-medium text-gray-300 mb-1",children:"Time Signature"}),g.jsx("select",{id:"midi-timesig",value:y.timeSignature.join("/"),onChange:z=>L("timeSignature",z.target.value.split("/").map(Number)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:mk.map(z=>g.jsx("option",{value:z.join("/"),children:z.join("/")},z.join("/")))})]}),g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"midi-chords",className:"block text-sm font-medium text-gray-300 mb-1",children:["Chord Progression ",g.jsxs("span",{className:"text-xs text-gray-400",children:["(Guidebook: ",l||"N/A",")"]})]}),g.jsx("select",{id:"midi-chords",value:y.chordProgression,onChange:z=>L("chordProgression",z.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:Wk(y.genre).map(z=>g.jsx("option",{value:z,children:z},z))})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-genre",className:"block text-sm font-medium text-gray-300 mb-1",children:"MIDI Genre Context"}),g.jsxs("select",{id:"midi-genre",value:y.genre,onChange:z=>L("genre",z.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[g.jsxs("option",{value:((j=e==null?void 0:e.genre)==null?void 0:j[0])||((U=t==null?void 0:t.genre)==null?void 0:U[0])||Ke.genre,children:["Align with Guidebook (",((M=e==null?void 0:e.genre)==null?void 0:M[0])||((ae=t==null?void 0:t.genre)==null?void 0:ae[0])||"Default",")"]}),ab.map(z=>g.jsx("option",{value:z,children:z},z))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-bars",className:"block text-sm font-medium text-gray-300 mb-1",children:"Loop Length (Bars)"}),g.jsx("select",{id:"midi-bars",value:y.bars,onChange:z=>L("bars",parseInt(z.target.value,10)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:Zo.map(z=>g.jsx("option",{value:z,children:z},z))})]}),g.jsxs("div",{className:"lg:col-span-1",children:[g.jsx("label",{htmlFor:"midi-songsection",className:"block text-sm font-medium text-gray-300 mb-1",children:"Song Section Context"}),g.jsx("select",{id:"midi-songsection",value:y.songSection||Ke.songSection,onChange:z=>L("songSection",z.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:(h&&f?f:pk).map(z=>g.jsx("option",{value:z,children:z},z))})]})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Instruments to Generate"}),g.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:hk.map(z=>g.jsxs("button",{type:"button",onClick:()=>G(z.id),className:`flex items-center px-3 py-1.5 rounded-md text-sm transition-colors duration-150 ease-in-out border
                            ${y.targetInstruments.includes(z.id)?"bg-purple-600 text-white border-purple-500 hover:bg-purple-700 shadow-md":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600 hover:border-gray-500"}`,"aria-pressed":y.targetInstruments.includes(z.id),children:[y.targetInstruments.includes(z.id)?g.jsx(Dk,{className:"w-4 h-4 mr-2"}):g.jsx(wk,{className:"w-4 h-4 mr-2 text-gray-500"}),z.label]},z.id))})]}),g.jsx(Be,{onClick:ne,disabled:k||y.targetInstruments.length===0,className:"w-full",leftIcon:g.jsx(Mx,{className:"w-5 h-5",isSpinning:k}),children:k?N||"Regenerating MIDI Patterns...":y.targetInstruments.length===0?"Select instruments first":"Regenerate MIDI Patterns"})]}),P&&g.jsx("p",{className:"text-red-400 bg-red-900/30 p-3 rounded-md text-sm my-4",children:P}),k&&!ue&&(!S||N.includes("MIDI"))&&g.jsx("div",{className:"my-4",children:g.jsx(ta,{text:N||"AI is composing..."})}),S&&!k&&g.jsxs("div",{className:"mt-6 space-y-3",children:[g.jsxs("div",{className:"flex flex-wrap gap-3 items-center pb-3 border-b border-gray-700",children:[g.jsx(Be,{onClick:K?B:te,variant:K?"danger":"primary",size:"md",leftIcon:K?g.jsx(Ek,{}):g.jsx(Ex,{}),children:K?"Stop Preview":"Play All Tracks"}),g.jsx(Be,{onClick:F,variant:"secondary",size:"md",leftIcon:g.jsx(Kd,{}),children:"Download All (.mid)"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-3",children:[C("chords","Chords"),C("bassline","Bassline"),C("melody","Melody"),C("drums","Drums")]}),S.error&&g.jsxs("p",{className:"text-sm text-yellow-400 mt-2",children:["AI Note: ",S.error]})]}),!S&&!k&&!P&&g.jsxs("p",{className:"text-gray-400 text-sm mt-4 text-center",children:["No MIDI patterns generated yet for this ",h?"RemixGuide":"TrackGuide",'. Click "Adjust MIDI Settings" to configure and generate.']})]})},Qk=({library:e,onClose:t,onLoadEntry:n,onDeleteEntry:a,onCreateNew:o})=>{const[l,u]=fe.useState(""),f=e.filter(m=>m.title.toLowerCase().includes(l.toLowerCase())||m.genre.join(", ").toLowerCase().includes(l.toLowerCase())).sort((m,d)=>new Date(d.createdAt).getTime()-new Date(m.createdAt).getTime());return g.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 transition-opacity duration-300 ease-in-out",onClick:t,role:"dialog","aria-modal":"true","aria-labelledby":"library-modal-title",children:g.jsxs(Ue,{className:"w-full max-w-2xl bg-gray-800 shadow-2xl border border-gray-700 max-h-[90vh] flex flex-col",onClick:m=>m.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-700",children:[g.jsxs("h2",{id:"library-modal-title",className:"text-2xl font-semibold text-purple-300 flex items-center",children:[g.jsx(Xd,{className:"w-7 h-7 mr-3 text-purple-400"}),"TrackGuide Library"]}),g.jsx(Be,{onClick:t,variant:"secondary",size:"sm",className:"p-2 -mr-2","aria-label":"Close Library",children:g.jsx(lb,{className:"w-5 h-5"})})]}),g.jsx("div",{className:"px-6 py-4",children:g.jsx(_n,{type:"search",placeholder:"Search by title or genre...",value:l,onChange:m=>u(m.target.value),className:"mb-4 bg-gray-700 border-gray-600 placeholder-gray-500","aria-label":"Search library"})}),g.jsx("div",{className:"flex-grow overflow-y-auto px-6 pb-6 space-y-3 custom-scrollbar pr-3",children:f.length===0?g.jsx("p",{className:"text-gray-400 text-center py-8",children:l?`No entries found for "${l}".`:"Your library is empty. Create some TrackGuides!"}):f.map(m=>g.jsx("div",{className:"p-4 bg-gray-700/60 rounded-lg hover:bg-gray-600/50 transition-colors shadow-md border border-gray-600/50",children:g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex-grow min-w-0",children:[g.jsx("h4",{className:"font-semibold text-purple-300 truncate text-lg",title:m.title,children:m.title}),g.jsx("p",{className:"text-sm text-gray-400 truncate",title:Array.isArray(m.genre)?m.genre.join(", "):m.genre,children:Array.isArray(m.genre)?m.genre.join(", "):m.genre}),g.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(m.createdAt).toLocaleDateString(),m.generatedMidiPatterns&&g.jsx(sb,{className:"w-3 h-3 text-green-400 inline-block ml-2",title:"MIDI available"})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 items-end shrink-0 ml-3 mt-1 sm:mt-0",children:[g.jsx(Be,{onClick:()=>n(m),size:"sm",variant:"outline",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:g.jsx(Xd,{className:"w-4 h-4"}),children:"Load"}),g.jsx(Be,{onClick:()=>a(m.id),size:"sm",variant:"danger",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:g.jsx(Ck,{className:"w-4 h-4"})})]})]})},m.id))}),g.jsx("div",{className:"px-6 py-4 border-t border-gray-700",children:g.jsx(Be,{onClick:o,variant:"primary",className:"w-full",leftIcon:g.jsx(Wd,{}),children:"Create New TrackGuide"})})]})})},Jk=({className:e="w-6 h-6"})=>g.jsx("div",{className:`${e} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:g.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),Zk=({onGetStarted:e})=>g.jsxs("div",{className:"min-h-screen bg-[#2B2B2B] relative overflow-hidden scroll-smooth",children:[g.jsx("div",{className:"absolute inset-0 opacity-40",children:g.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"30px 30px"}})}),g.jsx("nav",{className:"relative z-10 px-6 py-6",children:g.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:g.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-xl font-bold text-white",children:"TrackGuide AI"}),g.jsx("div",{className:"text-xs text-gray-400",children:"Your Smartest Studio Assistant"})]})]}),g.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[g.jsx("a",{href:"#how-it-works",className:"text-gray-300 hover:text-orange-400 font-medium transition-colors",children:"How It Works"}),g.jsx("a",{href:"#problems-we-solve",className:"text-gray-300 hover:text-orange-400 font-medium transition-colors",children:"Problems We Solve"}),g.jsx("a",{href:"#investment-levels",className:"text-gray-300 hover:text-orange-400 font-medium transition-colors",children:"Investment Levels"})]}),g.jsxs("button",{onClick:e,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all transform hover:scale-105 shadow-lg flex items-center space-x-3 border border-white/10",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-white/20 blur-sm"}),g.jsx("div",{className:"relative w-6 h-6 bg-orange-500 transform rotate-45 flex items-center justify-center",children:g.jsx("div",{className:"w-3 h-3 bg-white transform -rotate-45"})})]}),g.jsx("span",{children:"Get Started"})]})]})}),g.jsx("section",{className:"relative px-6 py-16",children:g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsx("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:g.jsxs("div",{className:"space-y-8",children:[g.jsxs("h1",{className:"text-6xl md:text-7xl lg:text-8xl font-bold text-white leading-tight",children:[g.jsx("span",{className:"text-orange-500",children:"AI Studio Assistant:"}),g.jsx("span",{className:"block text-white mt-2 text-4xl md:text-5xl lg:text-6xl",children:"A Complement to Creativity,"}),g.jsx("span",{className:"block text-white mt-2 text-4xl md:text-5xl lg:text-6xl",children:"Not a Substitute."})]}),g.jsxs("p",{className:"text-xl text-gray-300 max-w-2xl leading-relaxed",children:["Empowering modern producers with ",g.jsx("span",{className:"text-orange-500 font-semibold",children:"structure"}),", ",g.jsx("span",{className:"text-orange-500 font-semibold",children:"speed"}),", and ",g.jsx("span",{className:"text-orange-500 font-semibold",children:"support"})," in their creative workflow."]}),g.jsx("div",{className:"flex flex-col sm:flex-row gap-6 mt-8 lg:justify-start",children:g.jsxs("button",{onClick:e,className:"bg-orange-500 hover:bg-orange-600 text-white px-12 py-5 rounded-xl font-bold text-xl transition-all transform hover:scale-105 flex items-center justify-center space-x-4 shadow-2xl border-2 border-white/20",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-white/20 blur-sm"}),g.jsx(Jk,{className:"h-8 w-8 relative z-10"})]}),g.jsx("span",{children:"Start Creating Now"})]})})]})})})}),g.jsx("section",{id:"how-it-works",className:"relative px-6 py-20",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"How TrackGuide Works"}),g.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"From concept to creation in three simple steps"})]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:g.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Describe Your Vision"}),g.jsx("p",{className:"text-gray-300",children:"Define your genre, vibe, creative goals  and your available plugins & DAW. Our AI understands your intent."})]}),g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:g.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Get Your Guide & Tools"}),g.jsx("p",{className:"text-gray-300",children:"Generate a TrackGuide Blueprint, MIDI patterns, and AI recommendations  including plugin parameter suggestions."})]}),g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:g.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Iterate & Refine"}),g.jsx("p",{className:"text-gray-300",children:"Upload mixes for feedback, compare revisions, and update your production with AI-assisted insights."})]})]})]})}),g.jsx("section",{className:"relative px-6 py-20 bg-black/10",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Complete Production Toolkit"}),g.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Everything you need  from first idea to final mix"})]}),g.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:"AI"})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"TrackGuide AI"}),g.jsx("p",{className:"text-gray-300",children:"Generate detailed TrackGuide blueprints  structure, instrumentation, plugin parameters, and mix guidance tailored to your tools."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Integrated MIDI Generator"}),g.jsx("p",{className:"text-gray-300",children:"Auto-generate melodic, harmonic, bass, and drum MIDI patterns  matched to your genre and style  exportable to your DAW."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"RemixGuide AI"}),g.jsx("p",{className:"text-gray-300",children:"Upload any track and generate an intelligent remix plan  new structure, sound design tips, and remix-ready MIDI."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"PatchGuide AI"}),g.jsx("p",{className:"text-gray-300",children:"Instantly generate detailed synth patch recipes for any genre, mood, or instrument. Select your synth, describe your sound, and get step-by-step settings, modulation, and creative tips  tailored to your hardware or software."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Mix Feedback"}),g.jsx("p",{className:"text-gray-300",children:"Upload your mix (or two versions) for instant, actionable feedback. AI analyzes your audio, highlights strengths and weaknesses, and suggests improvements  helping you refine your sound with every revision."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"EQ Guide"}),g.jsx("p",{className:"text-gray-300",children:"Quick-reference EQ guide: instrument-by-instrument  learn how to shape sound and resolve common mix problems."})]})]})]})}),g.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:g.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Transform Your Music Production?"}),g.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"TrackGuide helps producers of all skill levels  from bedroom creators to pros  finish more tracks, faster."}),g.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-8 max-w-md mx-auto border border-orange-500/20",children:[g.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Free to Start"}),g.jsx("p",{className:"text-gray-300 mb-6",children:"Get started with TrackGuide AI for free. Upgrade when you're ready to unlock unlimited generations and advanced tools."}),g.jsx("button",{onClick:e,className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 shadow-xl",children:"Start Creating Free"}),g.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"No credit card required"})]})]})}),g.jsx("section",{className:"px-6 py-16 bg-black/20",children:g.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[g.jsx("div",{className:"w-32 h-1 bg-orange-500 mx-auto mb-8"}),g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"The Investment Opportunity"}),g.jsx("p",{className:"text-xl text-gray-300",children:"Helping producers finish better music, faster  in a $43B market."})]})}),g.jsx("section",{id:"problems-we-solve",className:"relative px-6 py-20 bg-black/20",children:g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[g.jsxs("div",{className:"space-y-8",children:[g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["Too Many Tools:",g.jsx("span",{className:"block text-orange-500",children:"Not Enough Direction"})]}),g.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"As AI floods the market and tools fragment, producers lack clarity. TrackGuide is building the smartest studio assistant  keeping the human in the loop."}),g.jsxs("div",{className:"grid gap-6",children:[g.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:g.jsxs("p",{className:"text-gray-300",children:[g.jsx("strong",{children:"Without clear structure,"})," inspiration stalls  many creators fail to finish tracks."]})}),g.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:g.jsxs("p",{className:"text-gray-300",children:[g.jsx("strong",{children:"Clickbait content lacks depth "})," TrackGuide teaches transferable skills while speeding workflows."]})}),g.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:g.jsxs("p",{className:"text-gray-300",children:[g.jsx("strong",{children:"AI hype distracts "})," we focus on complementing creativity, not replacing it."]})})]})]}),g.jsxs("div",{className:"relative h-96",children:[g.jsxs("div",{className:"absolute top-0 right-0 w-48 h-48",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),g.jsx("div",{className:"absolute top-4 right-4 w-40 h-40 bg-orange-500 transform rotate-45"})]}),g.jsxs("div",{className:"absolute bottom-0 left-0 w-32 h-32",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500"}),g.jsx("div",{className:"absolute top-2 left-2 w-28 h-28 bg-orange-500"})]})]})]})})}),g.jsx("section",{id:"ai-challenge",className:"px-6 py-20 bg-black",children:g.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-12 items-center",children:[g.jsx("div",{className:"relative h-80 hidden lg:block",children:g.jsxs("div",{className:"absolute top-0 left-0 w-40 h-40",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),g.jsx("div",{className:"absolute top-4 left-4 w-32 h-32 bg-orange-500 transform rotate-45"})]})}),g.jsxs("div",{className:"space-y-8",children:[g.jsxs("h2",{className:"text-5xl font-bold text-white leading-tight",children:["Navigating the ",g.jsx("span",{className:"text-orange-500 block",children:"AI Challenge"})]}),g.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"A human-first approach  empowering the artist, respecting the craft."}),g.jsxs("div",{className:"grid gap-6",children:[g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Avoiding One-Click fatigue"}),g.jsx("p",{className:"text-gray-400",children:"Our AI augments the creative process, not bypasses it  musicians stay in control."})]}),g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Forward-facing, not retro"}),g.jsx("p",{className:"text-gray-400",children:"Avoids regurgitating old hit formulas  helps creators define new sounds."})]}),g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Clear IP & ethical AI"}),g.jsx("p",{className:"text-gray-400",children:"Built with transparent usage  your creativity stays yours."})]})]})]})]})}),g.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:g.jsxs("div",{className:"max-w-5xl mx-auto",children:[g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Scalable ",g.jsx("span",{className:"text-orange-500",children:"Business Model"})]}),g.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"Modular SaaS for creators, pros, educators, and studios."}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"SaaS Subscriptions"}),g.jsx("p",{className:"text-gray-300",children:"Premium AI tools, pro workflows, unlimited usage  high-margin recurring revenue."}),g.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"85% Gross Margin"})]}),g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Community Marketplace"}),g.jsx("p",{className:"text-gray-300",children:"Revenue from user-generated templates, MIDI packs, remix packs, stems, and presets."}),g.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"30% Commission"})]}),g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Enterprise / Education Licensing"}),g.jsx("p",{className:"text-gray-300",children:"Annual contracts for labels, studios, and music education institutions."}),g.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"$50K+ ARR"})]})]})]})}),g.jsx("section",{id:"investment-levels",className:"px-6 py-20 bg-black",children:g.jsxs("div",{className:"max-w-5xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Investment Levels"}),g.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"Were raising capital to scale TrackGuide AI  deepen core features, grow early users, and prepare for market launch."}),g.jsx("p",{className:"text-md text-gray-400 mt-4 max-w-xl mx-auto",children:"All investments are via SAFE notes with valuation cap. Larger tiers include additional benefits and advisory access."})]}),g.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Seed Loop"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$10K$25K"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"AI refinement, UX polish, early traction testing."})]}),g.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE @ $5M cap + quarterly updates"})]}),g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Creator Tier"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$25K$50K"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Monetization rollout, user acquisition, affiliate & referral systems."})]}),g.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE + 1% revenue share pilot + early feature access"})]}),g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Full Stack"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$50K$75K"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Strategic hires (PMM / full-stack dev), expanded GTM partnerships."})]}),g.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE + advisory board seat + product roadmap input"})]}),g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Vision Tier"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$150K+"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Full-scale AI model tuning, GTM campaign, international expansion."})]}),g.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: Discounted SAFE cap + 2% revenue share + strategic board seat"})]})]}),g.jsx("div",{className:"text-center mt-12",children:g.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:g.jsx("span",{children:"Contact for Full Investor Deck"})})})]})}),g.jsx("section",{className:"px-6 py-20 bg-black/30",children:g.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Interested in Investing?"}),g.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Revolutionizing music production with human-first AI. Join us."}),g.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:g.jsx("span",{children:"Contact for Investment Opportunities"})})]})}),g.jsx("footer",{className:"px-6 py-12 border-t border-orange-500/20 bg-black/20",children:g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3 mb-4 md:mb-0",children:[g.jsx("div",{className:"w-6 h-6 bg-orange-500 transform rotate-45 flex items-center justify-center",children:g.jsx("div",{className:"w-3 h-3 bg-white transform -rotate-45"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-lg font-bold text-white",children:"TrackGuide AI"}),g.jsx("div",{className:"text-xs text-gray-400",children:"AI Studio Assistant for Music Creators"})]})]}),g.jsxs("div",{className:"text-gray-400 text-center md:text-right text-sm space-y-1",children:[g.jsx("p",{children:" 2025 TrackGuide. Empowering music creators worldwide."}),g.jsxs("p",{children:[g.jsx("a",{href:"#",className:"hover:text-orange-400 mr-4",children:"Privacy Policy"}),g.jsx("a",{href:"#",className:"hover:text-orange-400",children:"Terms of Service"})]})]})]})})})]});function eN(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const tN=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nN=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,iN={};function Rx(e,t){return(iN.jsx?nN:tN).test(e)}const aN=/[ \t\n\f\r]/g;function rN(e){return typeof e=="object"?e.type==="text"?Ix(e.value):!1:Ix(e)}function Ix(e){return e.replace(aN,"")===""}class ks{constructor(t,n,a){this.normal=n,this.property=t,a&&(this.space=a)}}ks.prototype.normal={};ks.prototype.property={};ks.prototype.space=void 0;function mb(e,t){const n={},a={};for(const o of e)Object.assign(n,o.property),Object.assign(a,o.normal);return new ks(n,a,t)}function Jd(e){return e.toLowerCase()}class ln{constructor(t,n){this.attribute=n,this.property=t}}ln.prototype.attribute="";ln.prototype.booleanish=!1;ln.prototype.boolean=!1;ln.prototype.commaOrSpaceSeparated=!1;ln.prototype.commaSeparated=!1;ln.prototype.defined=!1;ln.prototype.mustUseProperty=!1;ln.prototype.number=!1;ln.prototype.overloadedBoolean=!1;ln.prototype.property="";ln.prototype.spaceSeparated=!1;ln.prototype.space=void 0;let oN=0;const Re=Ua(),Ct=Ua(),Zd=Ua(),he=Ua(),at=Ua(),jr=Ua(),vn=Ua();function Ua(){return 2**++oN}const em=Object.freeze(Object.defineProperty({__proto__:null,boolean:Re,booleanish:Ct,commaOrSpaceSeparated:vn,commaSeparated:jr,number:he,overloadedBoolean:Zd,spaceSeparated:at},Symbol.toStringTag,{value:"Module"})),cd=Object.keys(em);class _m extends ln{constructor(t,n,a,o){let l=-1;if(super(t,n),_x(this,"space",o),typeof a=="number")for(;++l<cd.length;){const u=cd[l];_x(this,cd[l],(a&em[u])===em[u])}}}_m.prototype.defined=!0;function _x(e,t,n){n&&(e[t]=n)}function Yr(e){const t={},n={};for(const[a,o]of Object.entries(e.properties)){const l=new _m(a,e.transform(e.attributes||{},a),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(a)&&(l.mustUseProperty=!0),t[a]=l,n[Jd(a)]=a,n[Jd(l.attribute)]=a}return new ks(t,n,e.space)}const hb=Yr({properties:{ariaActiveDescendant:null,ariaAtomic:Ct,ariaAutoComplete:null,ariaBusy:Ct,ariaChecked:Ct,ariaColCount:he,ariaColIndex:he,ariaColSpan:he,ariaControls:at,ariaCurrent:null,ariaDescribedBy:at,ariaDetails:null,ariaDisabled:Ct,ariaDropEffect:at,ariaErrorMessage:null,ariaExpanded:Ct,ariaFlowTo:at,ariaGrabbed:Ct,ariaHasPopup:null,ariaHidden:Ct,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:at,ariaLevel:he,ariaLive:null,ariaModal:Ct,ariaMultiLine:Ct,ariaMultiSelectable:Ct,ariaOrientation:null,ariaOwns:at,ariaPlaceholder:null,ariaPosInSet:he,ariaPressed:Ct,ariaReadOnly:Ct,ariaRelevant:null,ariaRequired:Ct,ariaRoleDescription:at,ariaRowCount:he,ariaRowIndex:he,ariaRowSpan:he,ariaSelected:Ct,ariaSetSize:he,ariaSort:null,ariaValueMax:he,ariaValueMin:he,ariaValueNow:he,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function pb(e,t){return t in e?e[t]:t}function gb(e,t){return pb(e,t.toLowerCase())}const sN=Yr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:jr,acceptCharset:at,accessKey:at,action:null,allow:null,allowFullScreen:Re,allowPaymentRequest:Re,allowUserMedia:Re,alt:null,as:null,async:Re,autoCapitalize:null,autoComplete:at,autoFocus:Re,autoPlay:Re,blocking:at,capture:null,charSet:null,checked:Re,cite:null,className:at,cols:he,colSpan:null,content:null,contentEditable:Ct,controls:Re,controlsList:at,coords:he|jr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Re,defer:Re,dir:null,dirName:null,disabled:Re,download:Zd,draggable:Ct,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Re,formTarget:null,headers:at,height:he,hidden:Zd,high:he,href:null,hrefLang:null,htmlFor:at,httpEquiv:at,id:null,imageSizes:null,imageSrcSet:null,inert:Re,inputMode:null,integrity:null,is:null,isMap:Re,itemId:null,itemProp:at,itemRef:at,itemScope:Re,itemType:at,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Re,low:he,manifest:null,max:null,maxLength:he,media:null,method:null,min:null,minLength:he,multiple:Re,muted:Re,name:null,nonce:null,noModule:Re,noValidate:Re,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Re,optimum:he,pattern:null,ping:at,placeholder:null,playsInline:Re,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Re,referrerPolicy:null,rel:at,required:Re,reversed:Re,rows:he,rowSpan:he,sandbox:at,scope:null,scoped:Re,seamless:Re,selected:Re,shadowRootClonable:Re,shadowRootDelegatesFocus:Re,shadowRootMode:null,shape:null,size:he,sizes:null,slot:null,span:he,spellCheck:Ct,src:null,srcDoc:null,srcLang:null,srcSet:null,start:he,step:null,style:null,tabIndex:he,target:null,title:null,translate:null,type:null,typeMustMatch:Re,useMap:null,value:Ct,width:he,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:at,axis:null,background:null,bgColor:null,border:he,borderColor:null,bottomMargin:he,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Re,declare:Re,event:null,face:null,frame:null,frameBorder:null,hSpace:he,leftMargin:he,link:null,longDesc:null,lowSrc:null,marginHeight:he,marginWidth:he,noResize:Re,noHref:Re,noShade:Re,noWrap:Re,object:null,profile:null,prompt:null,rev:null,rightMargin:he,rules:null,scheme:null,scrolling:Ct,standby:null,summary:null,text:null,topMargin:he,valueType:null,version:null,vAlign:null,vLink:null,vSpace:he,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Re,disableRemotePlayback:Re,prefix:null,property:null,results:he,security:null,unselectable:null},space:"html",transform:gb}),lN=Yr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:vn,accentHeight:he,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:he,amplitude:he,arabicForm:null,ascent:he,attributeName:null,attributeType:null,azimuth:he,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:he,by:null,calcMode:null,capHeight:he,className:at,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:he,diffuseConstant:he,direction:null,display:null,dur:null,divisor:he,dominantBaseline:null,download:Re,dx:null,dy:null,edgeMode:null,editable:null,elevation:he,enableBackground:null,end:null,event:null,exponent:he,externalResourcesRequired:null,fill:null,fillOpacity:he,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:jr,g2:jr,glyphName:jr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:he,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:he,horizOriginX:he,horizOriginY:he,id:null,ideographic:he,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:he,k:he,k1:he,k2:he,k3:he,k4:he,kernelMatrix:vn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:he,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:he,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:he,overlineThickness:he,paintOrder:null,panose1:null,path:null,pathLength:he,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:at,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:he,pointsAtY:he,pointsAtZ:he,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:vn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:vn,rev:vn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:vn,requiredFeatures:vn,requiredFonts:vn,requiredFormats:vn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:he,specularExponent:he,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:he,strikethroughThickness:he,string:null,stroke:null,strokeDashArray:vn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:he,strokeOpacity:he,strokeWidth:null,style:null,surfaceScale:he,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:vn,tabIndex:he,tableValues:null,target:null,targetX:he,targetY:he,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:vn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:he,underlineThickness:he,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:he,values:null,vAlphabetic:he,vMathematical:he,vectorEffect:null,vHanging:he,vIdeographic:he,version:null,vertAdvY:he,vertOriginX:he,vertOriginY:he,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:he,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:pb}),yb=Yr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),xb=Yr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:gb}),vb=Yr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),uN={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cN=/[A-Z]/g,Lx=/-[a-z]/g,fN=/^data[-\w.:]+$/i;function dN(e,t){const n=Jd(t);let a=t,o=ln;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&fN.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(Lx,hN);a="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!Lx.test(l)){let u=l.replace(cN,mN);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}o=_m}return new o(a,t)}function mN(e){return"-"+e.toLowerCase()}function hN(e){return e.charAt(1).toUpperCase()}const pN=mb([hb,sN,yb,xb,vb],"html"),Lm=mb([hb,lN,yb,xb,vb],"svg");function gN(e){return e.join(" ").trim()}var Rr={},fd,Px;function yN(){if(Px)return fd;Px=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,f=/^\s+|\s+$/g,m=`
`,d="/",h="*",y="",T="comment",S="declaration";fd=function(k,I){if(typeof k!="string")throw new TypeError("First argument must be a string");if(!k)return[];I=I||{};var N=1,V=1;function P(te){var re=te.match(t);re&&(N+=re.length);var B=te.lastIndexOf(m);V=~B?te.length-B:V+te.length}function $(){var te={line:N,column:V};return function(re){return re.position=new K(te),ue(),re}}function K(te){this.start=te,this.end={line:N,column:V},this.source=I.source}K.prototype.content=k;function q(te){var re=new Error(I.source+":"+N+":"+V+": "+te);if(re.reason=te,re.filename=I.source,re.line=N,re.column=V,re.source=k,!I.silent)throw re}function ce(te){var re=te.exec(k);if(re){var B=re[0];return P(B),k=k.slice(B.length),re}}function ue(){ce(n)}function pe(te){var re;for(te=te||[];re=L();)re!==!1&&te.push(re);return te}function L(){var te=$();if(!(d!=k.charAt(0)||h!=k.charAt(1))){for(var re=2;y!=k.charAt(re)&&(h!=k.charAt(re)||d!=k.charAt(re+1));)++re;if(re+=2,y===k.charAt(re-1))return q("End of comment missing");var B=k.slice(2,re-2);return V+=2,P(B),k=k.slice(re),V+=2,te({type:T,comment:B})}}function G(){var te=$(),re=ce(a);if(re){if(L(),!ce(o))return q("property missing ':'");var B=ce(l),F=te({type:S,property:E(re[0].replace(e,y)),value:B?E(B[0].replace(e,y)):y});return ce(u),F}}function ne(){var te=[];pe(te);for(var re;re=G();)re!==!1&&(te.push(re),pe(te));return te}return ue(),ne()};function E(k){return k?k.replace(f,y):y}return fd}var Ox;function xN(){if(Ox)return Rr;Ox=1;var e=Rr&&Rr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.default=n;var t=e(yN());function n(a,o){var l=null;if(!a||typeof a!="string")return l;var u=(0,t.default)(a),f=typeof o=="function";return u.forEach(function(m){if(m.type==="declaration"){var d=m.property,h=m.value;f?o(d,h,m):h&&(l=l||{},l[d]=h)}}),l}return Rr}var es={},Bx;function vN(){if(Bx)return es;Bx=1,Object.defineProperty(es,"__esModule",{value:!0}),es.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,l=function(d){return!d||n.test(d)||e.test(d)},u=function(d,h){return h.toUpperCase()},f=function(d,h){return"".concat(h,"-")},m=function(d,h){return h===void 0&&(h={}),l(d)?d:(d=d.toLowerCase(),h.reactCompat?d=d.replace(o,f):d=d.replace(a,f),d.replace(t,u))};return es.camelCase=m,es}var ts,Fx;function bN(){if(Fx)return ts;Fx=1;var e=ts&&ts.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(xN()),n=vN();function a(o,l){var u={};return!o||typeof o!="string"||(0,t.default)(o,function(f,m){f&&m&&(u[(0,n.camelCase)(f,l)]=m)}),u}return a.default=a,ts=a,ts}var TN=bN();const SN=ws(TN),bb=Tb("end"),Pm=Tb("start");function Tb(e){return t;function t(n){const a=n&&n.position&&n.position[e]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function CN(e){const t=Pm(e),n=bb(e);if(t&&n)return{start:t,end:n}}function ls(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Vx(e.position):"start"in e||"end"in e?Vx(e):"line"in e||"column"in e?tm(e):""}function tm(e){return jx(e&&e.line)+":"+jx(e&&e.column)}function Vx(e){return tm(e&&e.start)+"-"+tm(e&&e.end)}function jx(e){return e&&typeof e=="number"?e:1}class $t extends Error{constructor(t,n,a){super(),typeof n=="string"&&(a=n,n=void 0);let o="",l={},u=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?o=t:!l.cause&&t&&(u=!0,o=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof a=="string"){const m=a.indexOf(":");m===-1?l.ruleId=a:(l.source=a.slice(0,m),l.ruleId=a.slice(m+1))}if(!l.place&&l.ancestors&&l.ancestors){const m=l.ancestors[l.ancestors.length-1];m&&(l.place=m.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=f?f.line:void 0,this.name=ls(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual,this.expected,this.note,this.url}}$t.prototype.file="";$t.prototype.name="";$t.prototype.reason="";$t.prototype.message="";$t.prototype.stack="";$t.prototype.column=void 0;$t.prototype.line=void 0;$t.prototype.ancestors=void 0;$t.prototype.cause=void 0;$t.prototype.fatal=void 0;$t.prototype.place=void 0;$t.prototype.ruleId=void 0;$t.prototype.source=void 0;const Om={}.hasOwnProperty,AN=new Map,EN=/[A-Z]/g,MN=new Set(["table","tbody","thead","tfoot","tr"]),wN=new Set(["td","th"]),Sb="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function DN(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let a;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=ON(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=PN(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:a,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Lm:pN,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=Cb(o,e,void 0);return l&&typeof l!="string"?l:o.create(e,o.Fragment,{children:l||void 0},void 0)}function Cb(e,t,n){if(t.type==="element")return kN(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return NN(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return IN(e,t,n);if(t.type==="mdxjsEsm")return RN(e,t);if(t.type==="root")return _N(e,t,n);if(t.type==="text")return LN(e,t)}function kN(e,t,n){const a=e.schema;let o=a;t.tagName.toLowerCase()==="svg"&&a.space==="html"&&(o=Lm,e.schema=o),e.ancestors.push(t);const l=Eb(e,t.tagName,!1),u=BN(e,t);let f=Fm(e,t);return MN.has(t.tagName)&&(f=f.filter(function(m){return typeof m=="string"?!rN(m):!0})),Ab(e,u,l,t),Bm(u,f),e.ancestors.pop(),e.schema=a,e.create(t,l,u,n)}function NN(e,t){if(t.data&&t.data.estree&&e.evaluater){const a=t.data.estree.body[0];return a.type,e.evaluater.evaluateExpression(a.expression)}xs(e,t.position)}function RN(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);xs(e,t.position)}function IN(e,t,n){const a=e.schema;let o=a;t.name==="svg"&&a.space==="html"&&(o=Lm,e.schema=o),e.ancestors.push(t);const l=t.name===null?e.Fragment:Eb(e,t.name,!0),u=FN(e,t),f=Fm(e,t);return Ab(e,u,l,t),Bm(u,f),e.ancestors.pop(),e.schema=a,e.create(t,l,u,n)}function _N(e,t,n){const a={};return Bm(a,Fm(e,t)),e.create(t,e.Fragment,a,n)}function LN(e,t){return t.value}function Ab(e,t,n,a){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=a)}function Bm(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function PN(e,t,n){return a;function a(o,l,u,f){const d=Array.isArray(u.children)?n:t;return f?d(l,u,f):d(l,u)}}function ON(e,t){return n;function n(a,o,l,u){const f=Array.isArray(l.children),m=Pm(a);return t(o,l,u,f,{columnNumber:m?m.column-1:void 0,fileName:e,lineNumber:m?m.line:void 0},void 0)}}function BN(e,t){const n={};let a,o;for(o in t.properties)if(o!=="children"&&Om.call(t.properties,o)){const l=VN(e,o,t.properties[o]);if(l){const[u,f]=l;e.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&wN.has(t.tagName)?a=f:n[u]=f}}if(a){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return n}function FN(e,t){const n={};for(const a of t.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&e.evaluater){const l=a.data.estree.body[0];l.type;const u=l.expression;u.type;const f=u.properties[0];f.type,Object.assign(n,e.evaluater.evaluateExpression(f.argument))}else xs(e,t.position);else{const o=a.name;let l;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&e.evaluater){const f=a.value.data.estree.body[0];f.type,l=e.evaluater.evaluateExpression(f.expression)}else xs(e,t.position);else l=a.value===null?!0:a.value;n[o]=l}return n}function Fm(e,t){const n=[];let a=-1;const o=e.passKeys?new Map:AN;for(;++a<t.children.length;){const l=t.children[a];let u;if(e.passKeys){const m=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(m){const d=o.get(m)||0;u=m+"-"+d,o.set(m,d+1)}}const f=Cb(e,l,u);f!==void 0&&n.push(f)}return n}function VN(e,t,n){const a=dN(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=a.commaSeparated?eN(n):gN(n)),a.property==="style"){let o=typeof n=="object"?n:jN(e,String(n));return e.stylePropertyNameCase==="css"&&(o=zN(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&a.space?uN[a.property]||a.property:a.attribute,n]}}function jN(e,t){try{return SN(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const a=n,o=new $t("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=Sb+"#cannot-parse-style-attribute",o}}function Eb(e,t,n){let a;if(!n)a={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let l=-1,u;for(;++l<o.length;){const f=Rx(o[l])?{type:"Identifier",name:o[l]}:{type:"Literal",value:o[l]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(l&&f.type==="Literal"),optional:!1}:f}a=u}else a=Rx(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(a.type==="Literal"){const o=a.value;return Om.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(a);xs(e)}function xs(e,t){const n=new $t("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Sb+"#cannot-handle-mdx-estrees-without-createevaluater",n}function zN(e){const t={};let n;for(n in e)Om.call(e,n)&&(t[HN(n)]=e[n]);return t}function HN(e){let t=e.replace(EN,UN);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function UN(e){return"-"+e.toLowerCase()}const dd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},qN={};function Vm(e,t){const n=qN,a=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Mb(e,a,o)}function Mb(e,t,n){if(GN(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return zx(e.children,t,n)}return Array.isArray(e)?zx(e,t,n):""}function zx(e,t,n){const a=[];let o=-1;for(;++o<e.length;)a[o]=Mb(e[o],t,n);return a.join("")}function GN(e){return!!(e&&typeof e=="object")}const Hx=document.createElement("i");function jm(e){const t="&"+e+";";Hx.innerHTML=t;const n=Hx.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function bn(e,t,n,a){const o=e.length;let l=0,u;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,a.length<1e4)u=Array.from(a),u.unshift(t,n),e.splice(...u);else for(n&&e.splice(t,n);l<a.length;)u=a.slice(l,l+1e4),u.unshift(t,0),e.splice(...u),l+=1e4,t+=1e4}function On(e,t){return e.length>0?(bn(e,e.length,0,t),e):t}const Ux={}.hasOwnProperty;function wb(e){const t={};let n=-1;for(;++n<e.length;)YN(t,e[n]);return t}function YN(e,t){let n;for(n in t){const o=(Ux.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let u;if(l)for(u in l){Ux.call(o,u)||(o[u]=[]);const f=l[u];$N(o[u],Array.isArray(f)?f:f?[f]:[])}}}function $N(e,t){let n=-1;const a=[];for(;++n<t.length;)(t[n].add==="after"?e:a).push(t[n]);bn(e,0,0,a)}function Db(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Yn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Wt=la(/[A-Za-z]/),Gt=la(/[\dA-Za-z]/),KN=la(/[#-'*+\--9=?A-Z^-~]/);function Eu(e){return e!==null&&(e<32||e===127)}const nm=la(/\d/),XN=la(/[\dA-Fa-f]/),WN=la(/[!-/:-@[-`{-~]/);function Se(e){return e!==null&&e<-2}function tt(e){return e!==null&&(e<0||e===32)}function Fe(e){return e===-2||e===-1||e===32}const Bu=la(new RegExp("\\p{P}|\\p{S}","u")),za=la(/\s/);function la(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function $r(e){const t=[];let n=-1,a=0,o=0;for(;++n<e.length;){const l=e.charCodeAt(n);let u="";if(l===37&&Gt(e.charCodeAt(n+1))&&Gt(e.charCodeAt(n+2)))o=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const f=e.charCodeAt(n+1);l<56320&&f>56319&&f<57344?(u=String.fromCharCode(l,f),o=1):u=""}else u=String.fromCharCode(l);u&&(t.push(e.slice(a,n),encodeURIComponent(u)),a=n+o+1,u=""),o&&(n+=o,o=0)}return t.join("")+e.slice(a)}function He(e,t,n,a){const o=a?a-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(m){return Fe(m)?(e.enter(n),f(m)):t(m)}function f(m){return Fe(m)&&l++<o?(e.consume(m),f):(e.exit(n),t(m))}}const QN={tokenize:JN};function JN(e){const t=e.attempt(this.parser.constructs.contentInitial,a,o);let n;return t;function a(f){if(f===null){e.consume(f);return}return e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),He(e,t,"linePrefix")}function o(f){return e.enter("paragraph"),l(f)}function l(f){const m=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,u(f)}function u(f){if(f===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(f);return}return Se(f)?(e.consume(f),e.exit("chunkText"),l):(e.consume(f),u)}}const ZN={tokenize:eR},qx={tokenize:tR};function eR(e){const t=this,n=[];let a=0,o,l,u;return f;function f(P){if(a<n.length){const $=n[a];return t.containerState=$[1],e.attempt($[0].continuation,m,d)(P)}return d(P)}function m(P){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&V();const $=t.events.length;let K=$,q;for(;K--;)if(t.events[K][0]==="exit"&&t.events[K][1].type==="chunkFlow"){q=t.events[K][1].end;break}N(a);let ce=$;for(;ce<t.events.length;)t.events[ce][1].end={...q},ce++;return bn(t.events,K+1,0,t.events.slice($)),t.events.length=ce,d(P)}return f(P)}function d(P){if(a===n.length){if(!o)return T(P);if(o.currentConstruct&&o.currentConstruct.concrete)return E(P);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(qx,h,y)(P)}function h(P){return o&&V(),N(a),T(P)}function y(P){return t.parser.lazy[t.now().line]=a!==n.length,u=t.now().offset,E(P)}function T(P){return t.containerState={},e.attempt(qx,S,E)(P)}function S(P){return a++,n.push([t.currentConstruct,t.containerState]),T(P)}function E(P){if(P===null){o&&V(),N(0),e.consume(P);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:l}),k(P)}function k(P){if(P===null){I(e.exit("chunkFlow"),!0),N(0),e.consume(P);return}return Se(P)?(e.consume(P),I(e.exit("chunkFlow")),a=0,t.interrupt=void 0,f):(e.consume(P),k)}function I(P,$){const K=t.sliceStream(P);if($&&K.push(null),P.previous=l,l&&(l.next=P),l=P,o.defineSkip(P.start),o.write(K),t.parser.lazy[P.start.line]){let q=o.events.length;for(;q--;)if(o.events[q][1].start.offset<u&&(!o.events[q][1].end||o.events[q][1].end.offset>u))return;const ce=t.events.length;let ue=ce,pe,L;for(;ue--;)if(t.events[ue][0]==="exit"&&t.events[ue][1].type==="chunkFlow"){if(pe){L=t.events[ue][1].end;break}pe=!0}for(N(a),q=ce;q<t.events.length;)t.events[q][1].end={...L},q++;bn(t.events,ue+1,0,t.events.slice(ce)),t.events.length=q}}function N(P){let $=n.length;for(;$-- >P;){const K=n[$];t.containerState=K[1],K[0].exit.call(t,e)}n.length=P}function V(){o.write([null]),l=void 0,o=void 0,t.containerState._closeFlow=void 0}}function tR(e,t,n){return He(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function zr(e){if(e===null||tt(e)||za(e))return 1;if(Bu(e))return 2}function Fu(e,t,n){const a=[];let o=-1;for(;++o<e.length;){const l=e[o].resolveAll;l&&!a.includes(l)&&(t=l(t,n),a.push(l))}return t}const im={name:"attention",resolveAll:nR,tokenize:iR};function nR(e,t){let n=-1,a,o,l,u,f,m,d,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(a=n;a--;)if(e[a][0]==="exit"&&e[a][1].type==="attentionSequence"&&e[a][1]._open&&t.sliceSerialize(e[a][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[a][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[a][1].end.offset-e[a][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;m=e[a][1].end.offset-e[a][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const y={...e[a][1].end},T={...e[n][1].start};Gx(y,-m),Gx(T,m),u={type:m>1?"strongSequence":"emphasisSequence",start:y,end:{...e[a][1].end}},f={type:m>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:T},l={type:m>1?"strongText":"emphasisText",start:{...e[a][1].end},end:{...e[n][1].start}},o={type:m>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},e[a][1].end={...u.start},e[n][1].start={...f.end},d=[],e[a][1].end.offset-e[a][1].start.offset&&(d=On(d,[["enter",e[a][1],t],["exit",e[a][1],t]])),d=On(d,[["enter",o,t],["enter",u,t],["exit",u,t],["enter",l,t]]),d=On(d,Fu(t.parser.constructs.insideSpan.null,e.slice(a+1,n),t)),d=On(d,[["exit",l,t],["enter",f,t],["exit",f,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,d=On(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,bn(e,a-1,n-a+3,d),n=a+d.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function iR(e,t){const n=this.parser.constructs.attentionMarkers.null,a=this.previous,o=zr(a);let l;return u;function u(m){return l=m,e.enter("attentionSequence"),f(m)}function f(m){if(m===l)return e.consume(m),f;const d=e.exit("attentionSequence"),h=zr(m),y=!h||h===2&&o||n.includes(m),T=!o||o===2&&h||n.includes(a);return d._open=!!(l===42?y:y&&(o||!T)),d._close=!!(l===42?T:T&&(h||!y)),t(m)}}function Gx(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const aR={name:"autolink",tokenize:rR};function rR(e,t,n){let a=0;return o;function o(S){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(S){return Wt(S)?(e.consume(S),u):S===64?n(S):d(S)}function u(S){return S===43||S===45||S===46||Gt(S)?(a=1,f(S)):d(S)}function f(S){return S===58?(e.consume(S),a=0,m):(S===43||S===45||S===46||Gt(S))&&a++<32?(e.consume(S),f):(a=0,d(S))}function m(S){return S===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):S===null||S===32||S===60||Eu(S)?n(S):(e.consume(S),m)}function d(S){return S===64?(e.consume(S),h):KN(S)?(e.consume(S),d):n(S)}function h(S){return Gt(S)?y(S):n(S)}function y(S){return S===46?(e.consume(S),a=0,h):S===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):T(S)}function T(S){if((S===45||Gt(S))&&a++<63){const E=S===45?T:y;return e.consume(S),E}return n(S)}}const Ns={partial:!0,tokenize:oR};function oR(e,t,n){return a;function a(l){return Fe(l)?He(e,o,"linePrefix")(l):o(l)}function o(l){return l===null||Se(l)?t(l):n(l)}}const kb={continuation:{tokenize:lR},exit:uR,name:"blockQuote",tokenize:sR};function sR(e,t,n){const a=this;return o;function o(u){if(u===62){const f=a.containerState;return f.open||(e.enter("blockQuote",{_container:!0}),f.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(u),e.exit("blockQuoteMarker"),l}return n(u)}function l(u){return Fe(u)?(e.enter("blockQuotePrefixWhitespace"),e.consume(u),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(u))}}function lR(e,t,n){const a=this;return o;function o(u){return Fe(u)?He(e,l,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return e.attempt(kb,t,n)(u)}}function uR(e){e.exit("blockQuote")}const Nb={name:"characterEscape",tokenize:cR};function cR(e,t,n){return a;function a(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),o}function o(l){return WN(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const Rb={name:"characterReference",tokenize:fR};function fR(e,t,n){const a=this;let o=0,l,u;return f;function f(y){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),m}function m(y){return y===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(y),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),l=31,u=Gt,h(y))}function d(y){return y===88||y===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(y),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,u=XN,h):(e.enter("characterReferenceValue"),l=7,u=nm,h(y))}function h(y){if(y===59&&o){const T=e.exit("characterReferenceValue");return u===Gt&&!jm(a.sliceSerialize(T))?n(y):(e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return u(y)&&o++<l?(e.consume(y),h):n(y)}}const Yx={partial:!0,tokenize:mR},$x={concrete:!0,name:"codeFenced",tokenize:dR};function dR(e,t,n){const a=this,o={partial:!0,tokenize:K};let l=0,u=0,f;return m;function m(q){return d(q)}function d(q){const ce=a.events[a.events.length-1];return l=ce&&ce[1].type==="linePrefix"?ce[2].sliceSerialize(ce[1],!0).length:0,f=q,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(q)}function h(q){return q===f?(u++,e.consume(q),h):u<3?n(q):(e.exit("codeFencedFenceSequence"),Fe(q)?He(e,y,"whitespace")(q):y(q))}function y(q){return q===null||Se(q)?(e.exit("codeFencedFence"),a.interrupt?t(q):e.check(Yx,k,$)(q)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),T(q))}function T(q){return q===null||Se(q)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),y(q)):Fe(q)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),He(e,S,"whitespace")(q)):q===96&&q===f?n(q):(e.consume(q),T)}function S(q){return q===null||Se(q)?y(q):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),E(q))}function E(q){return q===null||Se(q)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(q)):q===96&&q===f?n(q):(e.consume(q),E)}function k(q){return e.attempt(o,$,I)(q)}function I(q){return e.enter("lineEnding"),e.consume(q),e.exit("lineEnding"),N}function N(q){return l>0&&Fe(q)?He(e,V,"linePrefix",l+1)(q):V(q)}function V(q){return q===null||Se(q)?e.check(Yx,k,$)(q):(e.enter("codeFlowValue"),P(q))}function P(q){return q===null||Se(q)?(e.exit("codeFlowValue"),V(q)):(e.consume(q),P)}function $(q){return e.exit("codeFenced"),t(q)}function K(q,ce,ue){let pe=0;return L;function L(B){return q.enter("lineEnding"),q.consume(B),q.exit("lineEnding"),G}function G(B){return q.enter("codeFencedFence"),Fe(B)?He(q,ne,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):ne(B)}function ne(B){return B===f?(q.enter("codeFencedFenceSequence"),te(B)):ue(B)}function te(B){return B===f?(pe++,q.consume(B),te):pe>=u?(q.exit("codeFencedFenceSequence"),Fe(B)?He(q,re,"whitespace")(B):re(B)):ue(B)}function re(B){return B===null||Se(B)?(q.exit("codeFencedFence"),ce(B)):ue(B)}}}function mR(e,t,n){const a=this;return o;function o(u){return u===null?n(u):(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l)}function l(u){return a.parser.lazy[a.now().line]?n(u):t(u)}}const md={name:"codeIndented",tokenize:pR},hR={partial:!0,tokenize:gR};function pR(e,t,n){const a=this;return o;function o(d){return e.enter("codeIndented"),He(e,l,"linePrefix",5)(d)}function l(d){const h=a.events[a.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?u(d):n(d)}function u(d){return d===null?m(d):Se(d)?e.attempt(hR,u,m)(d):(e.enter("codeFlowValue"),f(d))}function f(d){return d===null||Se(d)?(e.exit("codeFlowValue"),u(d)):(e.consume(d),f)}function m(d){return e.exit("codeIndented"),t(d)}}function gR(e,t,n){const a=this;return o;function o(u){return a.parser.lazy[a.now().line]?n(u):Se(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o):He(e,l,"linePrefix",5)(u)}function l(u){const f=a.events[a.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(u):Se(u)?o(u):n(u)}}const yR={name:"codeText",previous:vR,resolve:xR,tokenize:bR};function xR(e){let t=e.length-4,n=3,a,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(a=n;++a<t;)if(e[a][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(a=n-1,t++;++a<=t;)o===void 0?a!==t&&e[a][1].type!=="lineEnding"&&(o=a):(a===t||e[a][1].type==="lineEnding")&&(e[o][1].type="codeTextData",a!==o+2&&(e[o][1].end=e[a-1][1].end,e.splice(o+2,a-o-2),t-=a-o-2,a=o+2),o=void 0);return e}function vR(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function bR(e,t,n){let a=0,o,l;return u;function u(y){return e.enter("codeText"),e.enter("codeTextSequence"),f(y)}function f(y){return y===96?(e.consume(y),a++,f):(e.exit("codeTextSequence"),m(y))}function m(y){return y===null?n(y):y===32?(e.enter("space"),e.consume(y),e.exit("space"),m):y===96?(l=e.enter("codeTextSequence"),o=0,h(y)):Se(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),m):(e.enter("codeTextData"),d(y))}function d(y){return y===null||y===32||y===96||Se(y)?(e.exit("codeTextData"),m(y)):(e.consume(y),d)}function h(y){return y===96?(e.consume(y),o++,h):o===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(y)):(l.type="codeTextData",d(y))}}class TR{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const a=n??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(t,a):t>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(t,n,a){const o=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return a&&ns(this.left,a),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ns(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ns(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ns(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ns(this.left,n.reverse())}}}function ns(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Ib(e){const t={};let n=-1,a,o,l,u,f,m,d;const h=new TR(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(a=h.get(n),n&&a[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(m=a[1]._tokenizer.events,l=0,l<m.length&&m[l][1].type==="lineEndingBlank"&&(l+=2),l<m.length&&m[l][1].type==="content"))for(;++l<m.length&&m[l][1].type!=="content";)m[l][1].type==="chunkText"&&(m[l][1]._isInFirstContentOfListItem=!0,l++);if(a[0]==="enter")a[1].contentType&&(Object.assign(t,SR(h,n)),n=t[n],d=!0);else if(a[1]._container){for(l=n,o=void 0;l--;)if(u=h.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(o&&(h.get(o)[1].type="lineEndingBlank"),u[1].type="lineEnding",o=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;o&&(a[1].end={...h.get(o)[1].start},f=h.slice(o,n),f.unshift(a),h.splice(o,n-o+1,f))}}return bn(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function SR(e,t){const n=e.get(t)[1],a=e.get(t)[2];let o=t-1;const l=[];let u=n._tokenizer;u||(u=a.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,m=[],d={};let h,y,T=-1,S=n,E=0,k=0;const I=[k];for(;S;){for(;e.get(++o)[1]!==S;);l.push(o),S._tokenizer||(h=a.sliceStream(S),S.next||h.push(null),y&&u.defineSkip(S.start),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(h),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),y=S,S=S.next}for(S=n;++T<f.length;)f[T][0]==="exit"&&f[T-1][0]==="enter"&&f[T][1].type===f[T-1][1].type&&f[T][1].start.line!==f[T][1].end.line&&(k=T+1,I.push(k),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(u.events=[],S?(S._tokenizer=void 0,S.previous=void 0):I.pop(),T=I.length;T--;){const N=f.slice(I[T],I[T+1]),V=l.pop();m.push([V,V+N.length-1]),e.splice(V,2,N)}for(m.reverse(),T=-1;++T<m.length;)d[E+m[T][0]]=E+m[T][1],E+=m[T][1]-m[T][0]-1;return d}const CR={resolve:ER,tokenize:MR},AR={partial:!0,tokenize:wR};function ER(e){return Ib(e),e}function MR(e,t){let n;return a;function a(f){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(f)}function o(f){return f===null?l(f):Se(f)?e.check(AR,u,l)(f):(e.consume(f),o)}function l(f){return e.exit("chunkContent"),e.exit("content"),t(f)}function u(f){return e.consume(f),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function wR(e,t,n){const a=this;return o;function o(u){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),He(e,l,"linePrefix")}function l(u){if(u===null||Se(u))return n(u);const f=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(u):e.interrupt(a.parser.constructs.flow,n,t)(u)}}function _b(e,t,n,a,o,l,u,f,m){const d=m||Number.POSITIVE_INFINITY;let h=0;return y;function y(N){return N===60?(e.enter(a),e.enter(o),e.enter(l),e.consume(N),e.exit(l),T):N===null||N===32||N===41||Eu(N)?n(N):(e.enter(a),e.enter(u),e.enter(f),e.enter("chunkString",{contentType:"string"}),k(N))}function T(N){return N===62?(e.enter(l),e.consume(N),e.exit(l),e.exit(o),e.exit(a),t):(e.enter(f),e.enter("chunkString",{contentType:"string"}),S(N))}function S(N){return N===62?(e.exit("chunkString"),e.exit(f),T(N)):N===null||N===60||Se(N)?n(N):(e.consume(N),N===92?E:S)}function E(N){return N===60||N===62||N===92?(e.consume(N),S):S(N)}function k(N){return!h&&(N===null||N===41||tt(N))?(e.exit("chunkString"),e.exit(f),e.exit(u),e.exit(a),t(N)):h<d&&N===40?(e.consume(N),h++,k):N===41?(e.consume(N),h--,k):N===null||N===32||N===40||Eu(N)?n(N):(e.consume(N),N===92?I:k)}function I(N){return N===40||N===41||N===92?(e.consume(N),k):k(N)}}function Lb(e,t,n,a,o,l){const u=this;let f=0,m;return d;function d(S){return e.enter(a),e.enter(o),e.consume(S),e.exit(o),e.enter(l),h}function h(S){return f>999||S===null||S===91||S===93&&!m||S===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?n(S):S===93?(e.exit(l),e.enter(o),e.consume(S),e.exit(o),e.exit(a),t):Se(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),y(S))}function y(S){return S===null||S===91||S===93||Se(S)||f++>999?(e.exit("chunkString"),h(S)):(e.consume(S),m||(m=!Fe(S)),S===92?T:y)}function T(S){return S===91||S===92||S===93?(e.consume(S),f++,y):y(S)}}function Pb(e,t,n,a,o,l){let u;return f;function f(T){return T===34||T===39||T===40?(e.enter(a),e.enter(o),e.consume(T),e.exit(o),u=T===40?41:T,m):n(T)}function m(T){return T===u?(e.enter(o),e.consume(T),e.exit(o),e.exit(a),t):(e.enter(l),d(T))}function d(T){return T===u?(e.exit(l),m(u)):T===null?n(T):Se(T)?(e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),He(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(T))}function h(T){return T===u||T===null||Se(T)?(e.exit("chunkString"),d(T)):(e.consume(T),T===92?y:h)}function y(T){return T===u||T===92?(e.consume(T),h):h(T)}}function us(e,t){let n;return a;function a(o){return Se(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,a):Fe(o)?He(e,a,n?"linePrefix":"lineSuffix")(o):t(o)}}const DR={name:"definition",tokenize:NR},kR={partial:!0,tokenize:RR};function NR(e,t,n){const a=this;let o;return l;function l(S){return e.enter("definition"),u(S)}function u(S){return Lb.call(a,e,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function f(S){return o=Yn(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),m):n(S)}function m(S){return tt(S)?us(e,d)(S):d(S)}function d(S){return _b(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function h(S){return e.attempt(kR,y,y)(S)}function y(S){return Fe(S)?He(e,T,"whitespace")(S):T(S)}function T(S){return S===null||Se(S)?(e.exit("definition"),a.parser.defined.push(o),t(S)):n(S)}}function RR(e,t,n){return a;function a(f){return tt(f)?us(e,o)(f):n(f)}function o(f){return Pb(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return Fe(f)?He(e,u,"whitespace")(f):u(f)}function u(f){return f===null||Se(f)?t(f):n(f)}}const IR={name:"hardBreakEscape",tokenize:_R};function _R(e,t,n){return a;function a(l){return e.enter("hardBreakEscape"),e.consume(l),o}function o(l){return Se(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const LR={name:"headingAtx",resolve:PR,tokenize:OR};function PR(e,t){let n=e.length-2,a=3,o,l;return e[a][1].type==="whitespace"&&(a+=2),n-2>a&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(a===n-1||n-4>a&&e[n-2][1].type==="whitespace")&&(n-=a+1===n?2:4),n>a&&(o={type:"atxHeadingText",start:e[a][1].start,end:e[n][1].end},l={type:"chunkText",start:e[a][1].start,end:e[n][1].end,contentType:"text"},bn(e,a,n-a+1,[["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t]])),e}function OR(e,t,n){let a=0;return o;function o(h){return e.enter("atxHeading"),l(h)}function l(h){return e.enter("atxHeadingSequence"),u(h)}function u(h){return h===35&&a++<6?(e.consume(h),u):h===null||tt(h)?(e.exit("atxHeadingSequence"),f(h)):n(h)}function f(h){return h===35?(e.enter("atxHeadingSequence"),m(h)):h===null||Se(h)?(e.exit("atxHeading"),t(h)):Fe(h)?He(e,f,"whitespace")(h):(e.enter("atxHeadingText"),d(h))}function m(h){return h===35?(e.consume(h),m):(e.exit("atxHeadingSequence"),f(h))}function d(h){return h===null||h===35||tt(h)?(e.exit("atxHeadingText"),f(h)):(e.consume(h),d)}}const BR=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Kx=["pre","script","style","textarea"],FR={concrete:!0,name:"htmlFlow",resolveTo:zR,tokenize:HR},VR={partial:!0,tokenize:qR},jR={partial:!0,tokenize:UR};function zR(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function HR(e,t,n){const a=this;let o,l,u,f,m;return d;function d(M){return h(M)}function h(M){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(M),y}function y(M){return M===33?(e.consume(M),T):M===47?(e.consume(M),l=!0,k):M===63?(e.consume(M),o=3,a.interrupt?t:C):Wt(M)?(e.consume(M),u=String.fromCharCode(M),I):n(M)}function T(M){return M===45?(e.consume(M),o=2,S):M===91?(e.consume(M),o=5,f=0,E):Wt(M)?(e.consume(M),o=4,a.interrupt?t:C):n(M)}function S(M){return M===45?(e.consume(M),a.interrupt?t:C):n(M)}function E(M){const ae="CDATA[";return M===ae.charCodeAt(f++)?(e.consume(M),f===ae.length?a.interrupt?t:ne:E):n(M)}function k(M){return Wt(M)?(e.consume(M),u=String.fromCharCode(M),I):n(M)}function I(M){if(M===null||M===47||M===62||tt(M)){const ae=M===47,z=u.toLowerCase();return!ae&&!l&&Kx.includes(z)?(o=1,a.interrupt?t(M):ne(M)):BR.includes(u.toLowerCase())?(o=6,ae?(e.consume(M),N):a.interrupt?t(M):ne(M)):(o=7,a.interrupt&&!a.parser.lazy[a.now().line]?n(M):l?V(M):P(M))}return M===45||Gt(M)?(e.consume(M),u+=String.fromCharCode(M),I):n(M)}function N(M){return M===62?(e.consume(M),a.interrupt?t:ne):n(M)}function V(M){return Fe(M)?(e.consume(M),V):L(M)}function P(M){return M===47?(e.consume(M),L):M===58||M===95||Wt(M)?(e.consume(M),$):Fe(M)?(e.consume(M),P):L(M)}function $(M){return M===45||M===46||M===58||M===95||Gt(M)?(e.consume(M),$):K(M)}function K(M){return M===61?(e.consume(M),q):Fe(M)?(e.consume(M),K):P(M)}function q(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),m=M,ce):Fe(M)?(e.consume(M),q):ue(M)}function ce(M){return M===m?(e.consume(M),m=null,pe):M===null||Se(M)?n(M):(e.consume(M),ce)}function ue(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||tt(M)?K(M):(e.consume(M),ue)}function pe(M){return M===47||M===62||Fe(M)?P(M):n(M)}function L(M){return M===62?(e.consume(M),G):n(M)}function G(M){return M===null||Se(M)?ne(M):Fe(M)?(e.consume(M),G):n(M)}function ne(M){return M===45&&o===2?(e.consume(M),F):M===60&&o===1?(e.consume(M),_):M===62&&o===4?(e.consume(M),j):M===63&&o===3?(e.consume(M),C):M===93&&o===5?(e.consume(M),R):Se(M)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(VR,U,te)(M)):M===null||Se(M)?(e.exit("htmlFlowData"),te(M)):(e.consume(M),ne)}function te(M){return e.check(jR,re,U)(M)}function re(M){return e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),B}function B(M){return M===null||Se(M)?te(M):(e.enter("htmlFlowData"),ne(M))}function F(M){return M===45?(e.consume(M),C):ne(M)}function _(M){return M===47?(e.consume(M),u="",D):ne(M)}function D(M){if(M===62){const ae=u.toLowerCase();return Kx.includes(ae)?(e.consume(M),j):ne(M)}return Wt(M)&&u.length<8?(e.consume(M),u+=String.fromCharCode(M),D):ne(M)}function R(M){return M===93?(e.consume(M),C):ne(M)}function C(M){return M===62?(e.consume(M),j):M===45&&o===2?(e.consume(M),C):ne(M)}function j(M){return M===null||Se(M)?(e.exit("htmlFlowData"),U(M)):(e.consume(M),j)}function U(M){return e.exit("htmlFlow"),t(M)}}function UR(e,t,n){const a=this;return o;function o(u){return Se(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l):n(u)}function l(u){return a.parser.lazy[a.now().line]?n(u):t(u)}}function qR(e,t,n){return a;function a(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(Ns,t,n)}}const GR={name:"htmlText",tokenize:YR};function YR(e,t,n){const a=this;let o,l,u;return f;function f(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),m}function m(C){return C===33?(e.consume(C),d):C===47?(e.consume(C),K):C===63?(e.consume(C),P):Wt(C)?(e.consume(C),ue):n(C)}function d(C){return C===45?(e.consume(C),h):C===91?(e.consume(C),l=0,E):Wt(C)?(e.consume(C),V):n(C)}function h(C){return C===45?(e.consume(C),S):n(C)}function y(C){return C===null?n(C):C===45?(e.consume(C),T):Se(C)?(u=y,_(C)):(e.consume(C),y)}function T(C){return C===45?(e.consume(C),S):y(C)}function S(C){return C===62?F(C):C===45?T(C):y(C)}function E(C){const j="CDATA[";return C===j.charCodeAt(l++)?(e.consume(C),l===j.length?k:E):n(C)}function k(C){return C===null?n(C):C===93?(e.consume(C),I):Se(C)?(u=k,_(C)):(e.consume(C),k)}function I(C){return C===93?(e.consume(C),N):k(C)}function N(C){return C===62?F(C):C===93?(e.consume(C),N):k(C)}function V(C){return C===null||C===62?F(C):Se(C)?(u=V,_(C)):(e.consume(C),V)}function P(C){return C===null?n(C):C===63?(e.consume(C),$):Se(C)?(u=P,_(C)):(e.consume(C),P)}function $(C){return C===62?F(C):P(C)}function K(C){return Wt(C)?(e.consume(C),q):n(C)}function q(C){return C===45||Gt(C)?(e.consume(C),q):ce(C)}function ce(C){return Se(C)?(u=ce,_(C)):Fe(C)?(e.consume(C),ce):F(C)}function ue(C){return C===45||Gt(C)?(e.consume(C),ue):C===47||C===62||tt(C)?pe(C):n(C)}function pe(C){return C===47?(e.consume(C),F):C===58||C===95||Wt(C)?(e.consume(C),L):Se(C)?(u=pe,_(C)):Fe(C)?(e.consume(C),pe):F(C)}function L(C){return C===45||C===46||C===58||C===95||Gt(C)?(e.consume(C),L):G(C)}function G(C){return C===61?(e.consume(C),ne):Se(C)?(u=G,_(C)):Fe(C)?(e.consume(C),G):pe(C)}function ne(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),o=C,te):Se(C)?(u=ne,_(C)):Fe(C)?(e.consume(C),ne):(e.consume(C),re)}function te(C){return C===o?(e.consume(C),o=void 0,B):C===null?n(C):Se(C)?(u=te,_(C)):(e.consume(C),te)}function re(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||tt(C)?pe(C):(e.consume(C),re)}function B(C){return C===47||C===62||tt(C)?pe(C):n(C)}function F(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function _(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),D}function D(C){return Fe(C)?He(e,R,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):R(C)}function R(C){return e.enter("htmlTextData"),u(C)}}const zm={name:"labelEnd",resolveAll:WR,resolveTo:QR,tokenize:JR},$R={tokenize:ZR},KR={tokenize:eI},XR={tokenize:tI};function WR(e){let t=-1;const n=[];for(;++t<e.length;){const a=e[t][1];if(n.push(e[t]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const o=a.type==="labelImage"?4:2;a.type="data",t+=o}}return e.length!==n.length&&bn(e,0,e.length,n),e}function QR(e,t){let n=e.length,a=0,o,l,u,f;for(;n--;)if(o=e[n][1],l){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(u){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(l=n,o.type!=="labelLink")){a=2;break}}else o.type==="labelEnd"&&(u=n);const m={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[l][1].start},end:{...e[u][1].end}},h={type:"labelText",start:{...e[l+a+2][1].end},end:{...e[u-2][1].start}};return f=[["enter",m,t],["enter",d,t]],f=On(f,e.slice(l+1,l+a+3)),f=On(f,[["enter",h,t]]),f=On(f,Fu(t.parser.constructs.insideSpan.null,e.slice(l+a+4,u-3),t)),f=On(f,[["exit",h,t],e[u-2],e[u-1],["exit",d,t]]),f=On(f,e.slice(u+1)),f=On(f,[["exit",m,t]]),bn(e,l,e.length,f),e}function JR(e,t,n){const a=this;let o=a.events.length,l,u;for(;o--;)if((a.events[o][1].type==="labelImage"||a.events[o][1].type==="labelLink")&&!a.events[o][1]._balanced){l=a.events[o][1];break}return f;function f(T){return l?l._inactive?y(T):(u=a.parser.defined.includes(Yn(a.sliceSerialize({start:l.end,end:a.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(T),e.exit("labelMarker"),e.exit("labelEnd"),m):n(T)}function m(T){return T===40?e.attempt($R,h,u?h:y)(T):T===91?e.attempt(KR,h,u?d:y)(T):u?h(T):y(T)}function d(T){return e.attempt(XR,h,y)(T)}function h(T){return t(T)}function y(T){return l._balanced=!0,n(T)}}function ZR(e,t,n){return a;function a(y){return e.enter("resource"),e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),o}function o(y){return tt(y)?us(e,l)(y):l(y)}function l(y){return y===41?h(y):_b(e,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function u(y){return tt(y)?us(e,m)(y):h(y)}function f(y){return n(y)}function m(y){return y===34||y===39||y===40?Pb(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):h(y)}function d(y){return tt(y)?us(e,h)(y):h(y)}function h(y){return y===41?(e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),e.exit("resource"),t):n(y)}}function eI(e,t,n){const a=this;return o;function o(f){return Lb.call(a,e,l,u,"reference","referenceMarker","referenceString")(f)}function l(f){return a.parser.defined.includes(Yn(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?t(f):n(f)}function u(f){return n(f)}}function tI(e,t,n){return a;function a(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),o}function o(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const nI={name:"labelStartImage",resolveAll:zm.resolveAll,tokenize:iI};function iI(e,t,n){const a=this;return o;function o(f){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(f),e.exit("labelImageMarker"),l}function l(f){return f===91?(e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelImage"),u):n(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(f):t(f)}}const aI={name:"labelStartLink",resolveAll:zm.resolveAll,tokenize:rI};function rI(e,t,n){const a=this;return o;function o(u){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(u):t(u)}}const hd={name:"lineEnding",tokenize:oI};function oI(e,t){return n;function n(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),He(e,t,"linePrefix")}}const mu={name:"thematicBreak",tokenize:sI};function sI(e,t,n){let a=0,o;return l;function l(d){return e.enter("thematicBreak"),u(d)}function u(d){return o=d,f(d)}function f(d){return d===o?(e.enter("thematicBreakSequence"),m(d)):a>=3&&(d===null||Se(d))?(e.exit("thematicBreak"),t(d)):n(d)}function m(d){return d===o?(e.consume(d),a++,m):(e.exit("thematicBreakSequence"),Fe(d)?He(e,f,"whitespace")(d):f(d))}}const rn={continuation:{tokenize:fI},exit:mI,name:"list",tokenize:cI},lI={partial:!0,tokenize:hI},uI={partial:!0,tokenize:dI};function cI(e,t,n){const a=this,o=a.events[a.events.length-1];let l=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,u=0;return f;function f(S){const E=a.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!a.containerState.marker||S===a.containerState.marker:nm(S)){if(a.containerState.type||(a.containerState.type=E,e.enter(E,{_container:!0})),E==="listUnordered")return e.enter("listItemPrefix"),S===42||S===45?e.check(mu,n,d)(S):d(S);if(!a.interrupt||S===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),m(S)}return n(S)}function m(S){return nm(S)&&++u<10?(e.consume(S),m):(!a.interrupt||u<2)&&(a.containerState.marker?S===a.containerState.marker:S===41||S===46)?(e.exit("listItemValue"),d(S)):n(S)}function d(S){return e.enter("listItemMarker"),e.consume(S),e.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||S,e.check(Ns,a.interrupt?n:h,e.attempt(lI,T,y))}function h(S){return a.containerState.initialBlankLine=!0,l++,T(S)}function y(S){return Fe(S)?(e.enter("listItemPrefixWhitespace"),e.consume(S),e.exit("listItemPrefixWhitespace"),T):n(S)}function T(S){return a.containerState.size=l+a.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(S)}}function fI(e,t,n){const a=this;return a.containerState._closeFlow=void 0,e.check(Ns,o,l);function o(f){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,He(e,t,"listItemIndent",a.containerState.size+1)(f)}function l(f){return a.containerState.furtherBlankLines||!Fe(f)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,u(f)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,e.attempt(uI,t,u)(f))}function u(f){return a.containerState._closeFlow=!0,a.interrupt=void 0,He(e,e.attempt(rn,t,n),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function dI(e,t,n){const a=this;return He(e,o,"listItemIndent",a.containerState.size+1);function o(l){const u=a.events[a.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===a.containerState.size?t(l):n(l)}}function mI(e){e.exit(this.containerState.type)}function hI(e,t,n){const a=this;return He(e,o,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(l){const u=a.events[a.events.length-1];return!Fe(l)&&u&&u[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const Xx={name:"setextUnderline",resolveTo:pI,tokenize:gI};function pI(e,t){let n=e.length,a,o,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){a=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const u={type:"setextHeading",start:{...e[a][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",l?(e.splice(o,0,["enter",u,t]),e.splice(l+1,0,["exit",e[a][1],t]),e[a][1].end={...e[l][1].end}):e[a][1]=u,e.push(["exit",u,t]),e}function gI(e,t,n){const a=this;let o;return l;function l(d){let h=a.events.length,y;for(;h--;)if(a.events[h][1].type!=="lineEnding"&&a.events[h][1].type!=="linePrefix"&&a.events[h][1].type!=="content"){y=a.events[h][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||y)?(e.enter("setextHeadingLine"),o=d,u(d)):n(d)}function u(d){return e.enter("setextHeadingLineSequence"),f(d)}function f(d){return d===o?(e.consume(d),f):(e.exit("setextHeadingLineSequence"),Fe(d)?He(e,m,"lineSuffix")(d):m(d))}function m(d){return d===null||Se(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const yI={tokenize:xI};function xI(e){const t=this,n=e.attempt(Ns,a,e.attempt(this.parser.constructs.flowInitial,o,He(e,e.attempt(this.parser.constructs.flow,o,e.attempt(CR,o)),"linePrefix")));return n;function a(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const vI={resolveAll:Bb()},bI=Ob("string"),TI=Ob("text");function Ob(e){return{resolveAll:Bb(e==="text"?SI:void 0),tokenize:t};function t(n){const a=this,o=this.parser.constructs[e],l=n.attempt(o,u,f);return u;function u(h){return d(h)?l(h):f(h)}function f(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),m}function m(h){return d(h)?(n.exit("data"),l(h)):(n.consume(h),m)}function d(h){if(h===null)return!0;const y=o[h];let T=-1;if(y)for(;++T<y.length;){const S=y[T];if(!S.previous||S.previous.call(a,a.previous))return!0}return!1}}}function Bb(e){return t;function t(n,a){let o=-1,l;for(;++o<=n.length;)l===void 0?n[o]&&n[o][1].type==="data"&&(l=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==l+2&&(n[l][1].end=n[o-1][1].end,n.splice(l+2,o-l-2),o=l+2),l=void 0);return e?e(n,a):n}}function SI(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const a=e[n-1][1],o=t.sliceStream(a);let l=o.length,u=-1,f=0,m;for(;l--;){const d=o[l];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(d===-2)m=!0,f++;else if(d!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(f=0),f){const d={type:n===e.length||m||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:a.start._bufferIndex+u,_index:a.start._index+l,line:a.end.line,column:a.end.column-f,offset:a.end.offset-f},end:{...a.end}};a.end={...d.start},a.start.offset===a.end.offset?Object.assign(a,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const CI={42:rn,43:rn,45:rn,48:rn,49:rn,50:rn,51:rn,52:rn,53:rn,54:rn,55:rn,56:rn,57:rn,62:kb},AI={91:DR},EI={[-2]:md,[-1]:md,32:md},MI={35:LR,42:mu,45:[Xx,mu],60:FR,61:Xx,95:mu,96:$x,126:$x},wI={38:Rb,92:Nb},DI={[-5]:hd,[-4]:hd,[-3]:hd,33:nI,38:Rb,42:im,60:[aR,GR],91:aI,92:[IR,Nb],93:zm,95:im,96:yR},kI={null:[im,vI]},NI={null:[42,95]},RI={null:[]},II=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:NI,contentInitial:AI,disable:RI,document:CI,flow:MI,flowInitial:EI,insideSpan:kI,string:wI,text:DI},Symbol.toStringTag,{value:"Module"}));function _I(e,t,n){let a={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},l=[];let u=[],f=[];const m={attempt:ce(K),check:ce(q),consume:V,enter:P,exit:$,interrupt:ce(q,{interrupt:!0})},d={code:null,containerState:{},defineSkip:k,events:[],now:E,parser:e,previous:null,sliceSerialize:T,sliceStream:S,write:y};let h=t.tokenize.call(d,m);return t.resolveAll&&l.push(t),d;function y(G){return u=On(u,G),I(),u[u.length-1]!==null?[]:(ue(t,0),d.events=Fu(l,d.events,d),d.events)}function T(G,ne){return PI(S(G),ne)}function S(G){return LI(u,G)}function E(){const{_bufferIndex:G,_index:ne,line:te,column:re,offset:B}=a;return{_bufferIndex:G,_index:ne,line:te,column:re,offset:B}}function k(G){o[G.line]=G.column,L()}function I(){let G;for(;a._index<u.length;){const ne=u[a._index];if(typeof ne=="string")for(G=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===G&&a._bufferIndex<ne.length;)N(ne.charCodeAt(a._bufferIndex));else N(ne)}}function N(G){h=h(G)}function V(G){Se(G)?(a.line++,a.column=1,a.offset+=G===-3?2:1,L()):G!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===u[a._index].length&&(a._bufferIndex=-1,a._index++)),d.previous=G}function P(G,ne){const te=ne||{};return te.type=G,te.start=E(),d.events.push(["enter",te,d]),f.push(te),te}function $(G){const ne=f.pop();return ne.end=E(),d.events.push(["exit",ne,d]),ne}function K(G,ne){ue(G,ne.from)}function q(G,ne){ne.restore()}function ce(G,ne){return te;function te(re,B,F){let _,D,R,C;return Array.isArray(re)?U(re):"tokenize"in re?U([re]):j(re);function j(oe){return ye;function ye(de){const Ee=de!==null&&oe[de],Ie=de!==null&&oe.null,Ve=[...Array.isArray(Ee)?Ee:Ee?[Ee]:[],...Array.isArray(Ie)?Ie:Ie?[Ie]:[]];return U(Ve)(de)}}function U(oe){return _=oe,D=0,oe.length===0?F:M(oe[D])}function M(oe){return ye;function ye(de){return C=pe(),R=oe,oe.partial||(d.currentConstruct=oe),oe.name&&d.parser.constructs.disable.null.includes(oe.name)?z():oe.tokenize.call(ne?Object.assign(Object.create(d),ne):d,m,ae,z)(de)}}function ae(oe){return G(R,C),B}function z(oe){return C.restore(),++D<_.length?M(_[D]):F}}}function ue(G,ne){G.resolveAll&&!l.includes(G)&&l.push(G),G.resolve&&bn(d.events,ne,d.events.length-ne,G.resolve(d.events.slice(ne),d)),G.resolveTo&&(d.events=G.resolveTo(d.events,d))}function pe(){const G=E(),ne=d.previous,te=d.currentConstruct,re=d.events.length,B=Array.from(f);return{from:re,restore:F};function F(){a=G,d.previous=ne,d.currentConstruct=te,d.events.length=re,f=B,L()}}function L(){a.line in o&&a.column<2&&(a.column=o[a.line],a.offset+=o[a.line]-1)}}function LI(e,t){const n=t.start._index,a=t.start._bufferIndex,o=t.end._index,l=t.end._bufferIndex;let u;if(n===o)u=[e[n].slice(a,l)];else{if(u=e.slice(n,o),a>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(a):u.shift()}l>0&&u.push(e[o].slice(0,l))}return u}function PI(e,t){let n=-1;const a=[];let o;for(;++n<e.length;){const l=e[n];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&o)continue;u=" ";break}default:u=String.fromCharCode(l)}o=l===-2,a.push(u)}return a.join("")}function OI(e){const a={constructs:wb([II,...(e||{}).extensions||[]]),content:o(QN),defined:[],document:o(ZN),flow:o(yI),lazy:{},string:o(bI),text:o(TI)};return a;function o(l){return u;function u(f){return _I(a,l,f)}}}function BI(e){for(;!Ib(e););return e}const Wx=/[\0\t\n\r]/g;function FI(){let e=1,t="",n=!0,a;return o;function o(l,u,f){const m=[];let d,h,y,T,S;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),y=0,t="",n&&(l.charCodeAt(0)===65279&&y++,n=void 0);y<l.length;){if(Wx.lastIndex=y,d=Wx.exec(l),T=d&&d.index!==void 0?d.index:l.length,S=l.charCodeAt(T),!d){t=l.slice(y);break}if(S===10&&y===T&&a)m.push(-3),a=void 0;else switch(a&&(m.push(-5),a=void 0),y<T&&(m.push(l.slice(y,T)),e+=T-y),S){case 0:{m.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,m.push(-2);e++<h;)m.push(-1);break}case 10:{m.push(-4),e=1;break}default:a=!0,e=1}y=T+1}return f&&(a&&m.push(-5),t&&m.push(t),m.push(null)),m}}const VI=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function jI(e){return e.replace(VI,zI)}function zI(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),l=o===120||o===88;return Db(n.slice(l?2:1),l?16:10)}return jm(n)||e}const Fb={}.hasOwnProperty;function HI(e,t,n){return typeof t!="string"&&(n=t,t=void 0),UI(n)(BI(OI(n).document().write(FI()(e,t,!0))))}function UI(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Et),autolinkProtocol:pe,autolinkEmail:pe,atxHeading:l(Dt),blockQuote:l(Ie),characterEscape:pe,characterReference:pe,codeFenced:l(Ve),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(Ve,u),codeText:l(qe,u),codeTextData:pe,data:pe,codeFlowValue:pe,definition:l(nt),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(rt),hardBreakEscape:l(un),hardBreakTrailing:l(un),htmlFlow:l(Bt,u),htmlFlowData:pe,htmlText:l(Bt,u),htmlTextData:pe,image:l(qa),label:u,link:l(Et),listItem:l(ri),listItemValue:T,listOrdered:l(ai,y),listUnordered:l(ai),paragraph:l(Ga),reference:M,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(Dt),strong:l(Ya),thematicBreak:l(ca)},exit:{atxHeading:m(),atxHeadingSequence:K,autolink:m(),autolinkEmail:Ee,autolinkProtocol:de,blockQuote:m(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:z,characterReferenceMarkerNumeric:z,characterReferenceValue:oe,characterReference:ye,codeFenced:m(I),codeFencedFence:k,codeFencedFenceInfo:S,codeFencedFenceMeta:E,codeFlowValue:L,codeIndented:m(N),codeText:m(B),codeTextData:L,data:L,definition:m(),definitionDestinationString:$,definitionLabelString:V,definitionTitleString:P,emphasis:m(),hardBreakEscape:m(ne),hardBreakTrailing:m(ne),htmlFlow:m(te),htmlFlowData:L,htmlText:m(re),htmlTextData:L,image:m(_),label:R,labelText:D,lineEnding:G,link:m(F),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:ae,resourceDestinationString:C,resourceTitleString:j,resource:U,setextHeading:m(ue),setextHeadingLineSequence:ce,setextHeadingText:q,strong:m(),thematicBreak:m()}};Vb(t,(e||{}).mdastExtensions||[]);const n={};return a;function a(ee){let me={type:"root",children:[]};const Te={stack:[me],tokenStack:[],config:t,enter:f,exit:d,buffer:u,resume:h,data:n},Ce=[];let Ye=-1;for(;++Ye<ee.length;)if(ee[Ye][1].type==="listOrdered"||ee[Ye][1].type==="listUnordered")if(ee[Ye][0]==="enter")Ce.push(Ye);else{const Ft=Ce.pop();Ye=o(ee,Ft,Ye)}for(Ye=-1;++Ye<ee.length;){const Ft=t[ee[Ye][0]];Fb.call(Ft,ee[Ye][1].type)&&Ft[ee[Ye][1].type].call(Object.assign({sliceSerialize:ee[Ye][2].sliceSerialize},Te),ee[Ye][1])}if(Te.tokenStack.length>0){const Ft=Te.tokenStack[Te.tokenStack.length-1];(Ft[1]||Qx).call(Te,void 0,Ft[0])}for(me.position={start:Ji(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:Ji(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},Ye=-1;++Ye<t.transforms.length;)me=t.transforms[Ye](me)||me;return me}function o(ee,me,Te){let Ce=me-1,Ye=-1,Ft=!1,Fn,Vt,Tn,Kt;for(;++Ce<=Te;){const pt=ee[Ce];switch(pt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{pt[0]==="enter"?Ye++:Ye--,Kt=void 0;break}case"lineEndingBlank":{pt[0]==="enter"&&(Fn&&!Kt&&!Ye&&!Tn&&(Tn=Ce),Kt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Kt=void 0}if(!Ye&&pt[0]==="enter"&&pt[1].type==="listItemPrefix"||Ye===-1&&pt[0]==="exit"&&(pt[1].type==="listUnordered"||pt[1].type==="listOrdered")){if(Fn){let Jt=Ce;for(Vt=void 0;Jt--;){const cn=ee[Jt];if(cn[1].type==="lineEnding"||cn[1].type==="lineEndingBlank"){if(cn[0]==="exit")continue;Vt&&(ee[Vt][1].type="lineEndingBlank",Ft=!0),cn[1].type="lineEnding",Vt=Jt}else if(!(cn[1].type==="linePrefix"||cn[1].type==="blockQuotePrefix"||cn[1].type==="blockQuotePrefixWhitespace"||cn[1].type==="blockQuoteMarker"||cn[1].type==="listItemIndent"))break}Tn&&(!Vt||Tn<Vt)&&(Fn._spread=!0),Fn.end=Object.assign({},Vt?ee[Vt][1].start:pt[1].end),ee.splice(Vt||Ce,0,["exit",Fn,pt[2]]),Ce++,Te++}if(pt[1].type==="listItemPrefix"){const Jt={type:"listItem",_spread:!1,start:Object.assign({},pt[1].start),end:void 0};Fn=Jt,ee.splice(Ce,0,["enter",Jt,pt[2]]),Ce++,Te++,Tn=void 0,Kt=!0}}}return ee[me][1]._spread=Ft,Te}function l(ee,me){return Te;function Te(Ce){f.call(this,ee(Ce),Ce),me&&me.call(this,Ce)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(ee,me,Te){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([me,Te||void 0]),ee.position={start:Ji(me.start),end:void 0}}function m(ee){return me;function me(Te){ee&&ee.call(this,Te),d.call(this,Te)}}function d(ee,me){const Te=this.stack.pop(),Ce=this.tokenStack.pop();if(Ce)Ce[0].type!==ee.type&&(me?me.call(this,ee,Ce[0]):(Ce[1]||Qx).call(this,ee,Ce[0]));else throw new Error("Cannot close `"+ee.type+"` ("+ls({start:ee.start,end:ee.end})+"): its not open");Te.position.end=Ji(ee.end)}function h(){return Vm(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function T(ee){if(this.data.expectingFirstListItemValue){const me=this.stack[this.stack.length-2];me.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function S(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.lang=ee}function E(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.meta=ee}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function I(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.value=ee.replace(/(\r?\n|\r)$/g,"")}function V(ee){const me=this.resume(),Te=this.stack[this.stack.length-1];Te.label=me,Te.identifier=Yn(this.sliceSerialize(ee)).toLowerCase()}function P(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.title=ee}function $(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.url=ee}function K(ee){const me=this.stack[this.stack.length-1];if(!me.depth){const Te=this.sliceSerialize(ee).length;me.depth=Te}}function q(){this.data.setextHeadingSlurpLineEnding=!0}function ce(ee){const me=this.stack[this.stack.length-1];me.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function ue(){this.data.setextHeadingSlurpLineEnding=void 0}function pe(ee){const Te=this.stack[this.stack.length-1].children;let Ce=Te[Te.length-1];(!Ce||Ce.type!=="text")&&(Ce=$a(),Ce.position={start:Ji(ee.start),end:void 0},Te.push(Ce)),this.stack.push(Ce)}function L(ee){const me=this.stack.pop();me.value+=this.sliceSerialize(ee),me.position.end=Ji(ee.end)}function G(ee){const me=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Te=me.children[me.children.length-1];Te.position.end=Ji(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(me.type)&&(pe.call(this,ee),L.call(this,ee))}function ne(){this.data.atHardBreak=!0}function te(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.value=ee}function re(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.value=ee}function B(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.value=ee}function F(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const me=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=me,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function _(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const me=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=me,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function D(ee){const me=this.sliceSerialize(ee),Te=this.stack[this.stack.length-2];Te.label=jI(me),Te.identifier=Yn(me).toLowerCase()}function R(){const ee=this.stack[this.stack.length-1],me=this.resume(),Te=this.stack[this.stack.length-1];if(this.data.inReference=!0,Te.type==="link"){const Ce=ee.children;Te.children=Ce}else Te.alt=me}function C(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.url=ee}function j(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.title=ee}function U(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function ae(ee){const me=this.resume(),Te=this.stack[this.stack.length-1];Te.label=me,Te.identifier=Yn(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function z(ee){this.data.characterReferenceType=ee.type}function oe(ee){const me=this.sliceSerialize(ee),Te=this.data.characterReferenceType;let Ce;Te?(Ce=Db(me,Te==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ce=jm(me);const Ye=this.stack[this.stack.length-1];Ye.value+=Ce}function ye(ee){const me=this.stack.pop();me.position.end=Ji(ee.end)}function de(ee){L.call(this,ee);const me=this.stack[this.stack.length-1];me.url=this.sliceSerialize(ee)}function Ee(ee){L.call(this,ee);const me=this.stack[this.stack.length-1];me.url="mailto:"+this.sliceSerialize(ee)}function Ie(){return{type:"blockquote",children:[]}}function Ve(){return{type:"code",lang:null,meta:null,value:""}}function qe(){return{type:"inlineCode",value:""}}function nt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function rt(){return{type:"emphasis",children:[]}}function Dt(){return{type:"heading",depth:0,children:[]}}function un(){return{type:"break"}}function Bt(){return{type:"html",value:""}}function qa(){return{type:"image",title:null,url:"",alt:null}}function Et(){return{type:"link",title:null,url:"",children:[]}}function ai(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function ri(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function Ga(){return{type:"paragraph",children:[]}}function Ya(){return{type:"strong",children:[]}}function $a(){return{type:"text",value:""}}function ca(){return{type:"thematicBreak"}}}function Ji(e){return{line:e.line,column:e.column,offset:e.offset}}function Vb(e,t){let n=-1;for(;++n<t.length;){const a=t[n];Array.isArray(a)?Vb(e,a):qI(e,a)}}function qI(e,t){let n;for(n in t)if(Fb.call(t,n))switch(n){case"canContainEols":{const a=t[n];a&&e[n].push(...a);break}case"transforms":{const a=t[n];a&&e[n].push(...a);break}case"enter":case"exit":{const a=t[n];a&&Object.assign(e[n],a);break}}}function Qx(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ls({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ls({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ls({start:t.start,end:t.end})+") is still open")}function GI(e){const t=this;t.parser=n;function n(a){return HI(a,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function YI(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function $I(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function KI(e,t){const n=t.value?t.value+`
`:"",a={};t.lang&&(a.className=["language-"+t.lang]);let o={type:"element",tagName:"code",properties:a,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function XI(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function WI(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function QI(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",a=String(t.identifier).toUpperCase(),o=$r(a.toLowerCase()),l=e.footnoteOrder.indexOf(a);let u,f=e.footnoteCounts.get(a);f===void 0?(f=0,e.footnoteOrder.push(a),u=e.footnoteOrder.length):u=l+1,f+=1,e.footnoteCounts.set(a,f);const m={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};e.patch(t,m);const d={type:"element",tagName:"sup",properties:{},children:[m]};return e.patch(t,d),e.applyData(t,d)}function JI(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ZI(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function jb(e,t){const n=t.referenceType;let a="]";if(n==="collapsed"?a+="[]":n==="full"&&(a+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+a}];const o=e.all(t),l=o[0];l&&l.type==="text"?l.value="["+l.value:o.unshift({type:"text",value:"["});const u=o[o.length-1];return u&&u.type==="text"?u.value+=a:o.push({type:"text",value:a}),o}function e_(e,t){const n=String(t.identifier).toUpperCase(),a=e.definitionById.get(n);if(!a)return jb(e,t);const o={src:$r(a.url||""),alt:t.alt};a.title!==null&&a.title!==void 0&&(o.title=a.title);const l={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,l),e.applyData(t,l)}function t_(e,t){const n={src:$r(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const a={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,a),e.applyData(t,a)}function n_(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const a={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,a),e.applyData(t,a)}function i_(e,t){const n=String(t.identifier).toUpperCase(),a=e.definitionById.get(n);if(!a)return jb(e,t);const o={href:$r(a.url||"")};a.title!==null&&a.title!==void 0&&(o.title=a.title);const l={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function a_(e,t){const n={href:$r(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const a={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function r_(e,t,n){const a=e.all(t),o=n?o_(n):zb(t),l={},u=[];if(typeof t.checked=="boolean"){const h=a[0];let y;h&&h.type==="element"&&h.tagName==="p"?y=h:(y={type:"element",tagName:"p",properties:{},children:[]},a.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let f=-1;for(;++f<a.length;){const h=a[f];(o||f!==0||h.type!=="element"||h.tagName!=="p")&&u.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!o?u.push(...h.children):u.push(h)}const m=a[a.length-1];m&&(o||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:l,children:u};return e.patch(t,d),e.applyData(t,d)}function o_(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let a=-1;for(;!t&&++a<n.length;)t=zb(n[a])}return t}function zb(e){const t=e.spread;return t??e.children.length>1}function s_(e,t){const n={},a=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<a.length;){const u=a[o];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(a,!0)};return e.patch(t,l),e.applyData(t,l)}function l_(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function u_(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function c_(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function f_(e,t){const n=e.all(t),a=n.shift(),o=[];if(a){const u={type:"element",tagName:"thead",properties:{},children:e.wrap([a],!0)};e.patch(t.children[0],u),o.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},f=Pm(t.children[1]),m=bb(t.children[t.children.length-1]);f&&m&&(u.position={start:f,end:m}),o.push(u)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,l),e.applyData(t,l)}function d_(e,t,n){const a=n?n.children:void 0,l=(a?a.indexOf(t):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,f=u?u.length:t.children.length;let m=-1;const d=[];for(;++m<f;){const y=t.children[m],T={},S=u?u[m]:void 0;S&&(T.align=S);let E={type:"element",tagName:l,properties:T,children:[]};y&&(E.children=e.all(y),e.patch(y,E),E=e.applyData(y,E)),d.push(E)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,h),e.applyData(t,h)}function m_(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Jx=9,Zx=32;function h_(e){const t=String(e),n=/\r?\n|\r/g;let a=n.exec(t),o=0;const l=[];for(;a;)l.push(ev(t.slice(o,a.index),o>0,!0),a[0]),o=a.index+a[0].length,a=n.exec(t);return l.push(ev(t.slice(o),o>0,!1)),l.join("")}function ev(e,t,n){let a=0,o=e.length;if(t){let l=e.codePointAt(a);for(;l===Jx||l===Zx;)a++,l=e.codePointAt(a)}if(n){let l=e.codePointAt(o-1);for(;l===Jx||l===Zx;)o--,l=e.codePointAt(o-1)}return o>a?e.slice(a,o):""}function p_(e,t){const n={type:"text",value:h_(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function g_(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const y_={blockquote:YI,break:$I,code:KI,delete:XI,emphasis:WI,footnoteReference:QI,heading:JI,html:ZI,imageReference:e_,image:t_,inlineCode:n_,linkReference:i_,link:a_,listItem:r_,list:s_,paragraph:l_,root:u_,strong:c_,table:f_,tableCell:m_,tableRow:d_,text:p_,thematicBreak:g_,toml:eu,yaml:eu,definition:eu,footnoteDefinition:eu};function eu(){}const Hb=-1,Vu=0,cs=1,Mu=2,Hm=3,Um=4,qm=5,Gm=6,Ub=7,qb=8,tv=typeof self=="object"?self:globalThis,x_=(e,t)=>{const n=(o,l)=>(e.set(l,o),o),a=o=>{if(e.has(o))return e.get(o);const[l,u]=t[o];switch(l){case Vu:case Hb:return n(u,o);case cs:{const f=n([],o);for(const m of u)f.push(a(m));return f}case Mu:{const f=n({},o);for(const[m,d]of u)f[a(m)]=a(d);return f}case Hm:return n(new Date(u),o);case Um:{const{source:f,flags:m}=u;return n(new RegExp(f,m),o)}case qm:{const f=n(new Map,o);for(const[m,d]of u)f.set(a(m),a(d));return f}case Gm:{const f=n(new Set,o);for(const m of u)f.add(a(m));return f}case Ub:{const{name:f,message:m}=u;return n(new tv[f](m),o)}case qb:return n(BigInt(u),o);case"BigInt":return n(Object(BigInt(u)),o);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return n(new DataView(f),u)}}return n(new tv[l](u),o)};return a},nv=e=>x_(new Map,e)(0),Ir="",{toString:v_}={},{keys:b_}=Object,is=e=>{const t=typeof e;if(t!=="object"||!e)return[Vu,t];const n=v_.call(e).slice(8,-1);switch(n){case"Array":return[cs,Ir];case"Object":return[Mu,Ir];case"Date":return[Hm,Ir];case"RegExp":return[Um,Ir];case"Map":return[qm,Ir];case"Set":return[Gm,Ir];case"DataView":return[cs,n]}return n.includes("Array")?[cs,n]:n.includes("Error")?[Ub,n]:[Mu,n]},tu=([e,t])=>e===Vu&&(t==="function"||t==="symbol"),T_=(e,t,n,a)=>{const o=(u,f)=>{const m=a.push(u)-1;return n.set(f,m),m},l=u=>{if(n.has(u))return n.get(u);let[f,m]=is(u);switch(f){case Vu:{let h=u;switch(m){case"bigint":f=qb,h=u.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+m);h=null;break;case"undefined":return o([Hb],u)}return o([f,h],u)}case cs:{if(m){let T=u;return m==="DataView"?T=new Uint8Array(u.buffer):m==="ArrayBuffer"&&(T=new Uint8Array(u)),o([m,[...T]],u)}const h=[],y=o([f,h],u);for(const T of u)h.push(l(T));return y}case Mu:{if(m)switch(m){case"BigInt":return o([m,u.toString()],u);case"Boolean":case"Number":case"String":return o([m,u.valueOf()],u)}if(t&&"toJSON"in u)return l(u.toJSON());const h=[],y=o([f,h],u);for(const T of b_(u))(e||!tu(is(u[T])))&&h.push([l(T),l(u[T])]);return y}case Hm:return o([f,u.toISOString()],u);case Um:{const{source:h,flags:y}=u;return o([f,{source:h,flags:y}],u)}case qm:{const h=[],y=o([f,h],u);for(const[T,S]of u)(e||!(tu(is(T))||tu(is(S))))&&h.push([l(T),l(S)]);return y}case Gm:{const h=[],y=o([f,h],u);for(const T of u)(e||!tu(is(T)))&&h.push(l(T));return y}}const{message:d}=u;return o([f,{name:m,message:d}],u)};return l},iv=(e,{json:t,lossy:n}={})=>{const a=[];return T_(!(t||n),!!t,new Map,a)(e),a},wu=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?nv(iv(e,t)):structuredClone(e):(e,t)=>nv(iv(e,t));function S_(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function C_(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function A_(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||S_,a=e.options.footnoteBackLabel||C_,o=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",u=e.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let m=-1;for(;++m<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[m]);if(!d)continue;const h=e.all(d),y=String(d.identifier).toUpperCase(),T=$r(y.toLowerCase());let S=0;const E=[],k=e.footnoteCounts.get(y);for(;k!==void 0&&++S<=k;){E.length>0&&E.push({type:"text",value:" "});let V=typeof n=="string"?n:n(m,S);typeof V=="string"&&(V={type:"text",value:V}),E.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+T+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(m,S),className:["data-footnote-backref"]},children:Array.isArray(V)?V:[V]})}const I=h[h.length-1];if(I&&I.type==="element"&&I.tagName==="p"){const V=I.children[I.children.length-1];V&&V.type==="text"?V.value+=" ":I.children.push({type:"text",value:" "}),I.children.push(...E)}else h.push(...E);const N={type:"element",tagName:"li",properties:{id:t+"fn-"+T},children:e.wrap(h,!0)};e.patch(d,N),f.push(N)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...wu(u),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(f,!0)},{type:"text",value:`
`}]}}const ju=function(e){if(e==null)return D_;if(typeof e=="function")return zu(e);if(typeof e=="object")return Array.isArray(e)?E_(e):M_(e);if(typeof e=="string")return w_(e);throw new Error("Expected function, string, or object as test")};function E_(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=ju(e[n]);return zu(a);function a(...o){let l=-1;for(;++l<t.length;)if(t[l].apply(this,o))return!0;return!1}}function M_(e){const t=e;return zu(n);function n(a){const o=a;let l;for(l in e)if(o[l]!==t[l])return!1;return!0}}function w_(e){return zu(t);function t(n){return n&&n.type===e}}function zu(e){return t;function t(n,a,o){return!!(k_(n)&&e.call(this,n,typeof a=="number"?a:void 0,o||void 0))}}function D_(){return!0}function k_(e){return e!==null&&typeof e=="object"&&"type"in e}const Gb=[],N_=!0,am=!1,R_="skip";function Yb(e,t,n,a){let o;typeof t=="function"&&typeof n!="function"?(a=n,n=t):o=t;const l=ju(o),u=a?-1:1;f(e,void 0,[])();function f(m,d,h){const y=m&&typeof m=="object"?m:{};if(typeof y.type=="string"){const S=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(m.type+(S?"<"+S+">":""))+")"})}return T;function T(){let S=Gb,E,k,I;if((!t||l(m,d,h[h.length-1]||void 0))&&(S=I_(n(m,h)),S[0]===am))return S;if("children"in m&&m.children){const N=m;if(N.children&&S[0]!==R_)for(k=(a?N.children.length:-1)+u,I=h.concat(N);k>-1&&k<N.children.length;){const V=N.children[k];if(E=f(V,k,I)(),E[0]===am)return E;k=typeof E[1]=="number"?E[1]:k+u}}return S}}}function I_(e){return Array.isArray(e)?e:typeof e=="number"?[N_,e]:e==null?Gb:[e]}function Ym(e,t,n,a){let o,l,u;typeof t=="function"&&typeof n!="function"?(l=void 0,u=t,o=n):(l=t,u=n,o=a),Yb(e,l,f,o);function f(m,d){const h=d[d.length-1],y=h?h.children.indexOf(m):void 0;return u(m,y,h)}}const rm={}.hasOwnProperty,__={};function L_(e,t){const n=t||__,a=new Map,o=new Map,l=new Map,u={...y_,...n.handlers},f={all:d,applyData:O_,definitionById:a,footnoteById:o,footnoteCounts:l,footnoteOrder:[],handlers:u,one:m,options:n,patch:P_,wrap:F_};return Ym(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const y=h.type==="definition"?a:o,T=String(h.identifier).toUpperCase();y.has(T)||y.set(T,h)}}),f;function m(h,y){const T=h.type,S=f.handlers[T];if(rm.call(f.handlers,T)&&S)return S(f,h,y);if(f.options.passThrough&&f.options.passThrough.includes(T)){if("children"in h){const{children:k,...I}=h,N=wu(I);return N.children=f.all(h),N}return wu(h)}return(f.options.unknownHandler||B_)(f,h,y)}function d(h){const y=[];if("children"in h){const T=h.children;let S=-1;for(;++S<T.length;){const E=f.one(T[S],h);if(E){if(S&&T[S-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=av(E.value)),!Array.isArray(E)&&E.type==="element")){const k=E.children[0];k&&k.type==="text"&&(k.value=av(k.value))}Array.isArray(E)?y.push(...E):y.push(E)}}}return y}}function P_(e,t){e.position&&(t.position=CN(e))}function O_(e,t){let n=t;if(e&&e.data){const a=e.data.hName,o=e.data.hChildren,l=e.data.hProperties;if(typeof a=="string")if(n.type==="element")n.tagName=a;else{const u="children"in n?n.children:[n];n={type:"element",tagName:a,properties:{},children:u}}n.type==="element"&&l&&Object.assign(n.properties,wu(l)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function B_(e,t){const n=t.data||{},a="value"in t&&!(rm.call(n,"hProperties")||rm.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function F_(e,t){const n=[];let a=-1;for(t&&n.push({type:"text",value:`
`});++a<e.length;)a&&n.push({type:"text",value:`
`}),n.push(e[a]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function av(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function rv(e,t){const n=L_(e,t),a=n.one(e,void 0),o=A_(n),l=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return o&&l.children.push({type:"text",value:`
`},o),l}function V_(e,t){return e&&"run"in e?async function(n,a){const o=rv(n,{file:a,...t});await e.run(o,a)}:function(n,a){return rv(n,{file:a,...e||t})}}function ov(e){if(e)throw e}var pd,sv;function j_(){if(sv)return pd;sv=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},l=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var h=e.call(d,"constructor"),y=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!y)return!1;var T;for(T in d);return typeof T>"u"||e.call(d,T)},u=function(d,h){n&&h.name==="__proto__"?n(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},f=function(d,h){if(h==="__proto__")if(e.call(d,h)){if(a)return a(d,h).value}else return;return d[h]};return pd=function m(){var d,h,y,T,S,E,k=arguments[0],I=1,N=arguments.length,V=!1;for(typeof k=="boolean"&&(V=k,k=arguments[1]||{},I=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});I<N;++I)if(d=arguments[I],d!=null)for(h in d)y=f(k,h),T=f(d,h),k!==T&&(V&&T&&(l(T)||(S=o(T)))?(S?(S=!1,E=y&&o(y)?y:[]):E=y&&l(y)?y:{},u(k,{name:h,newValue:m(V,E,T)})):typeof T<"u"&&u(k,{name:h,newValue:T}));return k},pd}var z_=j_();const gd=ws(z_);function om(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function H_(){const e=[],t={run:n,use:a};return t;function n(...o){let l=-1;const u=o.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...o);function f(m,...d){const h=e[++l];let y=-1;if(m){u(m);return}for(;++y<o.length;)(d[y]===null||d[y]===void 0)&&(d[y]=o[y]);o=d,h?U_(h,f)(...d):u(null,...d)}}function a(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function U_(e,t){let n;return a;function a(...u){const f=e.length>u.length;let m;f&&u.push(o);try{m=e.apply(this,u)}catch(d){const h=d;if(f&&n)throw h;return o(h)}f||(m&&m.then&&typeof m.then=="function"?m.then(l,o):m instanceof Error?o(m):l(m))}function o(u,...f){n||(n=!0,t(u,...f))}function l(u){o(null,u)}}const Zn={basename:q_,dirname:G_,extname:Y_,join:$_,sep:"/"};function q_(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Rs(e);let n=0,a=-1,o=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(l){n=o+1;break}}else a<0&&(l=!0,a=o+1);return a<0?"":e.slice(n,a)}if(t===e)return"";let u=-1,f=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(l){n=o+1;break}}else u<0&&(l=!0,u=o+1),f>-1&&(e.codePointAt(o)===t.codePointAt(f--)?f<0&&(a=o):(f=-1,a=u));return n===a?a=u:a<0&&(a=e.length),e.slice(n,a)}function G_(e){if(Rs(e),e.length===0)return".";let t=-1,n=e.length,a;for(;--n;)if(e.codePointAt(n)===47){if(a){t=n;break}}else a||(a=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Y_(e){Rs(e);let t=e.length,n=-1,a=0,o=-1,l=0,u;for(;t--;){const f=e.codePointAt(t);if(f===47){if(u){a=t+1;break}continue}n<0&&(u=!0,n=t+1),f===46?o<0?o=t:l!==1&&(l=1):o>-1&&(l=-1)}return o<0||n<0||l===0||l===1&&o===n-1&&o===a+1?"":e.slice(o,n)}function $_(...e){let t=-1,n;for(;++t<e.length;)Rs(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":K_(n)}function K_(e){Rs(e);const t=e.codePointAt(0)===47;let n=X_(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function X_(e,t){let n="",a=0,o=-1,l=0,u=-1,f,m;for(;++u<=e.length;){if(u<e.length)f=e.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(o===u-1||l===1))if(o!==u-1&&l===2){if(n.length<2||a!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",a=0):(n=n.slice(0,m),a=n.length-1-n.lastIndexOf("/")),o=u,l=0;continue}}else if(n.length>0){n="",a=0,o=u,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",a=2)}else n.length>0?n+="/"+e.slice(o+1,u):n=e.slice(o+1,u),a=u-o-1;o=u,l=0}else f===46&&l>-1?l++:l=-1}return n}function Rs(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const W_={cwd:Q_};function Q_(){return"/"}function sm(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function J_(e){if(typeof e=="string")e=new URL(e);else if(!sm(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Z_(e)}function Z_(e){if(e.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const a=t.codePointAt(n+2);if(a===70||a===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const yd=["history","path","basename","stem","extname","dirname"];class $b{constructor(t){let n;t?sm(t)?n={path:t}:typeof t=="string"||eL(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":W_.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<yd.length;){const l=yd[a];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let o;for(o in n)yd.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Zn.basename(this.path):void 0}set basename(t){vd(t,"basename"),xd(t,"basename"),this.path=Zn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Zn.dirname(this.path):void 0}set dirname(t){lv(this.basename,"dirname"),this.path=Zn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Zn.extname(this.path):void 0}set extname(t){if(xd(t,"extname"),lv(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Zn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){sm(t)&&(t=J_(t)),vd(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Zn.basename(this.path,this.extname):void 0}set stem(t){vd(t,"stem"),xd(t,"stem"),this.path=Zn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,a){const o=this.message(t,n,a);throw o.fatal=!0,o}info(t,n,a){const o=this.message(t,n,a);return o.fatal=void 0,o}message(t,n,a){const o=new $t(t,n,a);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function xd(e,t){if(e&&e.includes(Zn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Zn.sep+"`")}function vd(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function lv(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function eL(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const tL=function(e){const a=this.constructor.prototype,o=a[e],l=function(){return o.apply(l,arguments)};return Object.setPrototypeOf(l,a),l},nL={}.hasOwnProperty;class $m extends tL{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=H_()}copy(){const t=new $m;let n=-1;for(;++n<this.attachers.length;){const a=this.attachers[n];t.use(...a)}return t.data(gd(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Sd("data",this.frozen),this.namespace[t]=n,this):nL.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Sd("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const o=n.call(t,...a);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=nu(t),a=this.parser||this.Parser;return bd("parse",a),a(String(n),n)}process(t,n){const a=this;return this.freeze(),bd("process",this.parser||this.Parser),Td("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(l,u){const f=nu(t),m=a.parse(f);a.run(m,f,function(h,y,T){if(h||!y||!T)return d(h);const S=y,E=a.stringify(S,T);rL(E)?T.value=E:T.result=E,d(h,T)});function d(h,y){h||!y?u(h):l?l(y):n(void 0,y)}}}processSync(t){let n=!1,a;return this.freeze(),bd("processSync",this.parser||this.Parser),Td("processSync",this.compiler||this.Compiler),this.process(t,o),cv("processSync","process",n),a;function o(l,u){n=!0,ov(l),a=u}}run(t,n,a){uv(t),this.freeze();const o=this.transformers;return!a&&typeof n=="function"&&(a=n,n=void 0),a?l(void 0,a):new Promise(l);function l(u,f){const m=nu(n);o.run(t,m,d);function d(h,y,T){const S=y||t;h?f(h):u?u(S):a(void 0,S,T)}}}runSync(t,n){let a=!1,o;return this.run(t,n,l),cv("runSync","run",a),o;function l(u,f){ov(u),o=f,a=!0}}stringify(t,n){this.freeze();const a=nu(n),o=this.compiler||this.Compiler;return Td("stringify",o),uv(t),o(t,a)}use(t,...n){const a=this.attachers,o=this.namespace;if(Sd("use",this.frozen),t!=null)if(typeof t=="function")m(t,n);else if(typeof t=="object")Array.isArray(t)?f(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(d){if(typeof d=="function")m(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[h,...y]=d;m(h,y)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(d.plugins),d.settings&&(o.settings=gd(!0,o.settings,d.settings))}function f(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){const y=d[h];l(y)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function m(d,h){let y=-1,T=-1;for(;++y<a.length;)if(a[y][0]===d){T=y;break}if(T===-1)a.push([d,...h]);else if(h.length>0){let[S,...E]=h;const k=a[T][1];om(k)&&om(S)&&(S=gd(!0,k,S)),a[T]=[d,S,...E]}}}}const iL=new $m().freeze();function bd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Td(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Sd(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function uv(e){if(!om(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function cv(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function nu(e){return aL(e)?e:new $b(e)}function aL(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function rL(e){return typeof e=="string"||oL(e)}function oL(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const sL="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",fv=[],dv={allowDangerousHtml:!0},lL=/^(https?|ircs?|mailto|xmpp)$/i,uL=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Kb(e){const t=cL(e),n=fL(e);return dL(t.runSync(t.parse(n),n),e)}function cL(e){const t=e.rehypePlugins||fv,n=e.remarkPlugins||fv,a=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...dv}:dv;return iL().use(GI).use(n).use(V_,a).use(t)}function fL(e){const t=e.children||"",n=new $b;return typeof t=="string"&&(n.value=t),n}function dL(e,t){const n=t.allowedElements,a=t.allowElement,o=t.components,l=t.disallowedElements,u=t.skipHtml,f=t.unwrapDisallowed,m=t.urlTransform||mL;for(const h of uL)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+sL+h.id,void 0);return Ym(e,d),DN(e,{Fragment:g.Fragment,components:o,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function d(h,y,T){if(h.type==="raw"&&T&&typeof y=="number")return u?T.children.splice(y,1):T.children[y]={type:"text",value:h.value},y;if(h.type==="element"){let S;for(S in dd)if(Object.hasOwn(dd,S)&&Object.hasOwn(h.properties,S)){const E=h.properties[S],k=dd[S];(k===null||k.includes(h.tagName))&&(h.properties[S]=m(String(E||""),S,h))}}if(h.type==="element"){let S=n?!n.includes(h.tagName):l?l.includes(h.tagName):!1;if(!S&&a&&typeof y=="number"&&(S=!a(h,y,T)),S&&T&&typeof y=="number")return f&&h.children?T.children.splice(y,1,...h.children):T.children.splice(y,1),y}}}function mL(e){const t=e.indexOf(":"),n=e.indexOf("?"),a=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||a!==-1&&t>a||lL.test(e.slice(0,t))?e:""}function mv(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let a=0,o=n.indexOf(t);for(;o!==-1;)a++,o=n.indexOf(t,o+t.length);return a}function hL(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function pL(e,t,n){const o=ju((n||{}).ignore||[]),l=gL(t);let u=-1;for(;++u<l.length;)Yb(e,"text",f);function f(d,h){let y=-1,T;for(;++y<h.length;){const S=h[y],E=T?T.children:void 0;if(o(S,E?E.indexOf(S):void 0,T))return;T=S}if(T)return m(d,h)}function m(d,h){const y=h[h.length-1],T=l[u][0],S=l[u][1];let E=0;const I=y.children.indexOf(d);let N=!1,V=[];T.lastIndex=0;let P=T.exec(d.value);for(;P;){const $=P.index,K={index:P.index,input:P.input,stack:[...h,d]};let q=S(...P,K);if(typeof q=="string"&&(q=q.length>0?{type:"text",value:q}:void 0),q===!1?T.lastIndex=$+1:(E!==$&&V.push({type:"text",value:d.value.slice(E,$)}),Array.isArray(q)?V.push(...q):q&&V.push(q),E=$+P[0].length,N=!0),!T.global)break;P=T.exec(d.value)}return N?(E<d.value.length&&V.push({type:"text",value:d.value.slice(E)}),y.children.splice(I,1,...V)):V=[d],I+V.length}}function gL(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let a=-1;for(;++a<n.length;){const o=n[a];t.push([yL(o[0]),xL(o[1])])}return t}function yL(e){return typeof e=="string"?new RegExp(hL(e),"g"):e}function xL(e){return typeof e=="function"?e:function(){return e}}const Cd="phrasing",Ad=["autolink","link","image","label"];function vL(){return{transforms:[ML],enter:{literalAutolink:TL,literalAutolinkEmail:Ed,literalAutolinkHttp:Ed,literalAutolinkWww:Ed},exit:{literalAutolink:EL,literalAutolinkEmail:AL,literalAutolinkHttp:SL,literalAutolinkWww:CL}}}function bL(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Cd,notInConstruct:Ad},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Cd,notInConstruct:Ad},{character:":",before:"[ps]",after:"\\/",inConstruct:Cd,notInConstruct:Ad}]}}function TL(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Ed(e){this.config.enter.autolinkProtocol.call(this,e)}function SL(e){this.config.exit.autolinkProtocol.call(this,e)}function CL(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function AL(e){this.config.exit.autolinkEmail.call(this,e)}function EL(e){this.exit(e)}function ML(e){pL(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,wL],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),DL]],{ignore:["link","linkReference"]})}function wL(e,t,n,a,o){let l="";if(!Xb(o)||(/^w/i.test(t)&&(n=t+n,t="",l="http://"),!kL(n)))return!1;const u=NL(n+a);if(!u[0])return!1;const f={type:"link",title:null,url:l+t+u[0],children:[{type:"text",value:t+u[0]}]};return u[1]?[f,{type:"text",value:u[1]}]:f}function DL(e,t,n,a){return!Xb(a,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function kL(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function NL(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],a=n.indexOf(")");const o=mv(e,"(");let l=mv(e,")");for(;a!==-1&&o>l;)e+=n.slice(0,a+1),n=n.slice(a+1),a=n.indexOf(")"),l++;return[e,n]}function Xb(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||za(n)||Bu(n))&&(!t||n!==47)}Wb.peek=VL;function RL(){this.buffer()}function IL(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function _L(){this.buffer()}function LL(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function PL(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Yn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function OL(e){this.exit(e)}function BL(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Yn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function FL(e){this.exit(e)}function VL(){return"["}function Wb(e,t,n,a){const o=n.createTracker(a);let l=o.move("[^");const u=n.enter("footnoteReference"),f=n.enter("reference");return l+=o.move(n.safe(n.associationId(e),{after:"]",before:l})),f(),u(),l+=o.move("]"),l}function jL(){return{enter:{gfmFootnoteCallString:RL,gfmFootnoteCall:IL,gfmFootnoteDefinitionLabelString:_L,gfmFootnoteDefinition:LL},exit:{gfmFootnoteCallString:PL,gfmFootnoteCall:OL,gfmFootnoteDefinitionLabelString:BL,gfmFootnoteDefinition:FL}}}function zL(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Wb},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(a,o,l,u){const f=l.createTracker(u);let m=f.move("[^");const d=l.enter("footnoteDefinition"),h=l.enter("label");return m+=f.move(l.safe(l.associationId(a),{before:m,after:"]"})),h(),m+=f.move("]:"),a.children&&a.children.length>0&&(f.shift(4),m+=f.move((t?`
`:" ")+l.indentLines(l.containerFlow(a,f.current()),t?Qb:HL))),d(),m}}function HL(e,t,n){return t===0?e:Qb(e,t,n)}function Qb(e,t,n){return(n?"":"    ")+e}const UL=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Jb.peek=KL;function qL(){return{canContainEols:["delete"],enter:{strikethrough:YL},exit:{strikethrough:$L}}}function GL(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:UL}],handlers:{delete:Jb}}}function YL(e){this.enter({type:"delete",children:[]},e)}function $L(e){this.exit(e)}function Jb(e,t,n,a){const o=n.createTracker(a),l=n.enter("strikethrough");let u=o.move("~~");return u+=n.containerPhrasing(e,{...o.current(),before:u,after:"~"}),u+=o.move("~~"),l(),u}function KL(){return"~"}function XL(e){return e.length}function WL(e,t){const n=t||{},a=(n.align||[]).concat(),o=n.stringLength||XL,l=[],u=[],f=[],m=[];let d=0,h=-1;for(;++h<e.length;){const k=[],I=[];let N=-1;for(e[h].length>d&&(d=e[h].length);++N<e[h].length;){const V=QL(e[h][N]);if(n.alignDelimiters!==!1){const P=o(V);I[N]=P,(m[N]===void 0||P>m[N])&&(m[N]=P)}k.push(V)}u[h]=k,f[h]=I}let y=-1;if(typeof a=="object"&&"length"in a)for(;++y<d;)l[y]=hv(a[y]);else{const k=hv(a);for(;++y<d;)l[y]=k}y=-1;const T=[],S=[];for(;++y<d;){const k=l[y];let I="",N="";k===99?(I=":",N=":"):k===108?I=":":k===114&&(N=":");let V=n.alignDelimiters===!1?1:Math.max(1,m[y]-I.length-N.length);const P=I+"-".repeat(V)+N;n.alignDelimiters!==!1&&(V=I.length+V+N.length,V>m[y]&&(m[y]=V),S[y]=V),T[y]=P}u.splice(1,0,T),f.splice(1,0,S),h=-1;const E=[];for(;++h<u.length;){const k=u[h],I=f[h];y=-1;const N=[];for(;++y<d;){const V=k[y]||"";let P="",$="";if(n.alignDelimiters!==!1){const K=m[y]-(I[y]||0),q=l[y];q===114?P=" ".repeat(K):q===99?K%2?(P=" ".repeat(K/2+.5),$=" ".repeat(K/2-.5)):(P=" ".repeat(K/2),$=P):$=" ".repeat(K)}n.delimiterStart!==!1&&!y&&N.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&V==="")&&(n.delimiterStart!==!1||y)&&N.push(" "),n.alignDelimiters!==!1&&N.push(P),N.push(V),n.alignDelimiters!==!1&&N.push($),n.padding!==!1&&N.push(" "),(n.delimiterEnd!==!1||y!==d-1)&&N.push("|")}E.push(n.delimiterEnd===!1?N.join("").replace(/ +$/,""):N.join(""))}return E.join(`
`)}function QL(e){return e==null?"":String(e)}function hv(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function JL(e,t,n,a){const o=n.enter("blockquote"),l=n.createTracker(a);l.move("> "),l.shift(2);const u=n.indentLines(n.containerFlow(e,l.current()),ZL);return o(),u}function ZL(e,t,n){return">"+(n?"":" ")+e}function eP(e,t){return pv(e,t.inConstruct,!0)&&!pv(e,t.notInConstruct,!1)}function pv(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let a=-1;for(;++a<t.length;)if(e.includes(t[a]))return!0;return!1}function gv(e,t,n,a){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&eP(n.stack,n.unsafe[o]))return/[ \t]/.test(a.before)?"":" ";return`\\
`}function tP(e,t){const n=String(e);let a=n.indexOf(t),o=a,l=0,u=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;a!==-1;)a===o?++l>u&&(u=l):l=1,o=a+t.length,a=n.indexOf(t,o);return u}function nP(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function iP(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function aP(e,t,n,a){const o=iP(n),l=e.value||"",u=o==="`"?"GraveAccent":"Tilde";if(nP(e,n)){const y=n.enter("codeIndented"),T=n.indentLines(l,rP);return y(),T}const f=n.createTracker(a),m=o.repeat(Math.max(tP(l,o)+1,3)),d=n.enter("codeFenced");let h=f.move(m);if(e.lang){const y=n.enter(`codeFencedLang${u}`);h+=f.move(n.safe(e.lang,{before:h,after:" ",encode:["`"],...f.current()})),y()}if(e.lang&&e.meta){const y=n.enter(`codeFencedMeta${u}`);h+=f.move(" "),h+=f.move(n.safe(e.meta,{before:h,after:`
`,encode:["`"],...f.current()})),y()}return h+=f.move(`
`),l&&(h+=f.move(l+`
`)),h+=f.move(m),d(),h}function rP(e,t,n){return(n?"":"    ")+e}function Km(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function oP(e,t,n,a){const o=Km(n),l=o==='"'?"Quote":"Apostrophe",u=n.enter("definition");let f=n.enter("label");const m=n.createTracker(a);let d=m.move("[");return d+=m.move(n.safe(n.associationId(e),{before:d,after:"]",...m.current()})),d+=m.move("]: "),f(),!e.url||/[\0- \u007F]/.test(e.url)?(f=n.enter("destinationLiteral"),d+=m.move("<"),d+=m.move(n.safe(e.url,{before:d,after:">",...m.current()})),d+=m.move(">")):(f=n.enter("destinationRaw"),d+=m.move(n.safe(e.url,{before:d,after:e.title?" ":`
`,...m.current()}))),f(),e.title&&(f=n.enter(`title${l}`),d+=m.move(" "+o),d+=m.move(n.safe(e.title,{before:d,after:o,...m.current()})),d+=m.move(o),f()),u(),d}function sP(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function vs(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Du(e,t,n){const a=zr(e),o=zr(t);return a===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:a===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Zb.peek=lP;function Zb(e,t,n,a){const o=sP(n),l=n.enter("emphasis"),u=n.createTracker(a),f=u.move(o);let m=u.move(n.containerPhrasing(e,{after:o,before:f,...u.current()}));const d=m.charCodeAt(0),h=Du(a.before.charCodeAt(a.before.length-1),d,o);h.inside&&(m=vs(d)+m.slice(1));const y=m.charCodeAt(m.length-1),T=Du(a.after.charCodeAt(0),y,o);T.inside&&(m=m.slice(0,-1)+vs(y));const S=u.move(o);return l(),n.attentionEncodeSurroundingInfo={after:T.outside,before:h.outside},f+m+S}function lP(e,t,n){return n.options.emphasis||"*"}function uP(e,t){let n=!1;return Ym(e,function(a){if("value"in a&&/\r?\n|\r/.test(a.value)||a.type==="break")return n=!0,am}),!!((!e.depth||e.depth<3)&&Vm(e)&&(t.options.setext||n))}function cP(e,t,n,a){const o=Math.max(Math.min(6,e.depth||1),1),l=n.createTracker(a);if(uP(e,n)){const h=n.enter("headingSetext"),y=n.enter("phrasing"),T=n.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return y(),h(),T+`
`+(o===1?"=":"-").repeat(T.length-(Math.max(T.lastIndexOf("\r"),T.lastIndexOf(`
`))+1))}const u="#".repeat(o),f=n.enter("headingAtx"),m=n.enter("phrasing");l.move(u+" ");let d=n.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(d)&&(d=vs(d.charCodeAt(0))+d.slice(1)),d=d?u+" "+d:u,n.options.closeAtx&&(d+=" "+u),m(),f(),d}eT.peek=fP;function eT(e){return e.value||""}function fP(){return"<"}tT.peek=dP;function tT(e,t,n,a){const o=Km(n),l=o==='"'?"Quote":"Apostrophe",u=n.enter("image");let f=n.enter("label");const m=n.createTracker(a);let d=m.move("![");return d+=m.move(n.safe(e.alt,{before:d,after:"]",...m.current()})),d+=m.move("]("),f(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(f=n.enter("destinationLiteral"),d+=m.move("<"),d+=m.move(n.safe(e.url,{before:d,after:">",...m.current()})),d+=m.move(">")):(f=n.enter("destinationRaw"),d+=m.move(n.safe(e.url,{before:d,after:e.title?" ":")",...m.current()}))),f(),e.title&&(f=n.enter(`title${l}`),d+=m.move(" "+o),d+=m.move(n.safe(e.title,{before:d,after:o,...m.current()})),d+=m.move(o),f()),d+=m.move(")"),u(),d}function dP(){return"!"}nT.peek=mP;function nT(e,t,n,a){const o=e.referenceType,l=n.enter("imageReference");let u=n.enter("label");const f=n.createTracker(a);let m=f.move("![");const d=n.safe(e.alt,{before:m,after:"]",...f.current()});m+=f.move(d+"]["),u();const h=n.stack;n.stack=[],u=n.enter("reference");const y=n.safe(n.associationId(e),{before:m,after:"]",...f.current()});return u(),n.stack=h,l(),o==="full"||!d||d!==y?m+=f.move(y+"]"):o==="shortcut"?m=m.slice(0,-1):m+=f.move("]"),m}function mP(){return"!"}iT.peek=hP;function iT(e,t,n){let a=e.value||"",o="`",l=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(a);)o+="`";for(/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^`|`$/.test(a))&&(a=" "+a+" ");++l<n.unsafe.length;){const u=n.unsafe[l],f=n.compilePattern(u);let m;if(u.atBreak)for(;m=f.exec(a);){let d=m.index;a.charCodeAt(d)===10&&a.charCodeAt(d-1)===13&&d--,a=a.slice(0,d)+" "+a.slice(m.index+1)}}return o+a+o}function hP(){return"`"}function aT(e,t){const n=Vm(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}rT.peek=pP;function rT(e,t,n,a){const o=Km(n),l=o==='"'?"Quote":"Apostrophe",u=n.createTracker(a);let f,m;if(aT(e,n)){const h=n.stack;n.stack=[],f=n.enter("autolink");let y=u.move("<");return y+=u.move(n.containerPhrasing(e,{before:y,after:">",...u.current()})),y+=u.move(">"),f(),n.stack=h,y}f=n.enter("link"),m=n.enter("label");let d=u.move("[");return d+=u.move(n.containerPhrasing(e,{before:d,after:"](",...u.current()})),d+=u.move("]("),m(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(m=n.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(n.safe(e.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(m=n.enter("destinationRaw"),d+=u.move(n.safe(e.url,{before:d,after:e.title?" ":")",...u.current()}))),m(),e.title&&(m=n.enter(`title${l}`),d+=u.move(" "+o),d+=u.move(n.safe(e.title,{before:d,after:o,...u.current()})),d+=u.move(o),m()),d+=u.move(")"),f(),d}function pP(e,t,n){return aT(e,n)?"<":"["}oT.peek=gP;function oT(e,t,n,a){const o=e.referenceType,l=n.enter("linkReference");let u=n.enter("label");const f=n.createTracker(a);let m=f.move("[");const d=n.containerPhrasing(e,{before:m,after:"]",...f.current()});m+=f.move(d+"]["),u();const h=n.stack;n.stack=[],u=n.enter("reference");const y=n.safe(n.associationId(e),{before:m,after:"]",...f.current()});return u(),n.stack=h,l(),o==="full"||!d||d!==y?m+=f.move(y+"]"):o==="shortcut"?m=m.slice(0,-1):m+=f.move("]"),m}function gP(){return"["}function Xm(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function yP(e){const t=Xm(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function xP(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function sT(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function vP(e,t,n,a){const o=n.enter("list"),l=n.bulletCurrent;let u=e.ordered?xP(n):Xm(n);const f=e.ordered?u==="."?")":".":yP(n);let m=t&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((u==="*"||u==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(m=!0),sT(n)===u&&h){let y=-1;for(;++y<e.children.length;){const T=e.children[y];if(T&&T.type==="listItem"&&T.children&&T.children[0]&&T.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(u=f),n.bulletCurrent=u;const d=n.containerFlow(e,a);return n.bulletLastUsed=u,n.bulletCurrent=l,o(),d}function bP(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function TP(e,t,n,a){const o=bP(n);let l=n.bulletCurrent||Xm(n);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let u=l.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(u=Math.ceil(u/4)*4);const f=n.createTracker(a);f.move(l+" ".repeat(u-l.length)),f.shift(u);const m=n.enter("listItem"),d=n.indentLines(n.containerFlow(e,f.current()),h);return m(),d;function h(y,T,S){return T?(S?"":" ".repeat(u))+y:(S?l:l+" ".repeat(u-l.length))+y}}function SP(e,t,n,a){const o=n.enter("paragraph"),l=n.enter("phrasing"),u=n.containerPhrasing(e,a);return l(),o(),u}const CP=ju(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function AP(e,t,n,a){return(e.children.some(function(u){return CP(u)})?n.containerPhrasing:n.containerFlow).call(n,e,a)}function EP(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}lT.peek=MP;function lT(e,t,n,a){const o=EP(n),l=n.enter("strong"),u=n.createTracker(a),f=u.move(o+o);let m=u.move(n.containerPhrasing(e,{after:o,before:f,...u.current()}));const d=m.charCodeAt(0),h=Du(a.before.charCodeAt(a.before.length-1),d,o);h.inside&&(m=vs(d)+m.slice(1));const y=m.charCodeAt(m.length-1),T=Du(a.after.charCodeAt(0),y,o);T.inside&&(m=m.slice(0,-1)+vs(y));const S=u.move(o+o);return l(),n.attentionEncodeSurroundingInfo={after:T.outside,before:h.outside},f+m+S}function MP(e,t,n){return n.options.strong||"*"}function wP(e,t,n,a){return n.safe(e.value,a)}function DP(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function kP(e,t,n){const a=(sT(n)+(n.options.ruleSpaces?" ":"")).repeat(DP(n));return n.options.ruleSpaces?a.slice(0,-1):a}const uT={blockquote:JL,break:gv,code:aP,definition:oP,emphasis:Zb,hardBreak:gv,heading:cP,html:eT,image:tT,imageReference:nT,inlineCode:iT,link:rT,linkReference:oT,list:vP,listItem:TP,paragraph:SP,root:AP,strong:lT,text:wP,thematicBreak:kP};function NP(){return{enter:{table:RP,tableData:yv,tableHeader:yv,tableRow:_P},exit:{codeText:LP,table:IP,tableData:Md,tableHeader:Md,tableRow:Md}}}function RP(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function IP(e){this.exit(e),this.data.inTable=void 0}function _P(e){this.enter({type:"tableRow",children:[]},e)}function Md(e){this.exit(e)}function yv(e){this.enter({type:"tableCell",children:[]},e)}function LP(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,PP));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function PP(e,t){return t==="|"?t:e}function OP(e){const t=e||{},n=t.tableCellPadding,a=t.tablePipeAlign,o=t.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:T,table:u,tableCell:m,tableRow:f}};function u(S,E,k,I){return d(h(S,k,I),S.align)}function f(S,E,k,I){const N=y(S,k,I),V=d([N]);return V.slice(0,V.indexOf(`
`))}function m(S,E,k,I){const N=k.enter("tableCell"),V=k.enter("phrasing"),P=k.containerPhrasing(S,{...I,before:l,after:l});return V(),N(),P}function d(S,E){return WL(S,{align:E,alignDelimiters:a,padding:n,stringLength:o})}function h(S,E,k){const I=S.children;let N=-1;const V=[],P=E.enter("table");for(;++N<I.length;)V[N]=y(I[N],E,k);return P(),V}function y(S,E,k){const I=S.children;let N=-1;const V=[],P=E.enter("tableRow");for(;++N<I.length;)V[N]=m(I[N],S,E,k);return P(),V}function T(S,E,k){let I=uT.inlineCode(S,E,k);return k.stack.includes("tableCell")&&(I=I.replace(/\|/g,"\\$&")),I}}function BP(){return{exit:{taskListCheckValueChecked:xv,taskListCheckValueUnchecked:xv,paragraph:VP}}}function FP(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:jP}}}function xv(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function VP(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const a=n.children[0];if(a&&a.type==="text"){const o=t.children;let l=-1,u;for(;++l<o.length;){const f=o[l];if(f.type==="paragraph"){u=f;break}}u===n&&(a.value=a.value.slice(1),a.value.length===0?n.children.shift():n.position&&a.position&&typeof a.position.start.offset=="number"&&(a.position.start.column++,a.position.start.offset++,n.position.start=Object.assign({},a.position.start)))}}this.exit(e)}function jP(e,t,n,a){const o=e.children[0],l=typeof e.checked=="boolean"&&o&&o.type==="paragraph",u="["+(e.checked?"x":" ")+"] ",f=n.createTracker(a);l&&f.move(u);let m=uT.listItem(e,t,n,{...a,...f.current()});return l&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),m;function d(h){return h+u}}function zP(){return[vL(),jL(),qL(),NP(),BP()]}function HP(e){return{extensions:[bL(),zL(e),GL(),OP(e),FP()]}}const UP={tokenize:XP,partial:!0},cT={tokenize:WP,partial:!0},fT={tokenize:QP,partial:!0},dT={tokenize:JP,partial:!0},qP={tokenize:ZP,partial:!0},mT={name:"wwwAutolink",tokenize:$P,previous:pT},hT={name:"protocolAutolink",tokenize:KP,previous:gT},Ei={name:"emailAutolink",tokenize:YP,previous:yT},ii={};function GP(){return{text:ii}}let Ia=48;for(;Ia<123;)ii[Ia]=Ei,Ia++,Ia===58?Ia=65:Ia===91&&(Ia=97);ii[43]=Ei;ii[45]=Ei;ii[46]=Ei;ii[95]=Ei;ii[72]=[Ei,hT];ii[104]=[Ei,hT];ii[87]=[Ei,mT];ii[119]=[Ei,mT];function YP(e,t,n){const a=this;let o,l;return u;function u(y){return!lm(y)||!yT.call(a,a.previous)||Wm(a.events)?n(y):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),f(y))}function f(y){return lm(y)?(e.consume(y),f):y===64?(e.consume(y),m):n(y)}function m(y){return y===46?e.check(qP,h,d)(y):y===45||y===95||Gt(y)?(l=!0,e.consume(y),m):h(y)}function d(y){return e.consume(y),o=!0,m}function h(y){return l&&o&&Wt(a.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(y)):n(y)}}function $P(e,t,n){const a=this;return o;function o(u){return u!==87&&u!==119||!pT.call(a,a.previous)||Wm(a.events)?n(u):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(UP,e.attempt(cT,e.attempt(fT,l),n),n)(u))}function l(u){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(u)}}function KP(e,t,n){const a=this;let o="",l=!1;return u;function u(y){return(y===72||y===104)&&gT.call(a,a.previous)&&!Wm(a.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(y),e.consume(y),f):n(y)}function f(y){if(Wt(y)&&o.length<5)return o+=String.fromCodePoint(y),e.consume(y),f;if(y===58){const T=o.toLowerCase();if(T==="http"||T==="https")return e.consume(y),m}return n(y)}function m(y){return y===47?(e.consume(y),l?d:(l=!0,m)):n(y)}function d(y){return y===null||Eu(y)||tt(y)||za(y)||Bu(y)?n(y):e.attempt(cT,e.attempt(fT,h),n)(y)}function h(y){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(y)}}function XP(e,t,n){let a=0;return o;function o(u){return(u===87||u===119)&&a<3?(a++,e.consume(u),o):u===46&&a===3?(e.consume(u),l):n(u)}function l(u){return u===null?n(u):t(u)}}function WP(e,t,n){let a,o,l;return u;function u(d){return d===46||d===95?e.check(dT,m,f)(d):d===null||tt(d)||za(d)||d!==45&&Bu(d)?m(d):(l=!0,e.consume(d),u)}function f(d){return d===95?a=!0:(o=a,a=void 0),e.consume(d),u}function m(d){return o||a||!l?n(d):t(d)}}function QP(e,t){let n=0,a=0;return o;function o(u){return u===40?(n++,e.consume(u),o):u===41&&a<n?l(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?e.check(dT,t,l)(u):u===null||tt(u)||za(u)?t(u):(e.consume(u),o)}function l(u){return u===41&&a++,e.consume(u),o}}function JP(e,t,n){return a;function a(f){return f===33||f===34||f===39||f===41||f===42||f===44||f===46||f===58||f===59||f===63||f===95||f===126?(e.consume(f),a):f===38?(e.consume(f),l):f===93?(e.consume(f),o):f===60||f===null||tt(f)||za(f)?t(f):n(f)}function o(f){return f===null||f===40||f===91||tt(f)||za(f)?t(f):a(f)}function l(f){return Wt(f)?u(f):n(f)}function u(f){return f===59?(e.consume(f),a):Wt(f)?(e.consume(f),u):n(f)}}function ZP(e,t,n){return a;function a(l){return e.consume(l),o}function o(l){return Gt(l)?n(l):t(l)}}function pT(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||tt(e)}function gT(e){return!Wt(e)}function yT(e){return!(e===47||lm(e))}function lm(e){return e===43||e===45||e===46||e===95||Gt(e)}function Wm(e){let t=e.length,n=!1;for(;t--;){const a=e[t][1];if((a.type==="labelLink"||a.type==="labelImage")&&!a._balanced){n=!0;break}if(a._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const e5={tokenize:l5,partial:!0};function t5(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:r5,continuation:{tokenize:o5},exit:s5}},text:{91:{name:"gfmFootnoteCall",tokenize:a5},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:n5,resolveTo:i5}}}}function n5(e,t,n){const a=this;let o=a.events.length;const l=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let u;for(;o--;){const m=a.events[o][1];if(m.type==="labelImage"){u=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return f;function f(m){if(!u||!u._balanced)return n(m);const d=Yn(a.sliceSerialize({start:u.end,end:a.now()}));return d.codePointAt(0)!==94||!l.includes(d.slice(1))?n(m):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),t(m))}}function i5(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const a={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},f=[e[n+1],e[n+2],["enter",a,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",l,t],["enter",u,t],["exit",u,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",a,t]];return e.splice(n,e.length-n+1,...f),e}function a5(e,t,n){const a=this,o=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let l=0,u;return f;function f(y){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(y),e.exit("gfmFootnoteCallLabelMarker"),m}function m(y){return y!==94?n(y):(e.enter("gfmFootnoteCallMarker"),e.consume(y),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",d)}function d(y){if(l>999||y===93&&!u||y===null||y===91||tt(y))return n(y);if(y===93){e.exit("chunkString");const T=e.exit("gfmFootnoteCallString");return o.includes(Yn(a.sliceSerialize(T)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(y),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(y)}return tt(y)||(u=!0),l++,e.consume(y),y===92?h:d}function h(y){return y===91||y===92||y===93?(e.consume(y),l++,d):d(y)}}function r5(e,t,n){const a=this,o=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let l,u=0,f;return m;function m(E){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(E){return E===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):n(E)}function h(E){if(u>999||E===93&&!f||E===null||E===91||tt(E))return n(E);if(E===93){e.exit("chunkString");const k=e.exit("gfmFootnoteDefinitionLabelString");return l=Yn(a.sliceSerialize(k)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),T}return tt(E)||(f=!0),u++,e.consume(E),E===92?y:h}function y(E){return E===91||E===92||E===93?(e.consume(E),u++,h):h(E)}function T(E){return E===58?(e.enter("definitionMarker"),e.consume(E),e.exit("definitionMarker"),o.includes(l)||o.push(l),He(e,S,"gfmFootnoteDefinitionWhitespace")):n(E)}function S(E){return t(E)}}function o5(e,t,n){return e.check(Ns,t,e.attempt(e5,t,n))}function s5(e){e.exit("gfmFootnoteDefinition")}function l5(e,t,n){const a=this;return He(e,o,"gfmFootnoteDefinitionIndent",5);function o(l){const u=a.events[a.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?t(l):n(l)}}function u5(e){let n=(e||{}).singleTilde;const a={name:"strikethrough",tokenize:l,resolveAll:o};return n==null&&(n=!0),{text:{126:a},insideSpan:{null:[a]},attentionMarkers:{null:[126]}};function o(u,f){let m=-1;for(;++m<u.length;)if(u[m][0]==="enter"&&u[m][1].type==="strikethroughSequenceTemporary"&&u[m][1]._close){let d=m;for(;d--;)if(u[d][0]==="exit"&&u[d][1].type==="strikethroughSequenceTemporary"&&u[d][1]._open&&u[m][1].end.offset-u[m][1].start.offset===u[d][1].end.offset-u[d][1].start.offset){u[m][1].type="strikethroughSequence",u[d][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},u[d][1].start),end:Object.assign({},u[m][1].end)},y={type:"strikethroughText",start:Object.assign({},u[d][1].end),end:Object.assign({},u[m][1].start)},T=[["enter",h,f],["enter",u[d][1],f],["exit",u[d][1],f],["enter",y,f]],S=f.parser.constructs.insideSpan.null;S&&bn(T,T.length,0,Fu(S,u.slice(d+1,m),f)),bn(T,T.length,0,[["exit",y,f],["enter",u[m][1],f],["exit",u[m][1],f],["exit",h,f]]),bn(u,d-1,m-d+3,T),m=d+T.length-2;break}}for(m=-1;++m<u.length;)u[m][1].type==="strikethroughSequenceTemporary"&&(u[m][1].type="data");return u}function l(u,f,m){const d=this.previous,h=this.events;let y=0;return T;function T(E){return d===126&&h[h.length-1][1].type!=="characterEscape"?m(E):(u.enter("strikethroughSequenceTemporary"),S(E))}function S(E){const k=zr(d);if(E===126)return y>1?m(E):(u.consume(E),y++,S);if(y<2&&!n)return m(E);const I=u.exit("strikethroughSequenceTemporary"),N=zr(E);return I._open=!N||N===2&&!!k,I._close=!k||k===2&&!!N,f(E)}}}class c5{constructor(){this.map=[]}add(t,n,a){f5(this,t,n,a)}consume(t){if(this.map.sort(function(l,u){return l[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const a=[];for(;n>0;)n-=1,a.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];a.push(t.slice()),t.length=0;let o=a.pop();for(;o;){for(const l of o)t.push(l);o=a.pop()}this.map.length=0}}function f5(e,t,n,a){let o=0;if(!(n===0&&a.length===0)){for(;o<e.map.length;){if(e.map[o][0]===t){e.map[o][1]+=n,e.map[o][2].push(...a);return}o+=1}e.map.push([t,n,a])}}function d5(e,t){let n=!1;const a=[];for(;t<e.length;){const o=e[t];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&a.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=a.length-1;a[l]=a[l]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return a}function m5(){return{flow:{null:{name:"table",tokenize:h5,resolveAll:p5}}}}function h5(e,t,n){const a=this;let o=0,l=0,u;return f;function f(L){let G=a.events.length-1;for(;G>-1;){const re=a.events[G][1].type;if(re==="lineEnding"||re==="linePrefix")G--;else break}const ne=G>-1?a.events[G][1].type:null,te=ne==="tableHead"||ne==="tableRow"?q:m;return te===q&&a.parser.lazy[a.now().line]?n(L):te(L)}function m(L){return e.enter("tableHead"),e.enter("tableRow"),d(L)}function d(L){return L===124||(u=!0,l+=1),h(L)}function h(L){return L===null?n(L):Se(L)?l>1?(l=0,a.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),S):n(L):Fe(L)?He(e,h,"whitespace")(L):(l+=1,u&&(u=!1,o+=1),L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),u=!0,h):(e.enter("data"),y(L)))}function y(L){return L===null||L===124||tt(L)?(e.exit("data"),h(L)):(e.consume(L),L===92?T:y)}function T(L){return L===92||L===124?(e.consume(L),y):y(L)}function S(L){return a.interrupt=!1,a.parser.lazy[a.now().line]?n(L):(e.enter("tableDelimiterRow"),u=!1,Fe(L)?He(e,E,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):E(L))}function E(L){return L===45||L===58?I(L):L===124?(u=!0,e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),k):K(L)}function k(L){return Fe(L)?He(e,I,"whitespace")(L):I(L)}function I(L){return L===58?(l+=1,u=!0,e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),N):L===45?(l+=1,N(L)):L===null||Se(L)?$(L):K(L)}function N(L){return L===45?(e.enter("tableDelimiterFiller"),V(L)):K(L)}function V(L){return L===45?(e.consume(L),V):L===58?(u=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),P):(e.exit("tableDelimiterFiller"),P(L))}function P(L){return Fe(L)?He(e,$,"whitespace")(L):$(L)}function $(L){return L===124?E(L):L===null||Se(L)?!u||o!==l?K(L):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(L)):K(L)}function K(L){return n(L)}function q(L){return e.enter("tableRow"),ce(L)}function ce(L){return L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),ce):L===null||Se(L)?(e.exit("tableRow"),t(L)):Fe(L)?He(e,ce,"whitespace")(L):(e.enter("data"),ue(L))}function ue(L){return L===null||L===124||tt(L)?(e.exit("data"),ce(L)):(e.consume(L),L===92?pe:ue)}function pe(L){return L===92||L===124?(e.consume(L),ue):ue(L)}}function p5(e,t){let n=-1,a=!0,o=0,l=[0,0,0,0],u=[0,0,0,0],f=!1,m=0,d,h,y;const T=new c5;for(;++n<e.length;){const S=e[n],E=S[1];S[0]==="enter"?E.type==="tableHead"?(f=!1,m!==0&&(vv(T,t,m,d,h),h=void 0,m=0),d={type:"table",start:Object.assign({},E.start),end:Object.assign({},E.end)},T.add(n,0,[["enter",d,t]])):E.type==="tableRow"||E.type==="tableDelimiterRow"?(a=!0,y=void 0,l=[0,0,0,0],u=[0,n+1,0,0],f&&(f=!1,h={type:"tableBody",start:Object.assign({},E.start),end:Object.assign({},E.end)},T.add(n,0,[["enter",h,t]])),o=E.type==="tableDelimiterRow"?2:h?3:1):o&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")?(a=!1,u[2]===0&&(l[1]!==0&&(u[0]=u[1],y=iu(T,t,l,o,void 0,y),l=[0,0,0,0]),u[2]=n)):E.type==="tableCellDivider"&&(a?a=!1:(l[1]!==0&&(u[0]=u[1],y=iu(T,t,l,o,void 0,y)),l=u,u=[l[1],n,0,0])):E.type==="tableHead"?(f=!0,m=n):E.type==="tableRow"||E.type==="tableDelimiterRow"?(m=n,l[1]!==0?(u[0]=u[1],y=iu(T,t,l,o,n,y)):u[1]!==0&&(y=iu(T,t,u,o,n,y)),o=0):o&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")&&(u[3]=n)}for(m!==0&&vv(T,t,m,d,h),T.consume(t.events),n=-1;++n<t.events.length;){const S=t.events[n];S[0]==="enter"&&S[1].type==="table"&&(S[1]._align=d5(t.events,n))}return e}function iu(e,t,n,a,o,l){const u=a===1?"tableHeader":a===2?"tableDelimiter":"tableData",f="tableContent";n[0]!==0&&(l.end=Object.assign({},Lr(t.events,n[0])),e.add(n[0],0,[["exit",l,t]]));const m=Lr(t.events,n[1]);if(l={type:u,start:Object.assign({},m),end:Object.assign({},m)},e.add(n[1],0,[["enter",l,t]]),n[2]!==0){const d=Lr(t.events,n[2]),h=Lr(t.events,n[3]),y={type:f,start:Object.assign({},d),end:Object.assign({},h)};if(e.add(n[2],0,[["enter",y,t]]),a!==2){const T=t.events[n[2]],S=t.events[n[3]];if(T[1].end=Object.assign({},S[1].end),T[1].type="chunkText",T[1].contentType="text",n[3]>n[2]+1){const E=n[2]+1,k=n[3]-n[2]-1;e.add(E,k,[])}}e.add(n[3]+1,0,[["exit",y,t]])}return o!==void 0&&(l.end=Object.assign({},Lr(t.events,o)),e.add(o,0,[["exit",l,t]]),l=void 0),l}function vv(e,t,n,a,o){const l=[],u=Lr(t.events,n);o&&(o.end=Object.assign({},u),l.push(["exit",o,t])),a.end=Object.assign({},u),l.push(["exit",a,t]),e.add(n+1,0,l)}function Lr(e,t){const n=e[t],a=n[0]==="enter"?"start":"end";return n[1][a]}const g5={name:"tasklistCheck",tokenize:x5};function y5(){return{text:{91:g5}}}function x5(e,t,n){const a=this;return o;function o(m){return a.previous!==null||!a._gfmTasklistFirstContentOfListItem?n(m):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(m),e.exit("taskListCheckMarker"),l)}function l(m){return tt(m)?(e.enter("taskListCheckValueUnchecked"),e.consume(m),e.exit("taskListCheckValueUnchecked"),u):m===88||m===120?(e.enter("taskListCheckValueChecked"),e.consume(m),e.exit("taskListCheckValueChecked"),u):n(m)}function u(m){return m===93?(e.enter("taskListCheckMarker"),e.consume(m),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),f):n(m)}function f(m){return Se(m)?t(m):Fe(m)?e.check({tokenize:v5},t,n)(m):n(m)}}function v5(e,t,n){return He(e,a,"whitespace");function a(o){return o===null?n(o):t(o)}}function b5(e){return wb([GP(),t5(),u5(e),m5(),y5()])}const T5={};function xT(e){const t=this,n=e||T5,a=t.data(),o=a.micromarkExtensions||(a.micromarkExtensions=[]),l=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),u=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);o.push(b5(n)),l.push(zP()),u.push(HP(n))}const S5=async e=>{if(!e)return{success:!1,message:"No content to copy"};try{const t=`
      <div style="color: #000000; font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; background: transparent;">
        ${e.split(`
`).map(a=>{if(a.startsWith("# "))return`<h1 style="color: #000000; font-size: 1.5rem; font-weight: bold; margin: 1.5rem 0 1rem 0;">${a.replace("# ","")}</h1>`;if(a.startsWith("## "))return`<h2 style="color: #000000; font-size: 1.25rem; font-weight: bold; margin: 1rem 0 0.5rem 0;">${a.replace("## ","")}</h2>`;if(a.startsWith("### "))return`<h3 style="color: #000000; font-size: 1.1rem; font-weight: bold; margin: 0.75rem 0 0.25rem 0;">${a.replace("### ","")}</h3>`;if(a.startsWith("#### "))return`<h4 style="color: #000000; font-size: 1rem; font-weight: bold; margin: 0.5rem 0 0.25rem 0;">${a.replace("#### ","")}</h4>`;if(a.startsWith("- **")){const o=a.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(o)return`<p style="margin: 0.25rem 0; color: #000000;"><strong style="color: #000000;">${o[1]}:</strong> ${o[2]}</p>`}else{if(a.startsWith("- "))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;"> ${a.replace("- ","")}</p>`;if(a.match(/^\d+\./))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;">${a}</p>`;if(a.startsWith("**")&&a.endsWith("**"))return`<p style="margin: 0.5rem 0; color: #000000; font-weight: bold;">${a.replace(/\*\*/g,"")}</p>`;if(a.trim())return`<p style="margin: 0.5rem 0; color: #000000;">${a}</p>`}return"<br>"}).join("")}
      </div>
    `,n=e.split(`
`).map(a=>{if(a.startsWith("# "))return a.replace("# ","");if(a.startsWith("## "))return a.replace("## ","");if(a.startsWith("### "))return a.replace("### ","");if(a.startsWith("#### "))return a.replace("#### ","");if(a.startsWith("- **")){const o=a.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(o)return`${o[1]}: ${o[2]}`}else{if(a.startsWith("- "))return` ${a.replace("- ","")}`;if(a.startsWith("**")&&a.endsWith("**"))return a.replace(/\*\*/g,"")}return a}).join(`
`);if(navigator.clipboard&&navigator.clipboard.write){const a=new Blob([t],{type:"text/html"}),o=new Blob([n],{type:"text/plain"}),l=new ClipboardItem({"text/html":a,"text/plain":o});return await navigator.clipboard.write([l]),{success:!0,message:"Content copied (Rich Format)!"}}else return await navigator.clipboard.writeText(n),{success:!0,message:"Content copied (Plain Text)!"}}catch(t){return console.error("Failed to copy content:",t),{success:!1,message:"Failed to copy. Please try manually."}}},hu=({content:e,onExportPDF:t,onCopy:n,className:a=""})=>{const[o,l]=fe.useState(""),u=async()=>{if(n){n();return}const m=await S5(e);l(m.message),setTimeout(()=>l(""),3e3)},f={h1:({children:m})=>g.jsx("h1",{className:"text-3xl font-bold text-purple-300 mb-6 border-b border-gray-600 pb-3",children:m}),h2:({children:m})=>g.jsx("h2",{className:"text-2xl font-semibold text-purple-200 mt-8 mb-4 border-l-4 border-purple-500 pl-4",children:m}),h3:({children:m})=>g.jsx("h3",{className:"text-xl font-semibold text-purple-100 mt-6 mb-3 flex items-center",children:m}),h4:({children:m})=>g.jsx("h4",{className:"text-lg font-medium text-gray-200 mt-4 mb-2",children:m}),p:({children:m})=>g.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:m}),ul:({children:m})=>g.jsx("ul",{className:"list-disc list-inside text-gray-300 mb-4 space-y-1 ml-4",children:m}),ol:({children:m})=>g.jsx("ol",{className:"list-decimal list-inside text-gray-300 mb-4 space-y-1 ml-4",children:m}),li:({children:m})=>g.jsx("li",{className:"text-gray-300 mb-1",children:m}),strong:({children:m})=>g.jsx("strong",{className:"font-semibold text-gray-100",children:m}),em:({children:m})=>g.jsx("em",{className:"italic text-gray-200",children:m}),code:({children:m,className:d})=>d?g.jsx("pre",{className:"bg-gray-800 border border-gray-600 rounded-lg p-4 overflow-x-auto mb-4",children:g.jsx("code",{className:"text-green-300 text-sm font-mono",children:m})}):g.jsx("code",{className:"bg-gray-700 text-purple-300 px-2 py-1 rounded text-sm font-mono",children:m}),blockquote:({children:m})=>g.jsx("blockquote",{className:"border-l-4 border-purple-500 bg-gray-800/50 pl-4 py-2 mb-4 italic text-gray-300",children:m}),table:({children:m})=>g.jsx("div",{className:"overflow-x-auto mb-6",children:g.jsx("table",{className:"min-w-full bg-gray-800 border border-gray-600 rounded-lg",children:m})}),thead:({children:m})=>g.jsx("thead",{className:"bg-gray-700",children:m}),tbody:({children:m})=>g.jsx("tbody",{className:"divide-y divide-gray-600",children:m}),tr:({children:m})=>g.jsx("tr",{className:"hover:bg-gray-700/50 transition-colors",children:m}),th:({children:m})=>g.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-purple-300 border-b border-gray-600",children:m}),td:({children:m})=>g.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:m}),hr:()=>g.jsx("hr",{className:"border-gray-600 my-8"}),a:({href:m,children:d})=>g.jsx("a",{href:m,className:"text-purple-400 hover:text-purple-300 underline transition-colors",target:"_blank",rel:"noopener noreferrer",children:d})};return g.jsxs("div",{className:`markdown-content ${a}`,children:[g.jsxs("div",{className:"flex justify-end gap-2 mb-4 pb-4 border-b border-gray-700",children:[g.jsx(Be,{onClick:u,variant:"outline",size:"sm",leftIcon:g.jsx(Ak,{className:"w-4 h-4"}),children:"Copy Content"}),t&&g.jsx(Be,{onClick:t,variant:"secondary",size:"sm",leftIcon:g.jsx(Kd,{className:"w-4 h-4"}),children:"Export PDF"})]}),o&&g.jsx("div",{className:`text-sm mb-4 p-2 rounded ${o.includes("Failed")?"text-red-400 bg-red-900/20":"text-green-400 bg-green-900/20"}`,children:o}),g.jsx("div",{className:"prose prose-invert max-w-none",children:g.jsx(Kb,{components:f,remarkPlugins:[xT],children:e})})]})},vT=[{category:"House",genre:"House",tempoRange:[120,126],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Deep House",tempoRange:[118,124],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Tech House",tempoRange:[122,127],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Progressive House",tempoRange:[124,128],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Afro House",tempoRange:[120,125],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Nu-Disco",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Techno",genre:"Melodic Techno",tempoRange:[120,126],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Minimal Techno",tempoRange:[120,125],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Big Room Techno",tempoRange:[126,130],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Techno",genre:"Peak Time Techno",tempoRange:[128,135],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Hard Techno",tempoRange:[135,145],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Trance",genre:"Trance",tempoRange:[128,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Psytrance",tempoRange:[140,150],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Progressive Trance",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Uplifting Trance",tempoRange:[132,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Bass & Dubstep",genre:"Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Riddim Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hybrid Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Midtempo Bass",tempoRange:[95,110],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Bass & Dubstep",genre:"Future Bass",tempoRange:[140,155],sections:["Intro","Pre-Drop","Drop 1","Breakdown","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Phonk",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hardstyle",tempoRange:[150,160],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Trap",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hard Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hyperpop",tempoRange:[140,160],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Trap Soul",tempoRange:[100,130],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Jersey Club",tempoRange:[130,140],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Drum & Bass",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Liquid DnB",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Jungle",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Garage",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Bass",tempoRange:[128,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Breakbeat",tempoRange:[125,135],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Pop / Indie / Electro",genre:"EDM Pop",tempoRange:[110,125],sections:["Intro","Verse","Pre-Chorus","Chorus / Drop","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Pop",tempoRange:[100,120],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Dance",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Electro Pop",tempoRange:[100,120],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Synth Pop",tempoRange:[100,115],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Retro & Synth",genre:"Synthwave",tempoRange:[85,105],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Chillwave",tempoRange:[85,100],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Vaporwave",tempoRange:[60,85],sections:["Intro","Main Theme","Breakdown","Outro"]},{category:"Retro & Synth",genre:"Retrowave",tempoRange:[90,110],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"Boom Bap",tempoRange:[85,95],sections:["Intro","Verse","Chorus","Verse 2","Outro"]},{category:"Hip-Hop & RnB",genre:"Experimental Hip-Hop",tempoRange:[80,100],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"RnB Remix",tempoRange:[85,100],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Lo-fi & Chill",genre:"Lo-fi Hip-Hop",tempoRange:[65,85],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Chillhop",tempoRange:[70,90],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Trip-Hop",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Lo-fi & Chill",genre:"Downtempo",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Dynamic Peak","Outro"]},{category:"Lo-fi & Chill",genre:"Chillstep",tempoRange:[100,115],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Ambient & Cinematic",genre:"Ambient",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Ambient & Cinematic",genre:"Cinematic",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]}],C5=()=>{const e={};return vT.forEach(({category:t,genre:n})=>{e[t]||(e[t]=[]),e[t].push(n)}),e},bv=e=>vT.find(t=>t.genre===e),Tv=e=>{if(!e)return null;const t=/##\s*\s*Original Track DNA Analysis/i,n=e.match(t);if(!n||typeof n.index>"u")return null;const a=n.index,o=e.substring(a+n[0].length).match(/^##\s+/m),l=o&&typeof o.index<"u"?a+n[0].length+o.index:e.length,f=e.substring(a,l).trim().match(/\*\*Harmonic Blueprint\*\*:\s*([^\n]+)/i);if(f&&f[1]){const d=f[1].match(/([IVXLCDMivxlcdm\d\s,-]+(?:\s*-\s*[IVXLCDMivxlcdm\d\s,-]+)*)/);if(d&&d[1])return d[1].trim()}return null},A5=()=>{const[e,t]=fe.useState(null),[n,a]=fe.useState(""),[o,l]=fe.useState(""),[u,f]=fe.useState(""),[m,d]=fe.useState(""),[h,y]=fe.useState(!1),[T,S]=fe.useState(null),[E,k]=fe.useState(""),I=fe.useRef(null),N=C5(),V=Object.keys(N),P=L=>{var re;const G=(re=L.target.files)==null?void 0:re[0];if(!G)return;if(!(["audio/wav","audio/mpeg","audio/mp3"].includes(G.type)||G.name.toLowerCase().endsWith(".wav")||G.name.toLowerCase().endsWith(".mp3"))){k("Please upload a WAV or MP3 file");return}if(G.size>100*1024*1024){k("File size must be under 100MB");return}t(G),k("")},$=L=>{L.preventDefault();const G=L.dataTransfer.files[0];G&&P({target:{files:[G]}})},K=L=>{L.preventDefault()},q=async()=>{if(!e||!o){k("Please upload an audio file and select a target genre");return}y(!0),k("");try{const L=await Gk(e),G={base64:L.base64,mimeType:L.mimeType},ne=bv(o),te=await Tk(G,o,ne,u,m);console.log("Remix guide generated, now generating MIDI patterns...");try{const re=Tv(te.guide),B={key:te.targetKey,tempo:te.targetTempo,timeSignature:[4,4],chordProgression:re||te.originalChordProgression||"i-VI-III-VII",genre:o,bars:8,targetInstruments:["bassline","drums","melody","chords"],guidebookContext:`${o} remix at ${te.targetTempo} BPM in ${te.targetKey}`,songSection:te.sections[0]||"Intro"};console.log("MIDI settings:",B);const F=await ys(B);let _="";for await(const U of F)U.text&&(_+=U.text);_=_.trim();const D=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,R=_.match(D);R&&R[2]&&(_=R[2].trim()),console.log("Raw MIDI JSON:",_);const C=JSON.parse(_);if(C.drums){const U={};for(const M in C.drums)U[M.toLowerCase().replace(/\s+/g,"_")]=C.drums[M];C.drums=U}console.log("Generated MIDI patterns:",C);const j={...te,generatedMidiPatterns:C};S(j)}catch(re){console.error("Error generating MIDI patterns for remix:",re),S({...te,generatedMidiPatterns:{}}),k(`Remix guide generated successfully, but MIDI generation failed: ${re instanceof Error?re.message:"Unknown error"}`)}}catch(L){console.error("Error generating remix guide:",L),k(L instanceof Error?L.message:"Failed to generate remix guide. Please try again.")}finally{y(!1)}},ce=L=>{a(L),l("")},ue=async()=>{if(T){y(!0),k("");try{const L=Tv(T.guide),G={key:T.targetKey,tempo:T.targetTempo,timeSignature:[4,4],chordProgression:L||T.originalChordProgression||"i-VI-III-VII",genre:o,bars:8,targetInstruments:["bassline","drums","melody","chords"],guidebookContext:`${o} remix at ${T.targetTempo} BPM in ${T.targetKey}`,songSection:T.sections[0]||"Intro"};console.log("Regenerating MIDI with settings:",G);const ne=await ys(G);let te="";for await(const _ of ne)_.text&&(te+=_.text);te=te.trim();const re=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,B=te.match(re);B&&B[2]&&(te=B[2].trim()),console.log("Raw regenerated MIDI JSON:",te);const F=JSON.parse(te);if(F.drums){const _={};for(const D in F.drums)_[D.toLowerCase().replace(/\s+/g,"_")]=F.drums[D];F.drums=_}console.log("Regenerated MIDI patterns:",F),S(_=>_?{..._,generatedMidiPatterns:F}:null)}catch(L){console.error("Error regenerating MIDI patterns:",L),k(`Failed to regenerate MIDI patterns: ${L instanceof Error?L.message:"Unknown error"}`)}finally{y(!1)}}},pe=()=>{t(null),a(""),l(""),f(""),d(""),S(null),k(""),I.current&&(I.current.value="")};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs(Ue,{className:"p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Upload Original Track"}),g.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-gray-500 transition-colors",onDrop:$,onDragOver:K,onClick:()=>{var L;return(L=I.current)==null?void 0:L.click()},children:[g.jsx("input",{ref:I,type:"file",accept:".wav,.mp3,audio/wav,audio/mpeg",onChange:P,className:"hidden"}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"text-4xl",children:""}),g.jsx("div",{className:"text-white font-medium",children:e?e.name:"Upload Original Track"}),g.jsx("p",{className:"text-gray-400 text-sm",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["MP3, WAV up to ",g.jsx("span",{className:"text-orange-400",children:"100"}),"MB"]})]})]}),g.jsxs(Ue,{className:"p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Target Remix Genre"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"1. Select Category"}),g.jsxs("select",{value:n,onChange:L=>ce(L.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[g.jsx("option",{value:"",children:"Choose a category..."}),V.map(L=>g.jsx("option",{value:L,children:L},L))]})]}),n&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"2. Select Genre"}),g.jsxs("select",{value:o,onChange:L=>l(L.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[g.jsx("option",{value:"",children:"Choose a genre..."}),N[n].map(L=>g.jsx("option",{value:L,children:L},L))]})]}),o&&g.jsx("div",{className:"text-sm text-gray-400 bg-gray-800 p-3 rounded-lg",children:(()=>{const L=bv(o);return L?` Tempo: ${L.tempoRange[0]}-${L.tempoRange[1]} BPM`:""})()})]})]})]}),g.jsxs(Ue,{className:"p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Production Setup (Optional)"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"DAW (Digital Audio Workstation)"}),g.jsx("input",{type:"text",value:u,onChange:L=>f(L.target.value),placeholder:"e.g., Ableton Live, Logic Pro X, FL Studio...",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Available Plugins"}),g.jsx("input",{type:"text",value:m,onChange:L=>d(L.target.value),placeholder:"e.g., Serum, FabFilter Pro-Q 3, Valhalla VintageVerb...",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),g.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Specify your DAW and plugins to get tailored parameter recommendations in the remix guide"})]}),E&&g.jsx("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-4 text-red-200",children:E}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx(Be,{onClick:q,disabled:!e||!o||h,className:"flex-1",children:h?g.jsxs(g.Fragment,{children:[g.jsx(ta,{size:"sm"})," Generating RemixGuide..."]}):" Generate RemixGuide"}),g.jsx(Be,{onClick:pe,variant:"outline",children:"Reset"})]}),T&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs(Ue,{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-white",children:[" ",o," Remix Guide"]}),g.jsxs("div",{className:"text-sm text-gray-400",children:["Target: ",T.targetTempo," BPM  ",T.targetKey]})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-6 max-h-[calc(100vh-8rem)] overflow-y-auto",children:[g.jsx(hu,{content:T.guide}),g.jsxs(Be,{onClick:()=>openAIAssistant("RemixGuide for this project"),className:"mt-4 flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[g.jsx("img",{src:"/production-coach-icon.svg",alt:"AI",className:"w-5 h-5"}),"Ask follow-up questions"]})]})]}),g.jsxs(Ue,{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h3",{className:"text-xl font-bold text-white",children:" MIDI Remix Patterns"}),g.jsx(Be,{onClick:ue,disabled:h,variant:"outline",className:"text-sm",children:h?g.jsxs(g.Fragment,{children:[g.jsx(ta,{size:"sm"})," Regenerating..."]}):" Regenerate MIDI"})]}),T.generatedMidiPatterns?g.jsx(db,{sections:T.sections,targetTempo:T.targetTempo,targetKey:T.targetKey,isRemixMode:!0,currentGuidebookEntry:{id:`remix-${Date.now()}`,title:`${o} Remix`,genre:[o],artistReference:"Remix Guide",vibe:[o],daw:u||"Not specified",plugins:m||"Not specified",availableInstruments:"Remix instruments",content:T.guide,createdAt:new Date().toISOString(),generatedMidiPatterns:T.generatedMidiPatterns}},`remix-${o}-${Date.now()}`):g.jsx("div",{className:"text-center py-8",children:g.jsx("div",{className:"text-gray-400 mb-4",children:h?g.jsxs(g.Fragment,{children:[g.jsx(ta,{size:"lg"}),g.jsx("p",{className:"mt-4",children:"Generating MIDI patterns..."})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-4xl mb-2",children:""}),g.jsx("p",{children:"MIDI patterns will appear here after generation"}),g.jsx("p",{className:"text-sm mt-2",children:'Click "Regenerate MIDI" to generate patterns'})]})})})]})]}),!T&&g.jsx(Ue,{className:"p-6 bg-gray-800/30",children:g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("div",{className:"text-6xl",children:""}),g.jsx("h3",{className:"text-xl font-bold text-white",children:"Transform Your Track"}),g.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Upload your original track and select a target genre. Our AI will analyze the harmonic progression, melodies, and rhythmic elements, then generate a comprehensive remix guide with genre-appropriate MIDI patterns for basslines, drums, melodies, and textures."})]})})]})},Sv=[{frequency:"20-30 Hz",category:"sub",min:20,max:30,description:"Extreme sub-bass rumble. Rarely useful except for cinematic or sub-heavy genres.",action:"cut",instruments:["Kick drum","Sub bass","808s","Synth bass"]},{frequency:"30-50 Hz",category:"sub",min:30,max:50,description:"Deep low-end power. Adds weight, but too much = flabbiness.",action:"boost",instruments:["Kick drum","Sub bass","Bass guitar","808s"]},{frequency:"50-60 Hz",category:"sub",min:50,max:60,description:'Bass punch and fullness. Defines the "bottom" of mix.',action:"boost",instruments:["Kick drum","Bass guitar","Sub bass","Synths"]},{frequency:"60-100 Hz",category:"bass",min:60,max:100,description:"Bass body and tone. Core of bass instruments. Too much = boom.",action:"boost",instruments:["Bass guitar","Kick drum","Synth bass","Cello"]},{frequency:"100-160 Hz",category:"bass",min:100,max:160,description:"Low warmth. Helps glue bass + low mids. Overdone = muddiness.",action:"cut",instruments:["Bass guitar","Piano","Guitar","Vocals","Drums"]},{frequency:"160-250 Hz",category:"bass",min:160,max:250,description:"Upper bass/low mid overlap. Often cut to clean mud.",action:"cut",instruments:["Bass guitar","Vocals","Strings","Brass"]},{frequency:"250-350 Hz",category:"low-mid",min:250,max:350,description:"Boxiness / wool. Can cloud guitars & vocals.",action:"cut",instruments:["Vocals","Guitar","Piano","Snare"]},{frequency:"350-500 Hz",category:"low-mid",min:350,max:500,description:"Warmth vs. mud. Boost for body, cut for clarity.",action:"cut",instruments:["Vocals","Snare","Guitar","Keys"]},{frequency:"500-800 Hz",category:"mid",min:500,max:800,description:"Core midrange  thickness and presence. Often cluttered.",action:"cut",instruments:["Vocals","Guitar","Snare","Keys"]},{frequency:"800 Hz - 1.5 kHz",category:"mid",min:800,max:1500,description:"Body and clarity. Essential for definition.",action:"boost",instruments:["Vocals","Guitar","Piano","Snare"]},{frequency:"1.5-2 kHz",category:"mid",min:1500,max:2e3,description:"Presence and attack. Boost for definition.",action:"boost",instruments:["Vocals","Snare","Guitar"]},{frequency:"2-3 kHz",category:"high-mid",min:2e3,max:3e3,description:"Vocal clarity and edge. Boost carefully.",action:"boost",instruments:["Vocals","Snare","Guitar","Piano"]},{frequency:"3-5 kHz",category:"high-mid",min:3e3,max:5e3,description:"Presence, bite, intelligibility. Too much = harsh.",action:"cut",instruments:["Vocals","Snare","Cymbals"]},{frequency:"5-8 kHz",category:"presence",min:5e3,max:8e3,description:"Detail and sparkle. Brings life, but sibilant if overdone.",action:"boost",instruments:["Vocals","Hi-hats","Acoustic guitar","Cymbals"]},{frequency:"8-12 kHz",category:"air",min:8e3,max:12e3,description:"Air and openness. Adds space.",action:"boost",instruments:["Vocals","Strings","Cymbals","Room mics"]},{frequency:"12-20 kHz",category:"air",min:12e3,max:2e4,description:"Extreme highs. Use for shimmer.",action:"boost",instruments:["Cymbals","Room mics","Vocals"]},{frequency:"80-200 Hz",category:"bass",min:80,max:200,description:"Cut gently to reduce muddiness and low-end buildup.",action:"cut",instruments:["Male vocals"]},{frequency:"200-400 Hz",category:"low-mid",min:200,max:400,description:"Boost lightly for body, cut if vocals sound boxy.",action:"boost",instruments:["Male vocals"]},{frequency:"1-2 kHz",category:"mid",min:1e3,max:2e3,description:"Boost for presence and clarity, helping vocals cut through the mix.",action:"boost",instruments:["Male vocals"]},{frequency:"4-6 kHz",category:"high-mid",min:4e3,max:6e3,description:"Boost for air and articulation, but watch out for harshness.",action:"boost",instruments:["Male vocals"]},{frequency:"100-250 Hz",category:"bass",min:100,max:250,description:"Cut to reduce any muddiness. Female vocals rarely need low-end boosting.",action:"cut",instruments:["Female vocals"]},{frequency:"400-800 Hz",category:"mid",min:400,max:800,description:"Boost for warmth and body, but cut if vocals sound boxy.",action:"boost",instruments:["Female vocals"]},{frequency:"2-4 kHz",category:"high-mid",min:2e3,max:4e3,description:"Boost for presence, articulation, and forward vocals.",action:"boost",instruments:["Female vocals"]},{frequency:"7-10 kHz",category:"presence",min:7e3,max:1e4,description:"Boost for air and breathiness, cut if sibilant (ess sounds).",action:"boost",instruments:["Female vocals"]},{frequency:"7-10 kHz",category:"presence",min:7e3,max:1e4,description:"Cut to control sibilance if vocals are too essy.",action:"cut",instruments:["Female vocals"]},{frequency:"200-400 Hz",category:"low-mid",min:200,max:400,description:"Boost for warmth, fullness.",action:"boost",instruments:["Saxophone"]},{frequency:"1-2 kHz",category:"mid",min:1e3,max:2e3,description:"Boost for body and presence.",action:"boost",instruments:["Saxophone"]},{frequency:"3-5 kHz",category:"high-mid",min:3e3,max:5e3,description:"Cut to tame harshness or reed noise.",action:"cut",instruments:["Saxophone"]},{frequency:"8-12 kHz",category:"air",min:8e3,max:12e3,description:"Boost for air and shine.",action:"boost",instruments:["Saxophone"]}],Cv=[{id:"all",label:"All Frequencies",color:"bg-gray-600"},{id:"sub",label:"Sub Bass (20-60Hz)",color:"bg-red-600"},{id:"bass",label:"Bass (60-250Hz)",color:"bg-orange-600"},{id:"low-mid",label:"Low Mids (250-500Hz)",color:"bg-yellow-600"},{id:"mid",label:"Mids (500-2kHz)",color:"bg-green-600"},{id:"high-mid",label:"High Mids (2-6kHz)",color:"bg-blue-600"},{id:"presence",label:"Presence (6-12kHz)",color:"bg-indigo-600"},{id:"air",label:"Air (12kHz+)",color:"bg-purple-600"}];function E5({min:e,max:t}){const n=100*(Math.log10(e)-Math.log10(20))/(Math.log10(2e4)-Math.log10(20)),a=100*(Math.log10(t)-Math.log10(20))/(Math.log10(2e4)-Math.log10(20));return g.jsx("div",{className:"relative h-2 w-full bg-gray-900 rounded-full my-2",children:g.jsx("div",{className:"absolute h-2 rounded-full bg-orange-500 transition-all",style:{left:`${n}%`,width:`${Math.max(a-n,3)}%`}})})}const M5=()=>{const[e,t]=fe.useState("All"),[n,a]=fe.useState("all"),o=Sv.filter(u=>{const f=n==="all"||u.category===n,m=e==="All"||u.instruments.includes(e);return f&&(e==="All"?!0:m)}),l=u=>Sv.filter(f=>f.frequency===u.frequency&&f.category===u.category&&f.action===u.action).flatMap(f=>f.instruments).filter((f,m,d)=>d.indexOf(f)===m);return g.jsxs("div",{className:"max-w-4xl mx-auto w-full py-8 px-4 md:px-0",children:[g.jsxs("div",{className:"flex flex-wrap gap-6 mb-6 items-end",children:[g.jsxs("div",{className:"flex-1 min-w-[180px]",children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"Instrument"}),g.jsxs("select",{value:e,onChange:u=>t(u.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100",children:[g.jsx("option",{disabled:!0,children:"Vocals"}),g.jsx("option",{value:"Vocals",children:"Vocals (general)"}),g.jsx("option",{value:"Male vocals",children:"Male vocals"}),g.jsx("option",{value:"Female vocals",children:"Female vocals"}),g.jsx("option",{disabled:!0,children:"Rhythm Section"}),g.jsx("option",{value:"Kick drum",children:"Kick drum"}),g.jsx("option",{value:"Snare",children:"Snare"}),g.jsx("option",{value:"Bass guitar",children:"Bass guitar"}),g.jsx("option",{value:"808s",children:"808s"}),g.jsx("option",{value:"Sub bass",children:"Sub bass"}),g.jsx("option",{value:"Synth bass",children:"Synth bass"}),g.jsx("option",{value:"Drums",children:"Drums"}),g.jsx("option",{disabled:!0,children:"Other Instruments"}),g.jsx("option",{value:"Guitar",children:"Guitar"}),g.jsx("option",{value:"Acoustic guitar",children:"Acoustic guitar"}),g.jsx("option",{value:"Piano",children:"Piano"}),g.jsx("option",{value:"Cymbals",children:"Cymbals"}),g.jsx("option",{value:"Hi-hats",children:"Hi-hats"}),g.jsx("option",{value:"Horns",children:"Horns"}),g.jsx("option",{value:"Strings",children:"Strings"}),g.jsx("option",{value:"Room mics",children:"Room mics"}),g.jsx("option",{value:"Violin",children:"Violin"}),g.jsx("option",{value:"Cello",children:"Cello"}),g.jsx("option",{value:"Tuba",children:"Tuba"}),g.jsx("option",{value:"Saxophone",children:"Saxophone"}),g.jsx("option",{value:"Trumpet",children:"Trumpet"}),g.jsx("option",{value:"Brass",children:"Brass"}),g.jsx("option",{value:"Woodwinds",children:"Woodwinds"}),g.jsx("option",{value:"Flute",children:"Flute"}),g.jsx("option",{disabled:!0,children:"All/General"}),g.jsx("option",{value:"All",children:"All Instruments"})]})]}),g.jsxs("div",{className:"flex-1 min-w-[180px]",children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"Frequency Range"}),g.jsx("select",{value:n,onChange:u=>a(u.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100",children:Cv.map(u=>g.jsx("option",{value:u.id,children:u.label},u.id))})]})]}),g.jsx("div",{className:"space-y-4",children:o.length===0?g.jsx(Ue,{className:"bg-gray-700/80 text-center py-16",children:g.jsxs("p",{className:"text-gray-300 text-lg",children:["No EQ data matches your current filters.",g.jsx("br",{}),"Try another instrument or frequency zone."]})}):o.map((u,f)=>{var m;return g.jsx(Ue,{className:"bg-gray-800/80",children:g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-lg font-bold text-white",children:u.frequency}),g.jsx("span",{className:`text-xs font-bold rounded-full px-2 py-1 ${((m=Cv.find(d=>d.id===u.category))==null?void 0:m.color)||"bg-gray-600"} text-white`,children:u.category.replace("-"," ").toUpperCase()}),g.jsx("span",{className:`ml-2 text-sm font-medium ${u.action==="boost"?"text-green-400":u.action==="cut"?"text-red-400":"text-yellow-400"}`,children:u.action==="boost"?" BOOST":u.action==="cut"?" CUT":"NOTCH"})]}),g.jsx(E5,{min:u.min,max:u.max}),g.jsx("p",{className:"text-gray-300",children:u.description}),g.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[g.jsx("span",{className:"text-xs font-bold text-gray-400 mr-1",children:"Applies to:"}),l(u).map(d=>g.jsx("span",{className:"bg-gray-700 text-orange-200 rounded px-2 py-1 text-xs font-medium",children:d},d))]})]})},f)})}),g.jsx("div",{className:"text-xs text-gray-500 mt-8 text-center px-2",children:"Tip: These are general guidelinestrust your ears and reference pro mixes for your genre."})]})},Av=({attack:e,decay:t,sustain:n,release:a,width:o=400,height:l=150})=>{const u=Math.max(0,Math.min(1,e)),f=Math.max(0,Math.min(1,t)),m=Math.max(0,Math.min(1,n)),d=Math.max(0,Math.min(1,a)),h=u+f+.3+d,y=u/h*o*.8,T=f/h*o*.8,S=.3/h*o*.8,E=d/h*o*.8,k=l*.9,I=l*.1,N=I+(1-m)*(k-I),V=o*.1;let P=V;const $=[`M ${P} ${k}`],K=P+y*.5,q=k-(k-I)*.1;$.push(`C ${K} ${q}, ${P+y*.8} ${I+10}, ${P+y} ${I}`),P+=y;const ce=P+T*.3,ue=I+(N-I)*.2;$.push(`C ${ce} ${ue}, ${P+T*.7} ${N-5}, ${P+T} ${N}`),P+=T,$.push(`L ${P+S} ${N}`),P+=S;const pe=P+E*.7,L=N+(k-N)*.8;$.push(`C ${P+E*.3} ${N+5}, ${pe} ${L}, ${P+E} ${k}`);const G=$.join(" ");return g.jsxs("svg",{width:o,height:l,className:"w-full h-auto",children:[g.jsx("rect",{width:"100%",height:"100%",fill:"#1f2937",rx:"4",ry:"4"}),g.jsx("line",{x1:"0",y1:k,x2:o,y2:k,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("line",{x1:"0",y1:I,x2:o,y2:I,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("line",{x1:"0",y1:N,x2:o,y2:N,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("path",{d:G,fill:"none",stroke:"#f97316",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("line",{x1:V+y,y1:I-5,x2:V+y,y2:k+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("line",{x1:V+y+T,y1:I-5,x2:V+y+T,y2:k+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("line",{x1:V+y+T+S,y1:I-5,x2:V+y+T+S,y2:k+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("text",{x:V+y/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"A"}),g.jsx("text",{x:V+y+T/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"D"}),g.jsx("text",{x:V+y+T+S/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"S"}),g.jsx("text",{x:V+y+T+S+E/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"R"}),g.jsx("text",{x:"5",y:I+15,fill:"#d1d5db",fontSize:"10",children:"1.0"}),g.jsx("text",{x:"5",y:N+15,fill:"#d1d5db",fontSize:"10",children:m.toFixed(1)}),g.jsx("text",{x:"5",y:k-5,fill:"#d1d5db",fontSize:"10",children:"0.0"}),g.jsxs("text",{x:o-5,y:15,textAnchor:"end",fill:"#d1d5db",fontSize:"10",children:["A: ",u.toFixed(2)," D: ",f.toFixed(2)," S: ",m.toFixed(2)," R: ",d.toFixed(2)]})]})},w5={name:"Xfer Serum",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Comb","Notch","Peak","Formant","Phaser"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Pan","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Chaos 1",type:"Random"},{name:"Chaos 2",type:"Random"},{name:"Noise OSC",type:"Audio"},{name:"Fixed",type:"Constant"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Warp Depth","Coarse","Fine","Level","Pan"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Pan","Mix"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Delay"]},{section:"FX",params:["Mix","Depth","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Hyper/Dimension",modulatable:!0,parameters:[{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"Detune",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},D5={name:"Vital",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Ladder","Analog","Digital","Formant","Comb","Phaser"],defaultType:"Ladder",parameters:["Cutoff","Resonance","Drive","Blend","Keytrack"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Random 1",type:"Random"},{name:"Random 2",type:"Random"},{name:"Random 3",type:"Random"},{name:"Random 4",type:"Random"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"MPE Slide",type:"MPE"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Spectral Warp","Level","Pan","Phase","Detune","Unison"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Blend"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Phase"]},{section:"FX",params:["Mix","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},k5={name:"Pigments",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Ladder","SEM","Jupiter","Formant","Comb","Phaser","Notch"],defaultType:"Ladder",parameters:["Cutoff","Resonance","Drive","Blend","Mode","Keytrack"]}],modSources:[{name:"Env 1 (Amp)",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"Function 1",type:"Function"},{name:"Function 2",type:"Function"},{name:"Function 3",type:"Function"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Random",type:"Random"},{name:"Velocity",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Analog Shape","Sample Start","Level","Pan","FM Amount"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Blend"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Fade In"]},{section:"FX",params:["Mix","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},N5={name:"Diva",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Moog Ladder","Roland","Korg MS20","HP","BP"],defaultType:"Moog Ladder",parameters:["Cutoff","Resonance","Drive","Keytrack"]}],modSources:[{name:"Env 1 (Amp)",type:"Envelope"},{name:"Env 2 (Filter)",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width"]},{section:"Filter",params:["Cutoff","Resonance","Drive"]},{section:"Amp",params:["Level"]}],effects:[]},R5={name:"Roland Juno-106",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","ENV Amount","LFO Amount","Keytrack"]}],modSources:[{name:"ADSR Envelope",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Mod Lever",type:"Performance"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width"]},{section:"Filter",params:["Cutoff","Resonance"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",parameters:["On/Off","Mode"]}]},I5={name:"Arturia Analog Lab",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance"]}],modSources:[{name:"Macro 1 (Brightness)",type:"Macro"},{name:"Macro 2 (Timbre)",type:"Macro"},{name:"Macro 3 (Time)",type:"Macro"},{name:"Macro 4 (Movement)",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Aftertouch",type:"MIDI"}],modDestinations:[{section:"Macros",params:["Brightness","Timbre","Time","Movement"]},{section:"Filter",params:["Cutoff","Resonance"]}],effects:[{name:"Macros (Brightness, Timbre, Time, Movement)"},{name:"Preset-dependent FX (varies by underlying synth)"}]},_5={name:"Generic Synth",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"LFO 1",type:"LFO"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level"]},{section:"Filter",params:["Cutoff","Resonance"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},L5={name:"Apple Alchemy",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan","Wave Shape"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},P5={name:"Ableton Operator",oscillators:[{id:"A",name:"Osc A",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"B",name:"Osc B",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"C",name:"Osc C",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"D",name:"Osc D",type:"FM",params:["Coarse","Fine","Level","Waveform"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Coarse","Fine","Level","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},O5={name:"Native Instruments FM8",operators:[{id:"A",name:"Operator A",params:["Ratio","Offset","Level","Waveform"]},{id:"B",name:"Operator B",params:["Ratio","Offset","Level","Waveform"]},{id:"C",name:"Operator C",params:["Ratio","Offset","Level","Waveform"]},{id:"D",name:"Operator D",params:["Ratio","Offset","Level","Waveform"]},{id:"E",name:"Operator E",params:["Ratio","Offset","Level","Waveform"]},{id:"F",name:"Operator F",params:["Ratio","Offset","Level","Waveform"]},{id:"X",name:"Noise/Saturation",params:["Level","Color"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Operator",params:["Level","Ratio","Offset","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},B5={name:"Hive 2",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Waveform","Octave","Semitone","Detune","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Waveform","Octave","Semitone","Detune","Level"]},{id:"Sub",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter 1",types:["Lowpass 12dB","Lowpass 24dB","Highpass 12dB","Highpass 24dB","Bandpass 12dB","Bandpass 24dB","Notch","Peak","Comb+","Comb-","Allpass"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]},{name:"Filter 2",types:["Lowpass 12dB","Lowpass 24dB","Highpass 12dB","Highpass 24dB","Bandpass 12dB","Bandpass 24dB","Notch","Peak","Comb+","Comb-","Allpass"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Seq/Arp",type:"Sequencer"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan","Wave Shape"]},{section:"Filter 1",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Filter 2",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},F5={name:"Native Instruments Massive X",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Wavetable","Pitch","Warp","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Wavetable","Pitch","Warp","Level"]}],filters:[{name:"Filter",types:["SVF","Ladder","Comb","Scanner","Groian","Blue Monark","Creak","Crusher"],defaultType:"SVF",parameters:["Cutoff","Resonance","Drive","Mix","Type"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"Performer 1",type:"Performer"},{name:"Performer 2",type:"Performer"},{name:"Random",type:"Random"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Warp","Level"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Insert FX 1",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Insert FX 2",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Insert FX 3",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 1",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 2",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 3",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"EQ",modulatable:!0,parameters:[{name:"Low Gain",unit:"dB",range:[-12,12],type:"float"},{name:"Mid Freq",unit:"Hz",range:[200,5e3],type:"float"},{name:"Mid Gain",unit:"dB",range:[-12,12],type:"float"},{name:"High Gain",unit:"dB",range:[-12,12],type:"float"}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]}]},V5={name:"Omnisphere",oscillators:[{id:"A",name:"Layer A",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"B",name:"Layer B",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"C",name:"Layer C",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"D",name:"Layer D",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch","Resonator","Formant","Power Filter"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},j5={name:"Apple Retro Synth",oscillators:[{id:"1",name:"Osc 1",type:"Analog/Digital/FM/Wave",params:["Type","Waveform","Octave","Detune","Level"]},{id:"2",name:"Osc 2",type:"Analog/Digital/FM/Wave",params:["Type","Waveform","Octave","Detune","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Type","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},z5={name:"Roland SH-101",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Sub Level","Pulse Width","Level"]}],filters:[{name:"VCF",types:["Lowpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Env Mod","Keytrack"]}],modSources:[{name:"Env",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width","Level"]},{section:"VCF",params:["Cutoff","Resonance","Env Mod"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!1,parameters:["Rate","Depth","Mix"]}]},H5={name:"Sylenth1",oscillators:[{id:"A1",name:"Osc A1",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"A2",name:"Osc A2",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"B1",name:"Osc B1",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"B2",name:"Osc B2",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]}],filters:[{name:"Filter A",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack"]},{name:"Filter B",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Detune","Volume"]},{section:"Filter A",params:["Cutoff","Resonance","Drive"]},{section:"Filter B",params:["Cutoff","Resonance","Drive"]},{section:"Amp",params:["Level"]}],effects:[{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]}]},U5={name:"Zebra2",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"3",name:"Osc 3",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"4",name:"Osc 4",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]}],filters:[{name:"Filter 1",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]},{name:"Filter 2",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Detune","Phase"]},{section:"Filter 1",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Filter 2",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},q5=[{name:"Chorus"},{name:"Delay"},{name:"Reverb"},{name:"Flanger"},{name:"Phaser"},{name:"Distortion"},{name:"Bitcrusher"},{name:"Tape Saturation"},{name:"Compressor"},{name:"EQ"},{name:"Filter"},{name:"Wah"},{name:"Tremolo"},{name:"Insert Distortion"},{name:"Insert Bitcrusher"},{name:"Insert Comb Filter"},{name:"Insert Frequency Shifter"},{name:"Insert Ring Mod"},{name:"Insert Sample & Hold"},{name:"Insert EQ"},{name:"Stereo Chorus"},{name:"Stereo Flanger"},{name:"Stereo Phaser"},{name:"Stereo Delay"},{name:"Stereo Reverb"},{name:"Stereo Tape Saturation"},{name:"Hyper/Dimension"}],G5={Serum:w5,Vital:D5,Pigments:k5,Diva:N5,Juno106:R5,AnalogLab:I5,Generic:_5,Alchemy:L5,Operator:P5,FM8:O5,Hive2:B5,MassiveX:F5,Omnisphere:V5,RetroSynth:j5,SH101:z5,Sylenth1:H5,Zebra2:U5,fallbackStandardEffects:q5},_a=G5,Y5={serum:"Xfer Serum",vital:"Vital",pigments:"Pigments",massive:"Native Instruments Massive",massivex:"Native Instruments Massive X",diva:"Diva",hive2:"Hive 2",sylenth1:"Sylenth1",wavestate:"Korg Wavestate",jupiter8:"Roland Jupiter-8",juno106:"Roland Juno-106",sh101:"Roland SH-101",operator:"Ableton Operator",wavetable:"Ableton Wavetable",retrosynth:"Apple Retro Synth",alchemy:"Apple Alchemy",fm8:"Native Instruments FM8",phaseplant:"Kilohearts Phase Plant",omnisphere:"Omnisphere",analoglab:"Arturia Analog Lab",generic:"Generic Synth","tal-u-no-lx":"TAL TAL-U-No-LX",repro5:"u-he Repro-5",repro1:"u-he Repro-1",monark:"Native Instruments Monark",bazille:"Bazille",zebra2:"Zebra2",polybrute:"Arturia PolyBrute",minimoog:"Moog Minimoog","ob-xd":"DiscoDSP OB-Xd",ms20:"Korg MS-20"};function St(e,t,n){const a=parseFloat(e);return Number.isFinite(a)?Math.min(Math.max(a,t),n):t}async function $5(e){const t="AIzaSyCxOuxalv_PC6h6aE8JvEjLMK8ie8C9Nts";let n=null;try{const G=(e.synth||"Generic").replace(/\s+/g,"").replace(/-/g,"").replace(/\./g,"").toLowerCase();let ne=Y5[G]||e.synth||"Generic Synth";if(n=_a[ne]||_a.Generic||_a["Generic Synth"],n||(_a["Generic Synth"]?n=_a["Generic Synth"]:_a.Generic&&(n=_a.Generic)),!n)throw new Error(`Could not load synth config for requested synth (${e.synth}) or generic fallback. Checked keys: ${ne}, Generic, Generic Synth`)}catch(G){throw console.error("Failed to load synth config:",G),new Error("Could not load synth config for requested synth or generic fallback.")}Array.isArray(n.oscillators)||(n.oscillators=[]),Array.isArray(n.filters)||(n.filters=[]),Array.isArray(n.effects)||(n.effects=[]),Array.isArray(n.modSources)||(n.modSources=[]),Array.isArray(n.modDestinations)||(n.modDestinations=[]);const a=`
You are an expert sound designer. Given the following user inputs and synth configuration, return a JSON object with:
- text (string): A concise, genre- and voice-type-specific patch description.
- oscillators (array): For each oscillator in the synthConfig.oscillators array, return an object with 'name' and 'values', where 'values' is an object mapping each param in the 'params' array to a musically appropriate value. Use the exact param names from the synthConfig. Always include 13 oscillators with different waveforms, and where appropriate, include a sub oscillator and a noise generator if available in the synthConfig. Set musically useful values for coarse and fine tuning (e.g., Coarse: -12 to +12, Fine: -0.5 to +0.5), and Level (main oscillators: 0.71, sub/noise: 0.30.7). Do not set Level to 0. Do not leave any value blank or generic.
- filter (object): Select ONE filter type from the synth config (from filter.types), and provide cutoff, resonance, and slope values, all musically appropriate for the patch. Do NOT leave any value blank or generic.
- adsrVCF (object): Envelope settings for the filter, tailored to the patch style.
- adsrVCA (object): Envelope settings for the amp, tailored to the patch style.
- knobs (object): All knob values (Cutoff, Resonance, Drive, Mix, Reverb, DelayTime, DelayFB, ChorusDepth, ChorusRate, MasterTune) between 0.0 and 1.0, set to musically useful defaults for the genre and description. Include these for knob visuals.
- envelopes (object): Provide envelope data for visuals (labels, values) for both VCF and VCA envelopes.
- effects (array): List ONLY the 13 most musically relevant effects for this patch. For each effect, use only effects that exist in the synthConfig.effects array. For each effect, provide an object with the effect name and a value for EVERY parameter listed in that effect's 'parameters' array in synthConfig. Do NOT use generic or default settings. For time-based parameters (such as 'Time' or 'Delay Time'), if the effect is synced to the global BPM, use a note value (e.g., '1/4 note', '1/8 dotted'). If not synced, use a value in Hz or ms as appropriate. All effect parameters must be contextually filled and musically appropriate for the patch and synth.
- modMatrix (array): If the synth supports modulation (has modSources and modDestinations), return 25 musically relevant routings, using only valid sources (from modSources), targets/params (from modDestinations), and parameter names from the synthConfig. Each routing must be an object with source, target, parameter, amount, lfoWaveform (if LFO is used), lfoRate, lfoDepth, lfoFrequency. If suggesting to apply an LFO to a target parameter, always specify the lfoWaveform, lfoRate (in Hz), lfoDepth (01), and lfoFrequency (in Hz) with musically appropriate values. Do NOT include lfoShape. Do NOT list every possible combination. Each routing should be justified by the genre, voice type, or description, and parameter names/values should match the synthConfig and the style of the creative tips section.
IMPORTANT: If the synth has one or more LFOs in modSources, you MUST include at least one musically relevant LFO-based modulation routing in the modMatrix, with a specific target parameter (such as filter cutoff, oscillator pitch, or amplitude), and provide musically useful values for all LFO-related fields. Do NOT leave the modMatrix empty for synths with LFOs.
- summary (string): A robust, actionable, and inspiring list of 57 creative tips and considerations for this patch, as a newline-separated bullet list (not a paragraph). Each tip should be musically relevant, detailed, and practical for a producer. Include specific advice for performance, modulation, automation, genre conventions, sound design tricks, and how to further tweak the patch for creative results. If you have any LFO or modulation suggestions that would otherwise be in the mod matrix, include them as tips here as well. Do NOT include a generic summary paragraphreturn only a bullet list of tips. Always provide this field.

Synth Configuration:
${JSON.stringify(n,null,2)}

User Inputs:
- Voice Type: ${e.voiceType||"None"}
- Descriptor: ${e.descriptor||"None"}
- Genre: ${e.genre||"None"}
- Synth: ${e.synth}
- Era: ${e.era||"None"}
- Concept: ${e.concept||"None"}
- Character/Mood: ${e.description||"None"}
- Notes: ${e.notes||"None"}

Return JSON only. Do NOT include markdown or explanations. All fields must be present and filled with contextually relevant values. Do NOT list all possible routings or effectsonly those that are musically relevant for the patch described. Do NOT include a synthConfig field in your response.`,u=((await new ib({apiKey:t}).models.generateContent({model:Ha,contents:a})).text||"").trim(),f=u.match(/```(?:json)?\s*([\s\S]*?)```/i),m=f?f[1].trim():u;let d;try{d=JSON.parse(m)}catch(G){throw new Error("Invalid JSON from AI: "+G.message+`
Raw output: `+u.slice(0,300))}const{text:h="",waveform:y="",oscSettings:T={},adsrVCF:S={},adsrVCA:E={},knobs:k={}}=d,I=["Cutoff","Resonance","Drive","Mix","Reverb","DelayTime","DelayFB","ChorusDepth","ChorusRate","MasterTune"],N={};I.forEach(G=>{N[G]=St(k[G],0,1)});const V={o1Oct:St(T.o1Oct,-4,4),o2Oct:St(T.o2Oct,-4,4),o3Oct:St(T.o3Oct,-4,4),o1Coarse:St(T.o1Coarse,-12,12),o2Coarse:St(T.o2Coarse,-12,12),o3Coarse:St(T.o3Coarse,-12,12),o1Fine:St(T.o1Fine,-1,1),o2Fine:St(T.o2Fine,-1,1),o3Fine:St(T.o3Fine,-1,1)};function P(G="VCA"){const ne=(e.genre||"").toLowerCase(),te=(e.voiceType||"").toLowerCase();return te.includes("lead")||ne.includes("lead")||ne.includes("pluck")?G==="VCF"?{attack:.01,decay:.12,sustain:.5,release:.15}:{attack:.01,decay:.15,sustain:.7,release:.2}:te.includes("pad")||ne.includes("pad")||ne.includes("ambient")?G==="VCF"?{attack:.7,decay:1.5,sustain:.7,release:2}:{attack:1,decay:2,sustain:.8,release:2.5}:te.includes("bass")||ne.includes("bass")?G==="VCF"?{attack:.01,decay:.1,sustain:.4,release:.1}:{attack:.02,decay:.18,sustain:.6,release:.15}:G==="VCF"?{attack:.1,decay:.4,sustain:.7,release:.8}:{attack:.1,decay:.5,sustain:.8,release:1}}function $(G){return typeof G.attack=="number"&&G.attack>0&&typeof G.decay=="number"&&G.decay>0&&typeof G.sustain=="number"&&G.sustain>=0&&G.sustain<=1&&typeof G.release=="number"&&G.release>0}let K={attack:St(S.attack,0,10),decay:St(S.decay,0,10),sustain:St(S.sustain,0,1),release:St(S.release,0,10)},q={attack:St(E.attack,0,10),decay:St(E.decay,0,10),sustain:St(E.sustain,0,1),release:St(E.release,0,10)};$(K)||(K=P("VCF")),$(q)||(q=P("VCA")),Array.isArray(d.oscillators)&&d.oscillators.length>0?n.oscillators=n.oscillators.map((G,ne)=>{const te=d.oscillators[ne]||{},re={};return Array.isArray(G.params)&&G.params.forEach(B=>{if(B==="Coarse"){let F=te.values&&te.values[B];(typeof F!="number"||F<-24||F>24)&&(F=0),re[B]=F}else if(B==="Fine"){let F=te.values&&te.values[B];(typeof F!="number"||F<-1||F>1)&&(F=0),re[B]=F}else if(B==="Level"){let F=te.values&&te.values[B];(typeof F!="number"||F===0)&&(F=1),re[B]=F}else if(B==="Waveform"){let F=te.values&&te.values[B];(!F||typeof F!="string")&&(F="Saw"),re[B]=F}else re[B]=te.values&&te.values[B]!==void 0?te.values[B]:""}),{...G,values:re}}):n.oscillators&&n.oscillators.length>0&&d.oscSettings&&(n.oscillators=n.oscillators.map((G,ne)=>{const te={};return Array.isArray(G.params)&&G.params.forEach(re=>{const B=`o${ne+1}${re}`.replace(/\s+/g,"");let F=d.oscSettings[B];re==="Coarse"?(typeof F!="number"||F<-24||F>24)&&(F=0):re==="Fine"?(typeof F!="number"||F<-1||F>1)&&(F=0):re==="Level"?(typeof F!="number"||F===0)&&(F=1):re==="Waveform"&&(!F||typeof F!="string")&&(F="Saw"),F==null&&(F=""),te[re]=F}),{...G,values:te}}));function ce(){const G=(e.genre||"").toLowerCase(),ne=(e.voiceType||"").toLowerCase();return ne.includes("lead")||G.includes("lead")||G.includes("pluck")?{cutoff:.7,resonance:.18}:ne.includes("pad")||G.includes("pad")||G.includes("ambient")?{cutoff:.4,resonance:.35}:ne.includes("bass")||G.includes("bass")?{cutoff:.25,resonance:.28}:{cutoff:.5,resonance:.3}}(!d.filter||typeof d.filter!="object")&&(d.filter={});const ue=ce();d.filter.cutoff=St(d.filter.cutoff,0,1),(typeof d.filter.cutoff!="number"||isNaN(d.filter.cutoff))&&(d.filter.cutoff=ue.cutoff),d.filter.resonance=St(d.filter.resonance,0,1),(typeof d.filter.resonance!="number"||isNaN(d.filter.resonance))&&(d.filter.resonance=ue.resonance),d.filter.cutoffHz=Math.round(20+d.filter.cutoff*19980),Array.isArray(d.modMatrix)&&(d.modMatrix=d.modMatrix.filter(G=>!(G.source&&/env(el)?/i.test(G.source)&&G.target&&/filter/i.test(G.target)&&G.parameter&&/cutoff/i.test(G.parameter))).map(G=>(G.source&&/lfo/i.test(G.source)&&(typeof G.lfoRate!="number"&&(G.lfoRate=2),typeof G.lfoDepth!="number"&&(G.lfoDepth=.5),G.lfoWaveform||(G.lfoWaveform="Sine"),typeof G.lfoFrequency!="number"&&(G.lfoFrequency=2)),G))),n.effects&&n.effects.length>0&&Array.isArray(d.effects)&&(n.effects=d.effects.map(G=>{const ne=n.effects.find(B=>B.name===G.name);if(!ne||!Array.isArray(ne.parameters))return G;let te=[];typeof ne.parameters[0]=="object"?te=ne.parameters:typeof ne.parameters[0]=="string"&&(te=ne.parameters.map(B=>({name:B})));const re={};return te.forEach(B=>{re[B.name]=G[B.name]!==void 0?G[B.name]:""}),{...G,parameters:te,...re}})),["text","waveform","oscSettings","adsrVCF","adsrVCA","knobs","modMatrix","envelopes"].forEach(G=>{G in d||(G==="modMatrix"?d.modMatrix=[]:G==="envelopes"?d.envelopes={labels:[],values:[]}:G==="oscSettings"?d.oscSettings={}:G==="adsrVCF"||G==="adsrVCA"?d[G]={attack:.1,decay:.5,sustain:.8,release:1}:G==="knobs"?d.knobs={}:d[G]="")});const L=n||{};if(Array.isArray(L.modSources)&&L.modSources.some(G=>/lfo/i.test(G))&&Array.isArray(d.modMatrix)&&d.modMatrix.length===0){const G=L.modSources.find(te=>/lfo/i.test(te))||"LFO 1";let ne="Filter";Array.isArray(L.modDestinations)&&(ne=L.modDestinations.find(te=>/cutoff|filter/i.test(te))||ne),d.modMatrix.push({source:G,target:ne,parameter:"Cutoff",amount:.5,lfoWaveform:"Sine",lfoRate:2,lfoDepth:.5,lfoFrequency:2})}return(!d.summary||typeof d.summary!="string"||d.summary.trim().length<3)&&(d.summary=`- Try modulating the filter cutoff with a slow LFO for movement.
- Experiment with oscillator waveforms and detune for width.
- Use subtle effects like chorus or delay for space.`),{text:h,waveform:y,oscSettings:V,adsrVCF:K,adsrVCA:q,knobs:N,modMatrix:d.modMatrix,synthConfig:L,summary:d.summary,envelopes:d.envelopes}}const bT=fe.createContext({});function K5(e){const t=fe.useRef(null);return t.current===null&&(t.current=e()),t.current}const Qm=typeof window<"u",X5=Qm?fe.useLayoutEffect:fe.useEffect,Jm=fe.createContext(null);function Zm(e,t){e.indexOf(t)===-1&&e.push(t)}function eh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ci=(e,t,n)=>n>t?t:n<e?e:n;let th=()=>{};const Ai={},TT=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function ST(e){return typeof e=="object"&&e!==null}const CT=e=>/^0[^.\s]+$/u.test(e);function nh(e){let t;return()=>(t===void 0&&(t=e()),t)}const Bn=e=>e,W5=(e,t)=>n=>t(e(n)),Is=(...e)=>e.reduce(W5),bs=(e,t,n)=>{const a=t-e;return a===0?1:(n-e)/a};class ih{constructor(){this.subscriptions=[]}add(t){return Zm(this.subscriptions,t),()=>eh(this.subscriptions,t)}notify(t,n,a){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,a);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(t,n,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ei=e=>e*1e3,ti=e=>e/1e3;function AT(e,t){return t?e*(1e3/t):0}const ET=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Q5=1e-7,J5=12;function Z5(e,t,n,a,o){let l,u,f=0;do u=t+(n-t)/2,l=ET(u,a,o)-e,l>0?n=u:t=u;while(Math.abs(l)>Q5&&++f<J5);return u}function _s(e,t,n,a){if(e===t&&n===a)return Bn;const o=l=>Z5(l,0,1,e,n);return l=>l===0||l===1?l:ET(o(l),t,a)}const MT=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,wT=e=>t=>1-e(1-t),DT=_s(.33,1.53,.69,.99),ah=wT(DT),kT=MT(ah),NT=e=>(e*=2)<1?.5*ah(e):.5*(2-Math.pow(2,-10*(e-1))),rh=e=>1-Math.sin(Math.acos(e)),RT=wT(rh),IT=MT(rh),e4=_s(.42,0,1,1),t4=_s(0,0,.58,1),_T=_s(.42,0,.58,1),n4=e=>Array.isArray(e)&&typeof e[0]!="number",LT=e=>Array.isArray(e)&&typeof e[0]=="number",i4={linear:Bn,easeIn:e4,easeInOut:_T,easeOut:t4,circIn:rh,circInOut:IT,circOut:RT,backIn:ah,backInOut:kT,backOut:DT,anticipate:NT},a4=e=>typeof e=="string",Ev=e=>{if(LT(e)){th(e.length===4);const[t,n,a,o]=e;return _s(t,n,a,o)}else if(a4(e))return i4[e];return e},au=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Mv={value:null};function r4(e,t){let n=new Set,a=new Set,o=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},m=0;function d(y){u.has(y)&&(h.schedule(y),e()),m++,y(f)}const h={schedule:(y,T=!1,S=!1)=>{const k=S&&o?n:a;return T&&u.add(y),k.has(y)||k.add(y),y},cancel:y=>{a.delete(y),u.delete(y)},process:y=>{if(f=y,o){l=!0;return}o=!0,[n,a]=[a,n],n.forEach(d),t&&Mv.value&&Mv.value.frameloop[t].push(m),m=0,n.clear(),o=!1,l&&(l=!1,h.process(y))}};return h}const o4=40;function PT(e,t){let n=!1,a=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=au.reduce((P,$)=>(P[$]=r4(l,t?$:void 0),P),{}),{setup:f,read:m,resolveKeyframes:d,preUpdate:h,update:y,preRender:T,render:S,postRender:E}=u,k=()=>{const P=Ai.useManualTiming?o.timestamp:performance.now();n=!1,Ai.useManualTiming||(o.delta=a?1e3/60:Math.max(Math.min(P-o.timestamp,o4),1)),o.timestamp=P,o.isProcessing=!0,f.process(o),m.process(o),d.process(o),h.process(o),y.process(o),T.process(o),S.process(o),E.process(o),o.isProcessing=!1,n&&t&&(a=!1,e(k))},I=()=>{n=!0,a=!0,o.isProcessing||e(k)};return{schedule:au.reduce((P,$)=>{const K=u[$];return P[$]=(q,ce=!1,ue=!1)=>(n||I(),K.schedule(q,ce,ue)),P},{}),cancel:P=>{for(let $=0;$<au.length;$++)u[au[$]].cancel(P)},state:o,steps:u}}const{schedule:ct,cancel:ia,state:Ot,steps:wd}=PT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bn,!0);let pu;function s4(){pu=void 0}const sn={now:()=>(pu===void 0&&sn.set(Ot.isProcessing||Ai.useManualTiming?Ot.timestamp:performance.now()),pu),set:e=>{pu=e,queueMicrotask(s4)}},OT=e=>t=>typeof t=="string"&&t.startsWith(e),oh=OT("--"),l4=OT("var(--"),sh=e=>l4(e)?u4.test(e.split("/*")[0].trim()):!1,u4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Kr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ts={...Kr,transform:e=>Ci(0,1,e)},ru={...Kr,default:1},fs=e=>Math.round(e*1e5)/1e5,lh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function c4(e){return e==null}const f4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uh=(e,t)=>n=>!!(typeof n=="string"&&f4.test(n)&&n.startsWith(e)||t&&!c4(n)&&Object.prototype.hasOwnProperty.call(n,t)),BT=(e,t,n)=>a=>{if(typeof a!="string")return a;const[o,l,u,f]=a.match(lh);return{[e]:parseFloat(o),[t]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},d4=e=>Ci(0,255,e),Dd={...Kr,transform:e=>Math.round(d4(e))},Ba={test:uh("rgb","red"),parse:BT("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:a=1})=>"rgba("+Dd.transform(e)+", "+Dd.transform(t)+", "+Dd.transform(n)+", "+fs(Ts.transform(a))+")"};function m4(e){let t="",n="",a="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),a=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),a=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,a+=a,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:o?parseInt(o,16)/255:1}}const um={test:uh("#"),parse:m4,transform:Ba.transform},Ls=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Zi=Ls("deg"),ni=Ls("%"),De=Ls("px"),h4=Ls("vh"),p4=Ls("vw"),wv={...ni,parse:e=>ni.parse(e)/100,transform:e=>ni.transform(e*100)},Pr={test:uh("hsl","hue"),parse:BT("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:a=1})=>"hsla("+Math.round(e)+", "+ni.transform(fs(t))+", "+ni.transform(fs(n))+", "+fs(Ts.transform(a))+")"},At={test:e=>Ba.test(e)||um.test(e)||Pr.test(e),parse:e=>Ba.test(e)?Ba.parse(e):Pr.test(e)?Pr.parse(e):um.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ba.transform(e):Pr.transform(e),getAnimatableNone:e=>{const t=At.parse(e);return t.alpha=0,At.transform(t)}},g4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function y4(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(lh))==null?void 0:t.length)||0)+(((n=e.match(g4))==null?void 0:n.length)||0)>0}const FT="number",VT="color",x4="var",v4="var(",Dv="${}",b4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ss(e){const t=e.toString(),n=[],a={color:[],number:[],var:[]},o=[];let l=0;const f=t.replace(b4,m=>(At.test(m)?(a.color.push(l),o.push(VT),n.push(At.parse(m))):m.startsWith(v4)?(a.var.push(l),o.push(x4),n.push(m)):(a.number.push(l),o.push(FT),n.push(parseFloat(m))),++l,Dv)).split(Dv);return{values:n,split:f,indexes:a,types:o}}function jT(e){return Ss(e).values}function zT(e){const{split:t,types:n}=Ss(e),a=t.length;return o=>{let l="";for(let u=0;u<a;u++)if(l+=t[u],o[u]!==void 0){const f=n[u];f===FT?l+=fs(o[u]):f===VT?l+=At.transform(o[u]):l+=o[u]}return l}}const T4=e=>typeof e=="number"?0:At.test(e)?At.getAnimatableNone(e):e;function S4(e){const t=jT(e);return zT(e)(t.map(T4))}const aa={test:y4,parse:jT,createTransformer:zT,getAnimatableNone:S4};function kd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function C4({hue:e,saturation:t,lightness:n,alpha:a}){e/=360,t/=100,n/=100;let o=0,l=0,u=0;if(!t)o=l=u=n;else{const f=n<.5?n*(1+t):n+t-n*t,m=2*n-f;o=kd(m,f,e+1/3),l=kd(m,f,e),u=kd(m,f,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:a}}function ku(e,t){return n=>n>0?t:e}const ut=(e,t,n)=>e+(t-e)*n,Nd=(e,t,n)=>{const a=e*e,o=n*(t*t-a)+a;return o<0?0:Math.sqrt(o)},A4=[um,Ba,Pr],E4=e=>A4.find(t=>t.test(e));function kv(e){const t=E4(e);if(!t)return!1;let n=t.parse(e);return t===Pr&&(n=C4(n)),n}const Nv=(e,t)=>{const n=kv(e),a=kv(t);if(!n||!a)return ku(e,t);const o={...n};return l=>(o.red=Nd(n.red,a.red,l),o.green=Nd(n.green,a.green,l),o.blue=Nd(n.blue,a.blue,l),o.alpha=ut(n.alpha,a.alpha,l),Ba.transform(o))},cm=new Set(["none","hidden"]);function M4(e,t){return cm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function w4(e,t){return n=>ut(e,t,n)}function ch(e){return typeof e=="number"?w4:typeof e=="string"?sh(e)?ku:At.test(e)?Nv:N4:Array.isArray(e)?HT:typeof e=="object"?At.test(e)?Nv:D4:ku}function HT(e,t){const n=[...e],a=n.length,o=e.map((l,u)=>ch(l)(l,t[u]));return l=>{for(let u=0;u<a;u++)n[u]=o[u](l);return n}}function D4(e,t){const n={...e,...t},a={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(a[o]=ch(e[o])(e[o],t[o]));return o=>{for(const l in a)n[l]=a[l](o);return n}}function k4(e,t){const n=[],a={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],u=e.indexes[l][a[l]],f=e.values[u]??0;n[o]=f,a[l]++}return n}const N4=(e,t)=>{const n=aa.createTransformer(t),a=Ss(e),o=Ss(t);return a.indexes.var.length===o.indexes.var.length&&a.indexes.color.length===o.indexes.color.length&&a.indexes.number.length>=o.indexes.number.length?cm.has(e)&&!o.values.length||cm.has(t)&&!a.values.length?M4(e,t):Is(HT(k4(a,o),o.values),n):ku(e,t)};function UT(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ut(e,t,n):ch(e)(e,t)}const R4=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ct.update(t,n),stop:()=>ia(t),now:()=>Ot.isProcessing?Ot.timestamp:sn.now()}},qT=(e,t,n=10)=>{let a="";const o=Math.max(Math.round(t/n),2);for(let l=0;l<o;l++)a+=Math.round(e(l/(o-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Nu=2e4;function fh(e){let t=0;const n=50;let a=e.next(t);for(;!a.done&&t<Nu;)t+=n,a=e.next(t);return t>=Nu?1/0:t}function I4(e,t=100,n){const a=n({...e,keyframes:[0,t]}),o=Math.min(fh(a),Nu);return{type:"keyframes",ease:l=>a.next(o*l).value/t,duration:ti(o)}}const _4=5;function GT(e,t,n){const a=Math.max(t-_4,0);return AT(n-e(a),t-a)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rd=.001;function L4({duration:e=mt.duration,bounce:t=mt.bounce,velocity:n=mt.velocity,mass:a=mt.mass}){let o,l,u=1-t;u=Ci(mt.minDamping,mt.maxDamping,u),e=Ci(mt.minDuration,mt.maxDuration,ti(e)),u<1?(o=d=>{const h=d*u,y=h*e,T=h-n,S=fm(d,u),E=Math.exp(-y);return Rd-T/S*E},l=d=>{const y=d*u*e,T=y*n+n,S=Math.pow(u,2)*Math.pow(d,2)*e,E=Math.exp(-y),k=fm(Math.pow(d,2),u);return(-o(d)+Rd>0?-1:1)*((T-S)*E)/k}):(o=d=>{const h=Math.exp(-d*e),y=(d-n)*e+1;return-Rd+h*y},l=d=>{const h=Math.exp(-d*e),y=(n-d)*(e*e);return h*y});const f=5/e,m=O4(o,l,f);if(e=ei(e),isNaN(m))return{stiffness:mt.stiffness,damping:mt.damping,duration:e};{const d=Math.pow(m,2)*a;return{stiffness:d,damping:u*2*Math.sqrt(a*d),duration:e}}}const P4=12;function O4(e,t,n){let a=n;for(let o=1;o<P4;o++)a=a-e(a)/t(a);return a}function fm(e,t){return e*Math.sqrt(1-t*t)}const B4=["duration","bounce"],F4=["stiffness","damping","mass"];function Rv(e,t){return t.some(n=>e[n]!==void 0)}function V4(e){let t={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...e};if(!Rv(e,F4)&&Rv(e,B4))if(e.visualDuration){const n=e.visualDuration,a=2*Math.PI/(n*1.2),o=a*a,l=2*Ci(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:mt.mass,stiffness:o,damping:l}}else{const n=L4(e);t={...t,...n,mass:mt.mass},t.isResolvedFromDuration=!0}return t}function Ru(e=mt.visualDuration,t=mt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:d,mass:h,duration:y,velocity:T,isResolvedFromDuration:S}=V4({...n,velocity:-ti(n.velocity||0)}),E=T||0,k=d/(2*Math.sqrt(m*h)),I=u-l,N=ti(Math.sqrt(m/h)),V=Math.abs(I)<5;a||(a=V?mt.restSpeed.granular:mt.restSpeed.default),o||(o=V?mt.restDelta.granular:mt.restDelta.default);let P;if(k<1){const K=fm(N,k);P=q=>{const ce=Math.exp(-k*N*q);return u-ce*((E+k*N*I)/K*Math.sin(K*q)+I*Math.cos(K*q))}}else if(k===1)P=K=>u-Math.exp(-N*K)*(I+(E+N*I)*K);else{const K=N*Math.sqrt(k*k-1);P=q=>{const ce=Math.exp(-k*N*q),ue=Math.min(K*q,300);return u-ce*((E+k*N*I)*Math.sinh(ue)+K*I*Math.cosh(ue))/K}}const $={calculatedDuration:S&&y||null,next:K=>{const q=P(K);if(S)f.done=K>=y;else{let ce=K===0?E:0;k<1&&(ce=K===0?ei(E):GT(P,K,q));const ue=Math.abs(ce)<=a,pe=Math.abs(u-q)<=o;f.done=ue&&pe}return f.value=f.done?u:q,f},toString:()=>{const K=Math.min(fh($),Nu),q=qT(ce=>$.next(K*ce).value,K,30);return K+"ms "+q},toTransition:()=>{}};return $}Ru.applyToOptions=e=>{const t=I4(e,100,Ru);return e.ease=t.ease,e.duration=ei(t.duration),e.type="keyframes",e};function dm({keyframes:e,velocity:t=0,power:n=.8,timeConstant:a=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:d=.5,restSpeed:h}){const y=e[0],T={done:!1,value:y},S=ue=>f!==void 0&&ue<f||m!==void 0&&ue>m,E=ue=>f===void 0?m:m===void 0||Math.abs(f-ue)<Math.abs(m-ue)?f:m;let k=n*t;const I=y+k,N=u===void 0?I:u(I);N!==I&&(k=N-y);const V=ue=>-k*Math.exp(-ue/a),P=ue=>N+V(ue),$=ue=>{const pe=V(ue),L=P(ue);T.done=Math.abs(pe)<=d,T.value=T.done?N:L};let K,q;const ce=ue=>{S(T.value)&&(K=ue,q=Ru({keyframes:[T.value,E(T.value)],velocity:GT(P,ue,T.value),damping:o,stiffness:l,restDelta:d,restSpeed:h}))};return ce(0),{calculatedDuration:null,next:ue=>{let pe=!1;return!q&&K===void 0&&(pe=!0,$(ue),ce(ue)),K!==void 0&&ue>=K?q.next(ue-K):(!pe&&$(ue),T)}}}function j4(e,t,n){const a=[],o=n||Ai.mix||UT,l=e.length-1;for(let u=0;u<l;u++){let f=o(e[u],e[u+1]);if(t){const m=Array.isArray(t)?t[u]||Bn:t;f=Is(m,f)}a.push(f)}return a}function z4(e,t,{clamp:n=!0,ease:a,mixer:o}={}){const l=e.length;if(th(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=j4(t,a,o),m=f.length,d=h=>{if(u&&h<e[0])return t[0];let y=0;if(m>1)for(;y<e.length-2&&!(h<e[y+1]);y++);const T=bs(e[y],e[y+1],h);return f[y](T)};return n?h=>d(Ci(e[0],e[l-1],h)):d}function H4(e,t){const n=e[e.length-1];for(let a=1;a<=t;a++){const o=bs(0,t,a);e.push(ut(n,1,o))}}function U4(e){const t=[0];return H4(t,e.length-1),t}function q4(e,t){return e.map(n=>n*t)}function G4(e,t){return e.map(()=>t||_T).splice(0,e.length-1)}function ds({duration:e=300,keyframes:t,times:n,ease:a="easeInOut"}){const o=n4(a)?a.map(Ev):Ev(a),l={done:!1,value:t[0]},u=q4(n&&n.length===t.length?n:U4(t),e),f=z4(u,t,{ease:Array.isArray(o)?o:G4(t,o)});return{calculatedDuration:e,next:m=>(l.value=f(m),l.done=m>=e,l)}}const Y4=e=>e!==null;function dh(e,{repeat:t,repeatType:n="loop"},a,o=1){const l=e.filter(Y4),f=o<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!f||a===void 0?l[f]:a}const $4={decay:dm,inertia:dm,tween:ds,keyframes:ds,spring:Ru};function YT(e){typeof e.type=="string"&&(e.type=$4[e.type])}class mh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const K4=e=>e/100;class hh extends mh{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,o;const{motionValue:n}=this.options;n&&n.updatedAt!==sn.now()&&this.tick(sn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(a=this.options).onStop)==null||o.call(a))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;YT(t);const{type:n=ds,repeat:a=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=t;let{keyframes:f}=t;const m=n||ds;m!==ds&&typeof f[0]!="number"&&(this.mixKeyframes=Is(K4,UT(f[0],f[1])),f=[0,100]);const d=m({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-u})),d.calculatedDuration===null&&(d.calculatedDuration=fh(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+o,this.totalDuration=this.resolvedDuration*(a+1)-o,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:a,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return a.next(0);const{delay:d=0,keyframes:h,repeat:y,repeatType:T,repeatDelay:S,type:E,onUpdate:k,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const N=this.currentTime-d*(this.playbackSpeed>=0?1:-1),V=this.playbackSpeed>=0?N<0:N>o;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let P=this.currentTime,$=a;if(y){const ue=Math.min(this.currentTime,o)/f;let pe=Math.floor(ue),L=ue%1;!L&&ue>=1&&(L=1),L===1&&pe--,pe=Math.min(pe,y+1),!!(pe%2)&&(T==="reverse"?(L=1-L,S&&(L-=S/f)):T==="mirror"&&($=u)),P=Ci(0,1,L)*f}const K=V?{done:!1,value:h[0]}:$.next(P);l&&(K.value=l(K.value));let{done:q}=K;!V&&m!==null&&(q=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const ce=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return ce&&E!==dm&&(K.value=dh(h,this.options,I,this.speed)),k&&k(K.value),ce&&this.finish(),K}then(t,n){return this.finished.then(t,n)}get duration(){return ti(this.calculatedDuration)}get time(){return ti(this.currentTime)}set time(t){var n;t=ei(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(sn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ti(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:t=R4,startTime:n}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),(l=(o=this.options).onPlay)==null||l.call(o);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=n??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function X4(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Fa=e=>e*180/Math.PI,mm=e=>{const t=Fa(Math.atan2(e[1],e[0]));return hm(t)},W4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:mm,rotateZ:mm,skewX:e=>Fa(Math.atan(e[1])),skewY:e=>Fa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},hm=e=>(e=e%360,e<0&&(e+=360),e),Iv=mm,_v=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Lv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Q4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:_v,scaleY:Lv,scale:e=>(_v(e)+Lv(e))/2,rotateX:e=>hm(Fa(Math.atan2(e[6],e[5]))),rotateY:e=>hm(Fa(Math.atan2(-e[2],e[0]))),rotateZ:Iv,rotate:Iv,skewX:e=>Fa(Math.atan(e[4])),skewY:e=>Fa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function pm(e){return e.includes("scale")?1:0}function gm(e,t){if(!e||e==="none")return pm(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,o;if(n)a=Q4,o=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=W4,o=f}if(!o)return pm(t);const l=a[t],u=o[1].split(",").map(Z4);return typeof l=="function"?l(u):u[l]}const J4=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return gm(n,t)};function Z4(e){return parseFloat(e.trim())}const Xr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wr=new Set(Xr),Pv=e=>e===Kr||e===De,e3=new Set(["x","y","z"]),t3=Xr.filter(e=>!e3.has(e));function n3(e){const t=[];return t3.forEach(n=>{const a=e.getValue(n);a!==void 0&&(t.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),t}const Va={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>gm(t,"x"),y:(e,{transform:t})=>gm(t,"y")};Va.translateX=Va.x;Va.translateY=Va.y;const ja=new Set;let ym=!1,xm=!1,vm=!1;function $T(){if(xm){const e=Array.from(ja).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),n=new Map;t.forEach(a=>{const o=n3(a);o.length&&(n.set(a,o),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const o=n.get(a);o&&o.forEach(([l,u])=>{var f;(f=a.getValue(l))==null||f.set(u)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}xm=!1,ym=!1,ja.forEach(e=>e.complete(vm)),ja.clear()}function KT(){ja.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(xm=!0)})}function i3(){vm=!0,KT(),$T(),vm=!1}class ph{constructor(t,n,a,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=a,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(ja.add(this),ym||(ym=!0,ct.read(KT),ct.resolveKeyframes($T))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:a,motionValue:o}=this;if(t[0]===null){const l=o==null?void 0:o.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(a&&n){const f=a.readValue(n,u);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=u),o&&l===void 0&&o.set(t[0])}X4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ja.delete(this)}cancel(){this.state==="scheduled"&&(ja.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const a3=e=>e.startsWith("--");function r3(e,t,n){a3(t)?e.style.setProperty(t,n):e.style[t]=n}const o3=nh(()=>window.ScrollTimeline!==void 0),s3={};function l3(e,t){const n=nh(e);return()=>s3[t]??n()}const XT=l3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),os=([e,t,n,a])=>`cubic-bezier(${e}, ${t}, ${n}, ${a})`,Ov={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:os([0,.65,.55,1]),circOut:os([.55,0,1,.45]),backIn:os([.31,.01,.66,-.59]),backOut:os([.33,1.53,.69,.99])};function WT(e,t){if(e)return typeof e=="function"?XT()?qT(e,t):"ease-out":LT(e)?os(e):Array.isArray(e)?e.map(n=>WT(n,t)||Ov.easeOut):Ov[e]}function u3(e,t,n,{delay:a=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},d=void 0){const h={[t]:n};m&&(h.offset=m);const y=WT(f,o);Array.isArray(y)&&(h.easing=y);const T={delay:a,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return d&&(T.pseudoElement=d),e.animate(h,T)}function QT(e){return typeof e=="function"&&"applyToOptions"in e}function c3({type:e,...t}){return QT(e)&&XT()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class f3 extends mh{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:a,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,th(typeof t.type!="string");const d=c3(t);this.animation=u3(n,a,o,d,l),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const h=dh(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(h):r3(n,a,h),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,a;const t=((a=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:a.call(n).duration)||0;return ti(Number(t))}get time(){return ti(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ei(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&o3()?(this.animation.timeline=t,Bn):n(this)}}const JT={anticipate:NT,backInOut:kT,circInOut:IT};function d3(e){return e in JT}function m3(e){typeof e.ease=="string"&&d3(e.ease)&&(e.ease=JT[e.ease])}const Bv=10;class h3 extends f3{constructor(t){m3(t),YT(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:a,onComplete:o,element:l,...u}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new hh({...u,autoplay:!1}),m=ei(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-Bv).value,f.sample(m).value,Bv),f.stop()}}const Fv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(aa.test(e)||e==="0")&&!e.startsWith("url("));function p3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function g3(e,t,n,a){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],u=Fv(o,t),f=Fv(l,t);return!u||!f?!1:p3(e)||(n==="spring"||QT(n))&&a}function ZT(e){return ST(e)&&"offsetHeight"in e}const y3=new Set(["opacity","clipPath","filter","transform"]),x3=nh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function v3(e){var d;const{motionValue:t,name:n,repeatDelay:a,repeatType:o,damping:l,type:u}=e;if(!ZT((d=t==null?void 0:t.owner)==null?void 0:d.current))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return x3()&&n&&y3.has(n)&&(n!=="transform"||!m)&&!f&&!a&&o!=="mirror"&&l!==0&&u!=="inertia"}const b3=40;class T3 extends mh{constructor({autoplay:t=!0,delay:n=0,type:a="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:d,element:h,...y}){var E;super(),this.stop=()=>{var k,I;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=sn.now();const T={autoplay:t,delay:n,type:a,repeat:o,repeatDelay:l,repeatType:u,name:m,motionValue:d,element:h,...y},S=(h==null?void 0:h.KeyframeResolver)||ph;this.keyframeResolver=new S(f,(k,I,N)=>this.onKeyframesResolved(k,I,T,!N),m,d,h),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(t,n,a,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:d,onUpdate:h}=a;this.resolvedAt=sn.now(),g3(t,l,u,f)||((Ai.instantAnimations||!m)&&(h==null||h(dh(t,a,n))),t[0]=t[t.length-1],a.duration=0,a.repeat=0);const T={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>b3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...a,keyframes:t},S=!d&&v3(T)?new h3({...T,element:T.motionValue.owner.current}):new hh(T);S.finished.then(()=>this.notifyFinished()).catch(Bn),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),i3()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const S3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function C3(e){const t=S3.exec(e);if(!t)return[,];const[,n,a,o]=t;return[`--${n??a}`,o]}function eS(e,t,n=1){const[a,o]=C3(e);if(!a)return;const l=window.getComputedStyle(t).getPropertyValue(a);if(l){const u=l.trim();return TT(u)?parseFloat(u):u}return sh(o)?eS(o,t,n+1):o}function gh(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const tS=new Set(["width","height","top","left","right","bottom",...Xr]),A3={test:e=>e==="auto",parse:e=>e},nS=e=>t=>t.test(e),iS=[Kr,De,ni,Zi,p4,h4,A3],Vv=e=>iS.find(nS(e));function E3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||CT(e):!0}const M3=new Set(["brightness","contrast","saturate","opacity"]);function w3(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=n.match(lh)||[];if(!a)return e;const o=n.replace(a,"");let l=M3.has(t)?1:0;return a!==n&&(l*=100),t+"("+l+o+")"}const D3=/\b([a-z-]*)\(.*?\)/gu,bm={...aa,getAnimatableNone:e=>{const t=e.match(D3);return t?t.map(w3).join(" "):e}},jv={...Kr,transform:Math.round},k3={rotate:Zi,rotateX:Zi,rotateY:Zi,rotateZ:Zi,scale:ru,scaleX:ru,scaleY:ru,scaleZ:ru,skew:Zi,skewX:Zi,skewY:Zi,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:Ts,originX:wv,originY:wv,originZ:De},yh={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De,...k3,zIndex:jv,fillOpacity:Ts,strokeOpacity:Ts,numOctaves:jv},N3={...yh,color:At,backgroundColor:At,outlineColor:At,fill:At,stroke:At,borderColor:At,borderTopColor:At,borderRightColor:At,borderBottomColor:At,borderLeftColor:At,filter:bm,WebkitFilter:bm},aS=e=>N3[e];function rS(e,t){let n=aS(e);return n!==bm&&(n=aa),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const R3=new Set(["auto","none","0"]);function I3(e,t,n){let a=0,o;for(;a<e.length&&!o;){const l=e[a];typeof l=="string"&&!R3.has(l)&&Ss(l).values.length&&(o=e[a]),a++}if(o&&n)for(const l of t)e[l]=rS(n,o)}class _3 extends ph{constructor(t,n,a,o,l){super(t,n,a,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:a}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let d=t[m];if(typeof d=="string"&&(d=d.trim(),sh(d))){const h=eS(d,n.current);h!==void 0&&(t[m]=h),m===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!tS.has(a)||t.length!==2)return;const[o,l]=t,u=Vv(o),f=Vv(l);if(u!==f)if(Pv(u)&&Pv(f))for(let m=0;m<t.length;m++){const d=t[m];typeof d=="string"&&(t[m]=parseFloat(d))}else Va[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,a=[];for(let o=0;o<t.length;o++)(t[o]===null||E3(t[o]))&&a.push(o);a.length&&I3(t,a,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Va[a](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(a,o).jump(o,!1)}measureEndState(){var f;const{element:t,name:n,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=a.length-1,u=a[l];a[l]=Va[n](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,d])=>{t.getValue(m).set(d)}),this.resolveNoneKeyframes()}}function L3(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const o=(n==null?void 0:n[e])??a.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const oS=(e,t)=>t&&typeof e=="number"?t.transform(e):e,zv=30,P3=e=>!isNaN(parseFloat(e));class O3{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,o=!0)=>{var u,f;const l=sn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty();o&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=sn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=P3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ih);const a=this.events[t].add(n);return t==="change"?()=>{a(),ct.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,a){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>zv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zv);return AT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hr(e,t){return new O3(e,t)}const{schedule:xh}=PT(queueMicrotask,!1),Un={x:!1,y:!1};function sS(){return Un.x||Un.y}function B3(e){return e==="x"||e==="y"?Un[e]?null:(Un[e]=!0,()=>{Un[e]=!1}):Un.x||Un.y?null:(Un.x=Un.y=!0,()=>{Un.x=Un.y=!1})}function lS(e,t){const n=L3(e),a=new AbortController,o={passive:!0,...t,signal:a.signal};return[n,o,()=>a.abort()]}function Hv(e){return!(e.pointerType==="touch"||sS())}function F3(e,t,n={}){const[a,o,l]=lS(e,n),u=f=>{if(!Hv(f))return;const{target:m}=f,d=t(m,f);if(typeof d!="function"||!m)return;const h=y=>{Hv(y)&&(d(y),m.removeEventListener("pointerleave",h))};m.addEventListener("pointerleave",h,o)};return a.forEach(f=>{f.addEventListener("pointerenter",u,o)}),l}const uS=(e,t)=>t?e===t?!0:uS(e,t.parentElement):!1,vh=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,V3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function j3(e){return V3.has(e.tagName)||e.tabIndex!==-1}const gu=new WeakSet;function Uv(e){return t=>{t.key==="Enter"&&e(t)}}function Id(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const z3=(e,t)=>{const n=e.currentTarget;if(!n)return;const a=Uv(()=>{if(gu.has(n))return;Id(n,"down");const o=Uv(()=>{Id(n,"up")}),l=()=>Id(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",a,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",a),t)};function qv(e){return vh(e)&&!sS()}function H3(e,t,n={}){const[a,o,l]=lS(e,n),u=f=>{const m=f.currentTarget;if(!qv(f))return;gu.add(m);const d=t(m,f),h=(S,E)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",T),gu.has(m)&&gu.delete(m),qv(S)&&typeof d=="function"&&d(S,{success:E})},y=S=>{h(S,m===window||m===document||n.useGlobalTarget||uS(m,S.target))},T=S=>{h(S,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",T,o)};return a.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),ZT(f)&&(f.addEventListener("focus",d=>z3(d,o)),!j3(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function cS(e){return ST(e)&&"ownerSVGElement"in e}function U3(e){return cS(e)&&e.tagName==="svg"}const Yt=e=>!!(e&&e.getVelocity),q3=[...iS,At,aa],G3=e=>q3.find(nS(e)),fS=fe.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Y3(e=!0){const t=fe.useContext(Jm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:a,register:o}=t,l=fe.useId();fe.useEffect(()=>{if(e)return o(l)},[e]);const u=fe.useCallback(()=>e&&a&&a(l),[l,a,e]);return!n&&a?[!1,u]:[!0]}const dS=fe.createContext({strict:!1}),Gv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ur={};for(const e in Gv)Ur[e]={isEnabled:t=>Gv[e].some(n=>!!t[n])};function $3(e){for(const t in e)Ur[t]={...Ur[t],...e[t]}}const K3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Iu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||K3.has(e)}let mS=e=>!Iu(e);function X3(e){typeof e=="function"&&(mS=t=>t.startsWith("on")?!Iu(t):e(t))}try{X3(require("@emotion/is-prop-valid").default)}catch{}function W3(e,t,n){const a={};for(const o in e)o==="values"&&typeof e.values=="object"||(mS(o)||n===!0&&Iu(o)||!t&&!Iu(o)||e.draggable&&o.startsWith("onDrag"))&&(a[o]=e[o]);return a}function Q3(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...a)=>e(...a);return new Proxy(n,{get:(a,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}const Hu=fe.createContext({});function Uu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Cs(e){return typeof e=="string"||Array.isArray(e)}const bh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Th=["initial",...bh];function qu(e){return Uu(e.animate)||Th.some(t=>Cs(e[t]))}function hS(e){return!!(qu(e)||e.variants)}function J3(e,t){if(qu(e)){const{initial:n,animate:a}=e;return{initial:n===!1||Cs(n)?n:void 0,animate:Cs(a)?a:void 0}}return e.inherit!==!1?t:{}}function Z3(e){const{initial:t,animate:n}=J3(e,fe.useContext(Hu));return fe.useMemo(()=>({initial:t,animate:n}),[Yv(t),Yv(n)])}function Yv(e){return Array.isArray(e)?e.join(" "):e}const eO=Symbol.for("motionComponentSymbol");function Or(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function tO(e,t,n){return fe.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),n&&(typeof n=="function"?n(a):Or(n)&&(n.current=a))},[t])}const Sh=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nO="framerAppearId",pS="data-"+Sh(nO),gS=fe.createContext({});function iO(e,t,n,a,o){var k,I;const{visualElement:l}=fe.useContext(Hu),u=fe.useContext(dS),f=fe.useContext(Jm),m=fe.useContext(fS).reducedMotion,d=fe.useRef(null);a=a||u.renderer,!d.current&&a&&(d.current=a(e,{visualState:t,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const h=d.current,y=fe.useContext(gS);h&&!h.projection&&o&&(h.type==="html"||h.type==="svg")&&aO(d.current,n,o,y);const T=fe.useRef(!1);fe.useInsertionEffect(()=>{h&&T.current&&h.update(n,f)});const S=n[pS],E=fe.useRef(!!S&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,S))&&((I=window.MotionHasOptimisedAnimation)==null?void 0:I.call(window,S)));return X5(()=>{h&&(T.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),xh.render(h.render),E.current&&h.animationState&&h.animationState.animateChanges())}),fe.useEffect(()=>{h&&(!E.current&&h.animationState&&h.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,S)}),E.current=!1))}),h}function aO(e,t,n,a){const{layoutId:o,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:d,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:yS(e.parent)),e.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||f&&Or(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:a,crossfade:h,layoutScroll:m,layoutRoot:d})}function yS(e){if(e)return e.options.allowProjection!==!1?e.projection:yS(e.parent)}function rO({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:a,Component:o}){e&&$3(e);function l(f,m){let d;const h={...fe.useContext(fS),...f,layoutId:oO(f)},{isStatic:y}=h,T=Z3(f),S=a(f,y);if(!y&&Qm){sO();const E=lO(h);d=E.MeasureLayout,T.visualElement=iO(o,S,h,t,E.ProjectionNode)}return g.jsxs(Hu.Provider,{value:T,children:[d&&T.visualElement?g.jsx(d,{visualElement:T.visualElement,...h}):null,n(o,f,tO(S,T.visualElement,m),S,y,T.visualElement)]})}l.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const u=fe.forwardRef(l);return u[eO]=o,u}function oO({layoutId:e}){const t=fe.useContext(bT).id;return t&&e!==void 0?t+"-"+e:e}function sO(e,t){fe.useContext(dS).strict}function lO(e){const{drag:t,layout:n}=Ur;if(!t&&!n)return{};const a={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const As={};function uO(e){for(const t in e)As[t]=e[t],oh(t)&&(As[t].isCSSVariable=!0)}function xS(e,{layout:t,layoutId:n}){return Wr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!As[e]||e==="opacity")}const cO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fO=Xr.length;function dO(e,t,n){let a="",o=!0;for(let l=0;l<fO;l++){const u=Xr[l],f=e[u];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(u.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const d=oS(f,yh[u]);if(!m){o=!1;const h=cO[u]||u;a+=`${h}(${d}) `}n&&(t[u]=d)}}return a=a.trim(),n?a=n(t,o?"":a):o&&(a="none"),a}function Ch(e,t,n){const{style:a,vars:o,transformOrigin:l}=e;let u=!1,f=!1;for(const m in t){const d=t[m];if(Wr.has(m)){u=!0;continue}else if(oh(m)){o[m]=d;continue}else{const h=oS(d,yh[m]);m.startsWith("origin")?(f=!0,l[m]=h):a[m]=h}}if(t.transform||(u||n?a.transform=dO(t,e.transform,n):a.transform&&(a.transform="none")),f){const{originX:m="50%",originY:d="50%",originZ:h=0}=l;a.transformOrigin=`${m} ${d} ${h}`}}const Ah=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vS(e,t,n){for(const a in t)!Yt(t[a])&&!xS(a,n)&&(e[a]=t[a])}function mO({transformTemplate:e},t){return fe.useMemo(()=>{const n=Ah();return Ch(n,t,e),Object.assign({},n.vars,n.style)},[t])}function hO(e,t){const n=e.style||{},a={};return vS(a,n,e),Object.assign(a,mO(e,t)),a}function pO(e,t){const n={},a=hO(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const gO={offset:"stroke-dashoffset",array:"stroke-dasharray"},yO={offset:"strokeDashoffset",array:"strokeDasharray"};function xO(e,t,n=1,a=0,o=!0){e.pathLength=1;const l=o?gO:yO;e[l.offset]=De.transform(-a);const u=De.transform(t),f=De.transform(n);e[l.array]=`${u} ${f}`}function bS(e,{attrX:t,attrY:n,attrScale:a,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...f},m,d,h){if(Ch(e,f,d),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:T}=e;y.transform&&(T.transform=y.transform,delete y.transform),(T.transform||y.transformOrigin)&&(T.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),T.transform&&(T.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),n!==void 0&&(y.y=n),a!==void 0&&(y.scale=a),o!==void 0&&xO(y,o,l,u,!1)}const TS=()=>({...Ah(),attrs:{}}),SS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function vO(e,t,n,a){const o=fe.useMemo(()=>{const l=TS();return bS(l,t,SS(a),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};vS(l,e.style,e),o.style={...l,...o.style}}return o}const bO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Eh(e){return typeof e!="string"||e.includes("-")?!1:!!(bO.indexOf(e)>-1||/[A-Z]/u.test(e))}function TO(e=!1){return(n,a,o,{latestValues:l},u)=>{const m=(Eh(n)?vO:pO)(a,l,u,n),d=W3(a,typeof n=="string",e),h=n!==fe.Fragment?{...d,...m,ref:o}:{},{children:y}=a,T=fe.useMemo(()=>Yt(y)?y.get():y,[y]);return fe.createElement(n,{...h,children:T})}}function $v(e){const t=[{},{}];return e==null||e.values.forEach((n,a)=>{t[0][a]=n.get(),t[1][a]=n.getVelocity()}),t}function Mh(e,t,n,a){if(typeof t=="function"){const[o,l]=$v(a);t=t(n!==void 0?n:e.custom,o,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,l]=$v(a);t=t(n!==void 0?n:e.custom,o,l)}return t}function yu(e){return Yt(e)?e.get():e}function SO({scrapeMotionValuesFromProps:e,createRenderState:t},n,a,o){return{latestValues:CO(n,a,o,e),renderState:t()}}const CS=e=>(t,n)=>{const a=fe.useContext(Hu),o=fe.useContext(Jm),l=()=>SO(e,t,a,o);return n?l():K5(l)};function CO(e,t,n,a){const o={},l=a(e,{});for(const T in l)o[T]=yu(l[T]);let{initial:u,animate:f}=e;const m=qu(e),d=hS(e);t&&d&&!m&&e.inherit!==!1&&(u===void 0&&(u=t.initial),f===void 0&&(f=t.animate));let h=n?n.initial===!1:!1;h=h||u===!1;const y=h?f:u;if(y&&typeof y!="boolean"&&!Uu(y)){const T=Array.isArray(y)?y:[y];for(let S=0;S<T.length;S++){const E=Mh(e,T[S]);if(E){const{transitionEnd:k,transition:I,...N}=E;for(const V in N){let P=N[V];if(Array.isArray(P)){const $=h?P.length-1:0;P=P[$]}P!==null&&(o[V]=P)}for(const V in k)o[V]=k[V]}}}return o}function wh(e,t,n){var l;const{style:a}=e,o={};for(const u in a)(Yt(a[u])||t.style&&Yt(t.style[u])||xS(u,e)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(o[u]=a[u]);return o}const AO={useVisualState:CS({scrapeMotionValuesFromProps:wh,createRenderState:Ah})};function AS(e,t,n){const a=wh(e,t,n);for(const o in e)if(Yt(e[o])||Yt(t[o])){const l=Xr.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;a[l]=e[o]}return a}const EO={useVisualState:CS({scrapeMotionValuesFromProps:AS,createRenderState:TS})};function MO(e,t){return function(a,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...Eh(a)?EO:AO,preloadedFeatures:e,useRender:TO(o),createVisualElement:t,Component:a};return rO(u)}}function Es(e,t,n){const a=e.getProps();return Mh(a,t,n!==void 0?n:a.custom,e)}const Tm=e=>Array.isArray(e);function wO(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Hr(n))}function DO(e){return Tm(e)?e[e.length-1]||0:e}function kO(e,t){const n=Es(e,t);let{transitionEnd:a={},transition:o={},...l}=n||{};l={...l,...a};for(const u in l){const f=DO(l[u]);wO(e,u,f)}}function NO(e){return!!(Yt(e)&&e.add)}function Sm(e,t){const n=e.getValue("willChange");if(NO(n))return n.add(t);if(!n&&Ai.WillChange){const a=new Ai.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function ES(e){return e.props[pS]}const RO=e=>e!==null;function IO(e,{repeat:t,repeatType:n="loop"},a){const o=e.filter(RO),l=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[l]}const _O={type:"spring",stiffness:500,damping:25,restSpeed:10},LO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),PO={type:"keyframes",duration:.8},OO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BO=(e,{keyframes:t})=>t.length>2?PO:Wr.has(e)?e.startsWith("scale")?LO(t[1]):_O:OO;function FO({when:e,delay:t,delayChildren:n,staggerChildren:a,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:d,...h}){return!!Object.keys(h).length}const Dh=(e,t,n,a={},o,l)=>u=>{const f=gh(a,e)||{},m=f.delay||a.delay||0;let{elapsed:d=0}=a;d=d-ei(m);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-d,onUpdate:T=>{t.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:o};FO(f)||Object.assign(h,BO(e,h)),h.duration&&(h.duration=ei(h.duration)),h.repeatDelay&&(h.repeatDelay=ei(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let y=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(y=!0)),(Ai.instantAnimations||Ai.skipAnimations)&&(y=!0,h.duration=0,h.delay=0),h.allowFlatten=!f.type&&!f.ease,y&&!l&&t.get()!==void 0){const T=IO(h.keyframes,f);if(T!==void 0){ct.update(()=>{h.onUpdate(T),h.onComplete()});return}}return f.isSync?new hh(h):new T3(h)};function VO({protectedKeys:e,needsAnimating:t},n){const a=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,a}function MS(e,t,{delay:n=0,transitionOverride:a,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:u,...f}=t;a&&(l=a);const m=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const h in f){const y=e.getValue(h,e.latestValues[h]??null),T=f[h];if(T===void 0||d&&VO(d,h))continue;const S={delay:n,...gh(l||{},h)},E=y.get();if(E!==void 0&&!y.isAnimating&&!Array.isArray(T)&&T===E&&!S.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const N=ES(e);if(N){const V=window.MotionHandoffAnimation(N,h,ct);V!==null&&(S.startTime=V,k=!0)}}Sm(e,h),y.start(Dh(h,y,T,e.shouldReduceMotion&&tS.has(h)?{type:!1}:S,e,k));const I=y.animation;I&&m.push(I)}return u&&Promise.all(m).then(()=>{ct.update(()=>{u&&kO(e,u)})}),m}function Cm(e,t,n={}){var m;const a=Es(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(o=n.transitionOverride);const l=a?()=>Promise.all(MS(e,a,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:y,staggerDirection:T}=o;return jO(e,t,h+d,y,T,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[d,h]=f==="beforeChildren"?[l,u]:[u,l];return d().then(()=>h())}else return Promise.all([l(),u(n.delay)])}function jO(e,t,n=0,a=0,o=1,l){const u=[],f=(e.variantChildren.size-1)*a,m=o===1?(d=0)=>d*a:(d=0)=>f-d*a;return Array.from(e.variantChildren).sort(zO).forEach((d,h)=>{d.notify("AnimationStart",t),u.push(Cm(d,t,{...l,delay:n+m(h)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(u)}function zO(e,t){return e.sortNodePosition(t)}function HO(e,t,n={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const o=t.map(l=>Cm(e,l,n));a=Promise.all(o)}else if(typeof t=="string")a=Cm(e,t,n);else{const o=typeof t=="function"?Es(e,t,n.custom):t;a=Promise.all(MS(e,o,n))}return a.then(()=>{e.notify("AnimationComplete",t)})}function wS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let a=0;a<n;a++)if(t[a]!==e[a])return!1;return!0}const UO=Th.length;function DS(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?DS(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<UO;n++){const a=Th[n],o=e.props[a];(Cs(o)||o===!1)&&(t[a]=o)}return t}const qO=[...bh].reverse(),GO=bh.length;function YO(e){return t=>Promise.all(t.map(({animation:n,options:a})=>HO(e,n,a)))}function $O(e){let t=YO(e),n=Kv(),a=!0;const o=m=>(d,h)=>{var T;const y=Es(e,h,m==="exit"?(T=e.presenceContext)==null?void 0:T.custom:void 0);if(y){const{transition:S,transitionEnd:E,...k}=y;d={...d,...k,...E}}return d};function l(m){t=m(e)}function u(m){const{props:d}=e,h=DS(e.parent)||{},y=[],T=new Set;let S={},E=1/0;for(let I=0;I<GO;I++){const N=qO[I],V=n[N],P=d[N]!==void 0?d[N]:h[N],$=Cs(P),K=N===m?V.isActive:null;K===!1&&(E=I);let q=P===h[N]&&P!==d[N]&&$;if(q&&a&&e.manuallyAnimateOnMount&&(q=!1),V.protectedKeys={...S},!V.isActive&&K===null||!P&&!V.prevProp||Uu(P)||typeof P=="boolean")continue;const ce=KO(V.prevProp,P);let ue=ce||N===m&&V.isActive&&!q&&$||I>E&&$,pe=!1;const L=Array.isArray(P)?P:[P];let G=L.reduce(o(N),{});K===!1&&(G={});const{prevResolvedValues:ne={}}=V,te={...ne,...G},re=_=>{ue=!0,T.has(_)&&(pe=!0,T.delete(_)),V.needsAnimating[_]=!0;const D=e.getValue(_);D&&(D.liveStyle=!1)};for(const _ in te){const D=G[_],R=ne[_];if(S.hasOwnProperty(_))continue;let C=!1;Tm(D)&&Tm(R)?C=!wS(D,R):C=D!==R,C?D!=null?re(_):T.add(_):D!==void 0&&T.has(_)?re(_):V.protectedKeys[_]=!0}V.prevProp=P,V.prevResolvedValues=G,V.isActive&&(S={...S,...G}),a&&e.blockInitialAnimation&&(ue=!1),ue&&(!(q&&ce)||pe)&&y.push(...L.map(_=>({animation:_,options:{type:N}})))}if(T.size){const I={};if(typeof d.initial!="boolean"){const N=Es(e,Array.isArray(d.initial)?d.initial[0]:d.initial);N&&N.transition&&(I.transition=N.transition)}T.forEach(N=>{const V=e.getBaseTarget(N),P=e.getValue(N);P&&(P.liveStyle=!0),I[N]=V??null}),y.push({animation:I})}let k=!!y.length;return a&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(k=!1),a=!1,k?t(y):Promise.resolve()}function f(m,d){var y;if(n[m].isActive===d)return Promise.resolve();(y=e.variantChildren)==null||y.forEach(T=>{var S;return(S=T.animationState)==null?void 0:S.setActive(m,d)}),n[m].isActive=d;const h=u(m);for(const T in n)n[T].protectedKeys={};return h}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Kv(),a=!0}}}function KO(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!wS(t,e):!1}function La(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kv(){return{animate:La(!0),whileInView:La(),whileHover:La(),whileTap:La(),whileDrag:La(),whileFocus:La(),exit:La()}}class ua{constructor(t){this.isMounted=!1,this.node=t}update(){}}class XO extends ua{constructor(t){super(t),t.animationState||(t.animationState=$O(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Uu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let WO=0;class QO extends ua{constructor(){super(...arguments),this.id=WO++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const JO={animation:{Feature:XO},exit:{Feature:QO}};function Ms(e,t,n,a={passive:!0}){return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n)}function Ps(e){return{point:{x:e.pageX,y:e.pageY}}}const ZO=e=>t=>vh(t)&&e(t,Ps(t));function ms(e,t,n,a){return Ms(e,t,ZO(n),a)}function kS({top:e,left:t,right:n,bottom:a}){return{x:{min:t,max:n},y:{min:e,max:a}}}function eB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function tB(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}const NS=1e-4,nB=1-NS,iB=1+NS,RS=.01,aB=0-RS,rB=0+RS;function Qt(e){return e.max-e.min}function oB(e,t,n){return Math.abs(e-t)<=n}function Xv(e,t,n,a=.5){e.origin=a,e.originPoint=ut(t.min,t.max,e.origin),e.scale=Qt(n)/Qt(t),e.translate=ut(n.min,n.max,e.origin)-e.originPoint,(e.scale>=nB&&e.scale<=iB||isNaN(e.scale))&&(e.scale=1),(e.translate>=aB&&e.translate<=rB||isNaN(e.translate))&&(e.translate=0)}function hs(e,t,n,a){Xv(e.x,t.x,n.x,a?a.originX:void 0),Xv(e.y,t.y,n.y,a?a.originY:void 0)}function Wv(e,t,n){e.min=n.min+t.min,e.max=e.min+Qt(t)}function sB(e,t,n){Wv(e.x,t.x,n.x),Wv(e.y,t.y,n.y)}function Qv(e,t,n){e.min=t.min-n.min,e.max=e.min+Qt(t)}function ps(e,t,n){Qv(e.x,t.x,n.x),Qv(e.y,t.y,n.y)}const Jv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Br=()=>({x:Jv(),y:Jv()}),Zv=()=>({min:0,max:0}),xt=()=>({x:Zv(),y:Zv()});function In(e){return[e("x"),e("y")]}function _d(e){return e===void 0||e===1}function Am({scale:e,scaleX:t,scaleY:n}){return!_d(e)||!_d(t)||!_d(n)}function Oa(e){return Am(e)||IS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function IS(e){return e1(e.x)||e1(e.y)}function e1(e){return e&&e!=="0%"}function _u(e,t,n){const a=e-n,o=t*a;return n+o}function t1(e,t,n,a,o){return o!==void 0&&(e=_u(e,o,a)),_u(e,n,a)+t}function Em(e,t=0,n=1,a,o){e.min=t1(e.min,t,n,a,o),e.max=t1(e.max,t,n,a,o)}function _S(e,{x:t,y:n}){Em(e.x,t.translate,t.scale,t.originPoint),Em(e.y,n.translate,n.scale,n.originPoint)}const n1=.999999999999,i1=1.0000000000001;function lB(e,t,n,a=!1){const o=n.length;if(!o)return;t.x=t.y=1;let l,u;for(let f=0;f<o;f++){l=n[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(a&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Vr(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,_S(e,u)),a&&Oa(l.latestValues)&&Vr(e,l.latestValues))}t.x<i1&&t.x>n1&&(t.x=1),t.y<i1&&t.y>n1&&(t.y=1)}function Fr(e,t){e.min=e.min+t,e.max=e.max+t}function a1(e,t,n,a,o=.5){const l=ut(e.min,e.max,o);Em(e,t,n,l,a)}function Vr(e,t){a1(e.x,t.x,t.scaleX,t.scale,t.originX),a1(e.y,t.y,t.scaleY,t.scale,t.originY)}function LS(e,t){return kS(tB(e.getBoundingClientRect(),t))}function uB(e,t,n){const a=LS(e,n),{scroll:o}=t;return o&&(Fr(a.x,o.offset.x),Fr(a.y,o.offset.y)),a}const PS=({current:e})=>e?e.ownerDocument.defaultView:null,r1=(e,t)=>Math.abs(e-t);function cB(e,t){const n=r1(e.x,t.x),a=r1(e.y,t.y);return Math.sqrt(n**2+a**2)}class OS{constructor(t,n,{transformPagePoint:a,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Pd(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,S=cB(y.offset,{x:0,y:0})>=3;if(!T&&!S)return;const{point:E}=y,{timestamp:k}=Ot;this.history.push({...E,timestamp:k});const{onStart:I,onMove:N}=this.handlers;T||(I&&I(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,y)},this.handlePointerMove=(y,T)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Ld(T,this.transformPagePoint),ct.update(this.updatePoint,!0)},this.handlePointerUp=(y,T)=>{this.end();const{onEnd:S,onSessionEnd:E,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Pd(y.type==="pointercancel"?this.lastMoveEventInfo:Ld(T,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,I),E&&E(y,I)},!vh(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=a,this.contextWindow=o||window;const u=Ps(t),f=Ld(u,this.transformPagePoint),{point:m}=f,{timestamp:d}=Ot;this.history=[{...m,timestamp:d}];const{onSessionStart:h}=n;h&&h(t,Pd(f,this.history)),this.removeListeners=Is(ms(this.contextWindow,"pointermove",this.handlePointerMove),ms(this.contextWindow,"pointerup",this.handlePointerUp),ms(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ia(this.updatePoint)}}function Ld(e,t){return t?{point:t(e.point)}:e}function o1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Pd({point:e},t){return{point:e,delta:o1(e,BS(t)),offset:o1(e,fB(t)),velocity:dB(t,.1)}}function fB(e){return e[0]}function BS(e){return e[e.length-1]}function dB(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,a=null;const o=BS(e);for(;n>=0&&(a=e[n],!(o.timestamp-a.timestamp>ei(t)));)n--;if(!a)return{x:0,y:0};const l=ti(o.timestamp-a.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-a.x)/l,y:(o.y-a.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function mB(e,{min:t,max:n},a){return t!==void 0&&e<t?e=a?ut(t,e,a.min):Math.max(e,t):n!==void 0&&e>n&&(e=a?ut(n,e,a.max):Math.min(e,n)),e}function s1(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function hB(e,{top:t,left:n,bottom:a,right:o}){return{x:s1(e.x,n,o),y:s1(e.y,t,a)}}function l1(e,t){let n=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,a]=[a,n]),{min:n,max:a}}function pB(e,t){return{x:l1(e.x,t.x),y:l1(e.y,t.y)}}function gB(e,t){let n=.5;const a=Qt(e),o=Qt(t);return o>a?n=bs(t.min,t.max-a,e.min):a>o&&(n=bs(e.min,e.max-o,t.min)),Ci(0,1,n)}function yB(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Mm=.35;function xB(e=Mm){return e===!1?e=0:e===!0&&(e=Mm),{x:u1(e,"left","right"),y:u1(e,"top","bottom")}}function u1(e,t,n){return{min:c1(e,t),max:c1(e,n)}}function c1(e,t){return typeof e=="number"?e:e[t]||0}const vB=new WeakMap;class bB{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=h=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ps(h).point)},l=(h,y)=>{const{drag:T,dragPropagation:S,onDragStart:E}=this.getProps();if(T&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=B3(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),In(I=>{let N=this.getAxisMotionValue(I).get()||0;if(ni.test(N)){const{projection:V}=this.visualElement;if(V&&V.layout){const P=V.layout.layoutBox[I];P&&(N=Qt(P)*(parseFloat(N)/100))}}this.originPoint[I]=N}),E&&ct.postRender(()=>E(h,y)),Sm(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},u=(h,y)=>{const{dragPropagation:T,dragDirectionLock:S,onDirectionLock:E,onDrag:k}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:I}=y;if(S&&this.currentDirection===null){this.currentDirection=TB(I),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",y.point,I),this.updateAxis("y",y.point,I),this.visualElement.render(),k&&k(h,y)},f=(h,y)=>this.stop(h,y),m=()=>In(h=>{var y;return this.getAnimationState(h)==="paused"&&((y=this.getAxisMotionValue(h).animation)==null?void 0:y.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new OS(t,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:PS(this.visualElement)})}stop(t,n){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ct.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,a){const{drag:o}=this.getProps();if(!a||!ou(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(u=mB(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;t&&Or(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=hB(a.layoutBox,t):this.constraints=!1,this.elastic=xB(n),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&In(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=yB(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Or(t))return!1;const a=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=uB(a,o.root,this.visualElement.getTransformPagePoint());let u=pB(o.layout.layoutBox,l);if(n){const f=n(eB(u));this.hasMutatedConstraints=!!f,f&&(u=kS(f))}return u}startAnimation(t){const{drag:n,dragMomentum:a,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},d=In(h=>{if(!ou(h,n,this.currentDirection))return;let y=m&&m[h]||{};u&&(y={min:0,max:0});const T=o?200:1e6,S=o?40:1e7,E={type:"inertia",velocity:a?t[h]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(h,E)});return Promise.all(d).then(f)}startAxisValueAnimation(t,n){const a=this.getAxisMotionValue(t);return Sm(this.visualElement,t),a.start(Dh(t,a,0,n,this.visualElement,!1))}stopAnimation(){In(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){In(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),o=a[n];return o||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){In(n=>{const{drag:a}=this.getProps();if(!ou(n,a,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[n];l.set(t[n]-ut(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:a}=this.visualElement;if(!Or(n)||!a||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};In(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();o[u]=gB({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),In(u=>{if(!ou(u,t,null))return;const f=this.getAxisMotionValue(u),{min:m,max:d}=this.constraints[u];f.set(ut(m,d,o[u]))})}addListeners(){if(!this.visualElement.current)return;vB.set(this.visualElement,this);const t=this.visualElement.current,n=ms(t,"pointerdown",m=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(m)}),a=()=>{const{dragConstraints:m}=this.getProps();Or(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",a);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ct.read(a);const u=Ms(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:m,hasLayoutChanged:d})=>{this.isDragging&&d&&(In(h=>{const y=this.getAxisMotionValue(h);y&&(this.originPoint[h]+=m[h].translate,y.set(y.get()+m[h].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:a=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=Mm,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:a,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function ou(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function TB(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class SB extends ua{constructor(t){super(t),this.removeGroupControls=Bn,this.removeListeners=Bn,this.controls=new bB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bn}unmount(){this.removeGroupControls(),this.removeListeners()}}const f1=e=>(t,n)=>{e&&ct.postRender(()=>e(t,n))};class CB extends ua{constructor(){super(...arguments),this.removePointerDownListener=Bn}onPointerDown(t){this.session=new OS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:PS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:a,onPanEnd:o}=this.node.getProps();return{onSessionStart:f1(t),onStart:f1(n),onMove:a,onEnd:(l,u)=>{delete this.session,o&&ct.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=ms(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function d1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const as={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(De.test(e))e=parseFloat(e);else return e;const n=d1(e,t.target.x),a=d1(e,t.target.y);return`${n}% ${a}%`}},AB={correct:(e,{treeScale:t,projectionDelta:n})=>{const a=e,o=aa.parse(e);if(o.length>5)return a;const l=aa.createTransformer(e),u=typeof o[0]!="number"?1:0,f=n.x.scale*t.x,m=n.y.scale*t.y;o[0+u]/=f,o[1+u]/=m;const d=ut(f,m,.5);return typeof o[2+u]=="number"&&(o[2+u]/=d),typeof o[3+u]=="number"&&(o[3+u]/=d),l(o)}};class EB extends fe.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:a,layoutId:o}=this.props,{projection:l}=t;uO(MB),l&&(n.group&&n.group.add(l),a&&a.register&&o&&a.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),xu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:a,drag:o,isPresent:l}=this.props,{projection:u}=a;return u&&(u.isPresent=l,o||t.layoutDependency!==n||n===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||ct.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),xh.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:a}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),a&&a.deregister&&a.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function FS(e){const[t,n]=Y3(),a=fe.useContext(bT);return g.jsx(EB,{...e,layoutGroup:a,switchLayoutGroup:fe.useContext(gS),isPresent:t,safeToRemove:n})}const MB={borderRadius:{...as,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:as,borderTopRightRadius:as,borderBottomLeftRadius:as,borderBottomRightRadius:as,boxShadow:AB};function wB(e,t,n){const a=Yt(e)?e:Hr(e);return a.start(Dh("",a,t,n)),a.animation}const DB=(e,t)=>e.depth-t.depth;class kB{constructor(){this.children=[],this.isDirty=!1}add(t){Zm(this.children,t),this.isDirty=!0}remove(t){eh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(DB),this.isDirty=!1,this.children.forEach(t)}}function NB(e,t){const n=sn.now(),a=({timestamp:o})=>{const l=o-n;l>=t&&(ia(a),e(l-t))};return ct.setup(a,!0),()=>ia(a)}const VS=["TopLeft","TopRight","BottomLeft","BottomRight"],RB=VS.length,m1=e=>typeof e=="string"?parseFloat(e):e,h1=e=>typeof e=="number"||De.test(e);function IB(e,t,n,a,o,l){o?(e.opacity=ut(0,n.opacity??1,_B(a)),e.opacityExit=ut(t.opacity??1,0,LB(a))):l&&(e.opacity=ut(t.opacity??1,n.opacity??1,a));for(let u=0;u<RB;u++){const f=`border${VS[u]}Radius`;let m=p1(t,f),d=p1(n,f);if(m===void 0&&d===void 0)continue;m||(m=0),d||(d=0),m===0||d===0||h1(m)===h1(d)?(e[f]=Math.max(ut(m1(m),m1(d),a),0),(ni.test(d)||ni.test(m))&&(e[f]+="%")):e[f]=d}(t.rotate||n.rotate)&&(e.rotate=ut(t.rotate||0,n.rotate||0,a))}function p1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const _B=jS(0,.5,RT),LB=jS(.5,.95,Bn);function jS(e,t,n){return a=>a<e?0:a>t?1:n(bs(e,t,a))}function g1(e,t){e.min=t.min,e.max=t.max}function Rn(e,t){g1(e.x,t.x),g1(e.y,t.y)}function y1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function x1(e,t,n,a,o){return e-=t,e=_u(e,1/n,a),o!==void 0&&(e=_u(e,1/o,a)),e}function PB(e,t=0,n=1,a=.5,o,l=e,u=e){if(ni.test(t)&&(t=parseFloat(t),t=ut(u.min,u.max,t/100)-u.min),typeof t!="number")return;let f=ut(l.min,l.max,a);e===l&&(f-=t),e.min=x1(e.min,t,n,f,o),e.max=x1(e.max,t,n,f,o)}function v1(e,t,[n,a,o],l,u){PB(e,t[n],t[a],t[o],t.scale,l,u)}const OB=["x","scaleX","originX"],BB=["y","scaleY","originY"];function b1(e,t,n,a){v1(e.x,t,OB,n?n.x:void 0,a?a.x:void 0),v1(e.y,t,BB,n?n.y:void 0,a?a.y:void 0)}function T1(e){return e.translate===0&&e.scale===1}function zS(e){return T1(e.x)&&T1(e.y)}function S1(e,t){return e.min===t.min&&e.max===t.max}function FB(e,t){return S1(e.x,t.x)&&S1(e.y,t.y)}function C1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function HS(e,t){return C1(e.x,t.x)&&C1(e.y,t.y)}function A1(e){return Qt(e.x)/Qt(e.y)}function E1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class VB{constructor(){this.members=[]}add(t){Zm(this.members,t),t.scheduleRender()}remove(t){if(eh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let a;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){a=l;break}}return a?(this.promote(a),!0):!1}promote(t,n){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,n&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:a}=t;n.onExitComplete&&n.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jB(e,t,n){let a="";const o=e.x.translate/t.x,l=e.y.translate/t.y,u=(n==null?void 0:n.z)||0;if((o||l||u)&&(a=`translate3d(${o}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:y,rotateY:T,skewX:S,skewY:E}=n;d&&(a=`perspective(${d}px) ${a}`),h&&(a+=`rotate(${h}deg) `),y&&(a+=`rotateX(${y}deg) `),T&&(a+=`rotateY(${T}deg) `),S&&(a+=`skewX(${S}deg) `),E&&(a+=`skewY(${E}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(a+=`scale(${f}, ${m})`),a||"none"}const Od=["","X","Y","Z"],zB={visibility:"hidden"},HB=1e3;let UB=0;function Bd(e,t,n,a){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),a&&(a[e]=0))}function US(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=ES(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ct,!(o||l))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&US(a)}function qS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:a,resetTransform:o}){return class{constructor(u={},f=t==null?void 0:t()){this.id=UB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(YB),this.nodes.forEach(QB),this.nodes.forEach(JB),this.nodes.forEach($B)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new kB)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new ih),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=cS(u)&&!U3(u),this.instance=u;const{layoutId:f,layout:m,visualElement:d}=this.options;if(d&&!d.current&&d.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),e){let h;const y=()=>this.root.updateBlockedByResize=!1;e(u,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=NB(y,250),xu.hasAnimatedSinceResize&&(xu.hasAnimatedSinceResize=!1,this.nodes.forEach(w1))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&d&&(f||m)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:y,hasRelativeLayoutChanged:T,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||d.getDefaultTransition()||iF,{onLayoutAnimationStart:k,onLayoutAnimationComplete:I}=d.getProps(),N=!this.targetLayout||!HS(this.targetLayout,S),V=!y&&T;if(this.options.layoutRoot||this.resumeFrom||V||y&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...gh(E,"layout"),onPlay:k,onComplete:I};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(h,V)}else y||w1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ia(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZB),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&US(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const y=this.path[h];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(M1);return}this.isUpdating||this.nodes.forEach(XB),this.isUpdating=!1,this.nodes.forEach(WB),this.nodes.forEach(qB),this.nodes.forEach(GB),this.clearAllSnapshots();const f=sn.now();Ot.delta=Ci(0,1e3/60,f-Ot.timestamp),Ot.timestamp=f,Ot.isProcessing=!0,wd.update.process(Ot),wd.preRender.process(Ot),wd.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(KB),this.sharedNodes.forEach(eF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Qt(this.snapshot.measuredBox.x)&&!Qt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=a(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!zS(this.projectionDelta),m=this.getTransformTemplate(),d=m?m(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;u&&this.instance&&(f||Oa(this.latestValues)||h)&&(o(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),aF(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:u}=this.options;if(!u)return xt();const f=u.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(rF))){const{scroll:h}=this.root;h&&(Fr(f.x,h.offset.x),Fr(f.y,h.offset.y))}return f}removeElementScroll(u){var m;const f=xt();if(Rn(f,u),(m=this.scroll)!=null&&m.wasRoot)return f;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:y,options:T}=h;h!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&Rn(f,u),Fr(f.x,y.offset.x),Fr(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const m=xt();Rn(m,u);for(let d=0;d<this.path.length;d++){const h=this.path[d];!f&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Vr(m,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Oa(h.latestValues)&&Vr(m,h.latestValues)}return Oa(this.latestValues)&&Vr(m,this.latestValues),m}removeTransform(u){const f=xt();Rn(f,u);for(let m=0;m<this.path.length;m++){const d=this.path[m];if(!d.instance||!Oa(d.latestValues))continue;Am(d.latestValues)&&d.updateSnapshot();const h=xt(),y=d.measurePageBox();Rn(h,y),b1(f,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return Oa(this.latestValues)&&b1(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var T;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:y}=this.options;if(!(!this.layout||!(h||y))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),ps(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=xt(),this.targetWithTransforms=xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rn(this.target,this.layout.layoutBox),_S(this.target,this.targetDelta)):Rn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),ps(this.relativeTargetOrigin,this.target,S.target),Rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Am(this.parent.latestValues)||IS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var E;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(m=!1),m)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Rn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,T=this.treeScale.y;lB(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=xt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(y1(this.prevProjectionDelta.x,this.projectionDelta.x),y1(this.prevProjectionDelta.y,this.projectionDelta.y)),hs(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==T||!E1(this.projectionDelta.x,this.prevProjectionDelta.x)||!E1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Br(),this.projectionDelta=Br(),this.projectionDeltaWithTransform=Br()}setAnimationOrigin(u,f=!1){const m=this.snapshot,d=m?m.latestValues:{},h={...this.latestValues},y=Br();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=xt(),S=m?m.source:void 0,E=this.layout?this.layout.source:void 0,k=S!==E,I=this.getStack(),N=!I||I.members.length<=1,V=!!(k&&!N&&this.options.crossfade===!0&&!this.path.some(nF));this.animationProgress=0;let P;this.mixTargetDelta=$=>{const K=$/1e3;D1(y.x,u.x,K),D1(y.y,u.y,K),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ps(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tF(this.relativeTarget,this.relativeTargetOrigin,T,K),P&&FB(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=xt()),Rn(P,this.relativeTarget)),k&&(this.animationValues=h,IB(h,d,this.latestValues,K,V,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=K},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var f,m,d;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(d=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||d.stop(),this.pendingAnimation&&(ia(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ct.update(()=>{xu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hr(0)),this.currentAnimation=wB(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:d,latestValues:h}=u;if(!(!f||!m||!d)){if(this!==u&&this.layout&&d&&GS(this.options.animationType,this.layout.layoutBox,d.layoutBox)){m=this.target||xt();const y=Qt(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+y;const T=Qt(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+T}Rn(f,m),Vr(f,h),hs(this.projectionDeltaWithTransform,this.layoutCorrected,f,h)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new VB),this.sharedNodes.get(u).add(f);const d=f.options.initialPromotionConfig;f.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const d=this.getStack();d&&d.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const d={};m.z&&Bd("z",u,d,this.animationValues);for(let h=0;h<Od.length;h++)Bd(`rotate${Od[h]}`,u,d,this.animationValues),Bd(`skew${Od[h]}`,u,d,this.animationValues);u.render();for(const h in d)u.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return zB;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=yu(u==null?void 0:u.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=yu(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Oa(this.latestValues)&&(S.transform=m?m({},""):"none",this.hasProjected=!1),S}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),f.transform=jB(this.projectionDeltaWithTransform,this.treeScale,h),m&&(f.transform=m(h,f.transform));const{x:y,y:T}=this.projectionDelta;f.transformOrigin=`${y.origin*100}% ${T.origin*100}% 0`,d.animationValues?f.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:f.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const S in As){if(h[S]===void 0)continue;const{correct:E,applyTo:k,isCSSVariable:I}=As[S],N=f.transform==="none"?h[S]:E(h[S],d);if(k){const V=k.length;for(let P=0;P<V;P++)f[k[P]]=N}else I?this.options.visualElement.renderState.vars[S]=N:f[S]=N}return this.options.layoutId&&(f.pointerEvents=d===this?yu(u==null?void 0:u.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(M1),this.root.sharedNodes.clear()}}}function qB(e){e.updateLayout()}function GB(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:o}=e.layout,{animationType:l}=e.options,u=t.source!==e.layout.source;l==="size"?In(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],S=Qt(T);T.min=a[y].min,T.max=T.min+S}):GS(l,t.layoutBox,a)&&In(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],S=Qt(a[y]);T.max=T.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+S)});const f=Br();hs(f,a,t.layoutBox);const m=Br();u?hs(m,e.applyTransform(o,!0),t.measuredBox):hs(m,a,t.layoutBox);const d=!zS(f);let h=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:S}=y;if(T&&S){const E=xt();ps(E,t.layoutBox,T.layoutBox);const k=xt();ps(k,a,S.layoutBox),HS(E,k)||(h=!0),y.options.layoutRoot&&(e.relativeTarget=k,e.relativeTargetOrigin=E,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function YB(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $B(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function KB(e){e.clearSnapshot()}function M1(e){e.clearMeasurements()}function XB(e){e.isLayoutDirty=!1}function WB(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function w1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function QB(e){e.resolveTargetDelta()}function JB(e){e.calcProjection()}function ZB(e){e.resetSkewAndRotation()}function eF(e){e.removeLeadSnapshot()}function D1(e,t,n){e.translate=ut(t.translate,0,n),e.scale=ut(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function k1(e,t,n,a){e.min=ut(t.min,n.min,a),e.max=ut(t.max,n.max,a)}function tF(e,t,n,a){k1(e.x,t.x,n.x,a),k1(e.y,t.y,n.y,a)}function nF(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const iF={duration:.45,ease:[.4,0,.1,1]},N1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),R1=N1("applewebkit/")&&!N1("chrome/")?Math.round:Bn;function I1(e){e.min=R1(e.min),e.max=R1(e.max)}function aF(e){I1(e.x),I1(e.y)}function GS(e,t,n){return e==="position"||e==="preserve-aspect"&&!oB(A1(t),A1(n),.2)}function rF(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const oF=qS({attachResizeListener:(e,t)=>Ms(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fd={current:void 0},YS=qS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Fd.current){const e=new oF({});e.mount(window),e.setOptions({layoutScroll:!0}),Fd.current=e}return Fd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),sF={pan:{Feature:CB},drag:{Feature:SB,ProjectionNode:YS,MeasureLayout:FS}};function _1(e,t,n){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=a[o];l&&ct.postRender(()=>l(t,Ps(t)))}class lF extends ua{mount(){const{current:t}=this.node;t&&(this.unmount=F3(t,(n,a)=>(_1(this.node,a,"Start"),o=>_1(this.node,o,"End"))))}unmount(){}}class uF extends ua{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Is(Ms(this.node.current,"focus",()=>this.onFocus()),Ms(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function L1(e,t,n){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=a[o];l&&ct.postRender(()=>l(t,Ps(t)))}class cF extends ua{mount(){const{current:t}=this.node;t&&(this.unmount=H3(t,(n,a)=>(L1(this.node,a,"Start"),(o,{success:l})=>L1(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wm=new WeakMap,Vd=new WeakMap,fF=e=>{const t=wm.get(e.target);t&&t(e)},dF=e=>{e.forEach(fF)};function mF({root:e,...t}){const n=e||document;Vd.has(n)||Vd.set(n,{});const a=Vd.get(n),o=JSON.stringify(t);return a[o]||(a[o]=new IntersectionObserver(dF,{root:e,...t})),a[o]}function hF(e,t,n){const a=mF(t);return wm.set(e,n),a.observe(e),()=>{wm.delete(e),a.unobserve(e)}}const pF={some:0,all:1};class gF extends ua{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:a,amount:o="some",once:l}=t,u={root:n?n.current:void 0,rootMargin:a,threshold:typeof o=="number"?o:pF[o]},f=m=>{const{isIntersecting:d}=m;if(this.isInView===d||(this.isInView=d,l&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:y}=this.node.getProps(),T=d?h:y;T&&T(m)};return hF(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(yF(t,n))&&this.startObserver()}unmount(){}}function yF({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const xF={inView:{Feature:gF},tap:{Feature:cF},focus:{Feature:uF},hover:{Feature:lF}},vF={layout:{ProjectionNode:YS,MeasureLayout:FS}},Dm={current:null},$S={current:!1};function bF(){if($S.current=!0,!!Qm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Dm.current=e.matches;e.addListener(t),t()}else Dm.current=!1}const TF=new WeakMap;function SF(e,t,n){for(const a in t){const o=t[a],l=n[a];if(Yt(o))e.addValue(a,o);else if(Yt(l))e.addValue(a,Hr(o,{owner:e}));else if(l!==o)if(e.hasValue(a)){const u=e.getValue(a);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=e.getStaticValue(a);e.addValue(a,Hr(u!==void 0?u:o,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const P1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class CF{scrapeMotionValuesFromProps(t,n,a){return{}}constructor({parent:t,props:n,presenceContext:a,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ph,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=sn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,ct.render(this.render,!1,!0))};const{latestValues:m,renderState:d}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=qu(n),this.isVariantNode=hS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in y){const S=y[T];m[T]!==void 0&&Yt(S)&&S.set(m[T],!1)}}mount(t){this.current=t,TF.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),$S.current||bF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ia(this.notifyUpdate),ia(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=Wr.has(t);a&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&ct.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ur){const n=Ur[t];if(!n)continue;const{isEnabled:a,Feature:o}=n;if(!this.features[t]&&o&&a(this.props)&&(this.features[t]=new o(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let a=0;a<P1.length;a++){const o=P1[a];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=t[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=SF(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const a=this.values.get(t);n!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&n!==void 0&&(a=Hr(n===null?void 0:n,{owner:this}),this.addValue(t,a)),a}readValue(t,n){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(TT(a)||CT(a))?a=parseFloat(a):!G3(a)&&aa.test(n)&&(a=rS(t,n)),this.setBaseTarget(t,Yt(a)?a.get():a)),Yt(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const u=Mh(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(a=u[t])}if(n&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Yt(o)?o:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ih),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class KS extends CF{constructor(){super(...arguments),this.KeyframeResolver=_3}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:a}){delete n[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Yt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function XS(e,{style:t,vars:n},a,o){Object.assign(e.style,t,o&&o.getProjectionStyles(a));for(const l in n)e.style.setProperty(l,n[l])}function AF(e){return window.getComputedStyle(e)}class EF extends KS{constructor(){super(...arguments),this.type="html",this.renderInstance=XS}readValueFromInstance(t,n){var a;if(Wr.has(n))return(a=this.projection)!=null&&a.isProjecting?pm(n):J4(t,n);{const o=AF(t),l=(oh(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return LS(t,n)}build(t,n,a){Ch(t,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,n,a){return wh(t,n,a)}}const WS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function MF(e,t,n,a){XS(e,t,void 0,a);for(const o in t.attrs)e.setAttribute(WS.has(o)?o:Sh(o),t.attrs[o])}class wF extends KS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Wr.has(n)){const a=aS(n);return a&&a.default||0}return n=WS.has(n)?n:Sh(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,a){return AS(t,n,a)}build(t,n,a){bS(t,n,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,n,a,o){MF(t,n,a,o)}mount(t){this.isSVGTag=SS(t.tagName),super.mount(t)}}const DF=(e,t)=>Eh(e)?new wF(t):new EF(t,{allowProjection:e!==fe.Fragment}),kF=MO({...JO,...xF,...sF,...vF},DF),NF=Q3(kF),jd=({value:e,min:t=0,max:n=1,size:a=80,label:o,onChange:l})=>{const u=Math.max(0,Math.min(1,(e-t)/(n-t))),f=-150+u*300;return g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsxs("div",{className:"relative cursor-pointer select-none",style:{width:a,height:a},children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-b from-gray-700 to-gray-900 border-2 border-gray-600 shadow-lg",children:[...Array(11)].map((m,d)=>{const h=-150+d*30,y=d/10<=u,T=d%5===0?a*.1:a*.05,S=a/2-T,E=a/2-2,k=a/2+S*Math.cos(h*Math.PI/180),I=a/2+S*Math.sin(h*Math.PI/180),N=a/2+E*Math.cos(h*Math.PI/180),V=a/2+E*Math.sin(h*Math.PI/180);return g.jsx("line",{x1:k,y1:I,x2:N,y2:V,stroke:y?"#f97316":"#6b7280",strokeWidth:d%5===0?2:1},d)})}),g.jsx(NF.div,{className:"absolute bg-orange-500 rounded-full shadow-md",style:{width:a*.05,height:a*.3,left:"50%",top:a*.1,marginLeft:a*-.025,transformOrigin:`50% ${a*.4}px`},animate:{rotate:f},transition:{type:"spring",stiffness:300,damping:30}}),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("span",{className:"text-xs font-mono text-white bg-gray-800/70 px-2 py-1 rounded-full",children:Math.round(u*100)})})]}),o&&g.jsx("span",{className:"text-xs text-gray-300 mt-2 text-center max-w-[80px] truncate",children:o})]})},RF=["genre","voiceType","styleMood"];fu.map(e=>e.key).filter(e=>!RF.includes(e));const IF=()=>{var ce,ue,pe,L,G,ne,te,re;const[e,t]=fe.useState("Generic"),[n,a]=fe.useState({genre:[],voiceType:[],styleMood:[],notes:[""]}),[o,l]=fe.useState({genre:!1,synth:!1,voiceType:!1,styleMood:!0}),[u,f]=fe.useState(null),[m,d]=fe.useState({attack:.1,decay:.5,sustain:.8,release:1.5}),[h,y]=fe.useState({attack:.05,decay:.3,sustain:.9,release:.6}),[T,S]=fe.useState(null),[E,k]=fe.useState(""),[I,N]=fe.useState(!1),[V,P]=fe.useState(""),$=()=>{var B;return{description:n.styleMood.join(", "),synth:e,genre:n.genre.join(", "),voiceType:n.voiceType.join(", "),notes:((B=n.notes)==null?void 0:B[0])||""}},K=async B=>{var F,_,D,R,C,j;B.preventDefault(),N(!0),P(""),f(null),k("");try{const U=await $5($());if(f(U.text||""),k(U.summary||""),U.synthConfig){const M={...U.synthConfig,oscillators:Array.isArray((F=U.synthConfig)==null?void 0:F.oscillators)?U.synthConfig.oscillators:[],filters:Array.isArray((_=U.synthConfig)==null?void 0:_.filters)?U.synthConfig.filters:[],effects:Array.isArray((D=U.synthConfig)==null?void 0:D.effects)?U.synthConfig.effects:[],modSources:Array.isArray((R=U.synthConfig)==null?void 0:R.modSources)?U.synthConfig.modSources:[],modDestinations:Array.isArray((C=U.synthConfig)==null?void 0:C.modDestinations)?U.synthConfig.modDestinations:[],modMatrix:Array.isArray((j=U.synthConfig)==null?void 0:j.modMatrix)?U.synthConfig.modMatrix:[]};S(M)}else S({oscillators:[],filters:[],effects:[],modSources:[],modDestinations:[],modMatrix:[]});U.adsrVCF&&d(U.adsrVCF),U.adsrVCA&&y(U.adsrVCA)}catch(U){P(U instanceof Error?U.message:"Error generating guide")}finally{N(!1)}},q=()=>{t("Generic"),a({genre:[],voiceType:[],styleMood:[],notes:[""]}),f(null),P(""),d({attack:.1,decay:.5,sustain:.8,release:1.5}),y({attack:.05,decay:.3,sustain:.9,release:.6}),S(null)};return g.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-8",children:[g.jsxs("form",{onSubmit:K,className:"space-y-4",children:[g.jsxs(Ue,{children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Describe the sound, select your synth and voice type, and get a detailed patch recipe."}),g.jsxs("div",{className:"space-y-6 mb-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-200",children:"Synth"}),g.jsxs("select",{value:e,onChange:B=>t(B.target.value),className:"mt-1 block w-full bg-gray-700 text-white p-2 rounded",children:[g.jsx("option",{value:"",disabled:!0,children:"Select synth"}),gk.map(B=>g.jsx("option",{value:B,children:B},B))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-200",children:"Genre"}),g.jsxs("select",{value:n.genre[0]||"",onChange:B=>a({...n,genre:[B.target.value]}),className:"mt-1 block w-full bg-gray-700 text-white p-2 rounded",children:[g.jsx("option",{value:"",disabled:!0,children:"Select genre"}),(ce=fu.find(B=>B.key==="genre"))==null?void 0:ce.examples.map(B=>g.jsx("option",{value:B,children:B},B))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-200",children:"Voice Type"}),g.jsxs("select",{value:n.voiceType[0]||"",onChange:B=>a({...n,voiceType:[B.target.value]}),className:"mt-1 block w-full bg-gray-700 text-white p-2 rounded",children:[g.jsx("option",{value:"",disabled:!0,children:"Select voice type"}),(ue=fu.find(B=>B.key==="voiceType"))==null?void 0:ue.examples.map(B=>g.jsx("option",{value:B,children:B},B))]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-200",children:"Style & Mood"}),g.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:(pe=fu.find(B=>B.key==="styleMood"))==null?void 0:pe.examples.map(B=>g.jsx("button",{type:"button",className:`px-3 py-1 rounded-full border text-sm ${n.styleMood.includes(B)?"bg-orange-500 text-white border-orange-500":"bg-gray-700 text-gray-300 border-gray-500"}`,onClick:()=>{const F=[...n.styleMood];F.includes(B)?a({...n,styleMood:F.filter(_=>_!==B)}):a({...n,styleMood:[...F,B]})},children:B},B))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-200",children:"Dynamics / Movement"}),g.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:["Evolving","Pulsing","Rhythmic","Sweeping","Morphing","Glitchy","Fluttering","Driving","Floating","Warped","Phasing","Percussive","Sustained","Punchy","Decaying"].map(B=>g.jsx("button",{type:"button",className:`px-3 py-1 rounded-full border text-sm ${Array.isArray(n.movement)&&n.movement.includes(B)?"bg-orange-500 text-white border-orange-500":"bg-gray-700 text-gray-300 border-gray-500"}`,onClick:()=>{const F=Array.isArray(n.movement)?[...n.movement]:[];F.includes(B)?a({...n,movement:F.filter(_=>_!==B)}):a({...n,movement:[...F,B]})},children:B},B))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-200 mb-1",children:"Reference Notes"}),g.jsx("textarea",{value:((L=n.notes)==null?void 0:L[0])||"",onChange:B=>a({...n,notes:[B.target.value]}),placeholder:"Reference artist, track, sound design concept, or extra notes...",className:"w-full p-2 bg-gray-700 text-white rounded",rows:3})]})]})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx(Be,{type:"submit",disabled:I,children:I?"Generating":"Generate PatchGuide"}),I&&g.jsx(ta,{}),g.jsx(Be,{type:"button",variant:"secondary",onClick:q,children:"Reset"}),V&&g.jsx("span",{className:"text-red-500",children:V})]})]}),u&&g.jsx(g.Fragment,{children:g.jsxs(_F,{children:[g.jsxs(Ue,{children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Patch Instructions"}),g.jsx("div",{className:"prose prose-invert p-4 bg-gray-800 rounded",children:g.jsx(Kb,{remarkPlugins:[xT],children:u})})]}),g.jsxs(Ue,{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Oscillators"}),(()=>{const B=Array.isArray(T==null?void 0:T.oscillators)?[...T.oscillators]:[];for(;B.length<2;)B.push({name:`Oscillator ${B.length+1}`,values:{Waveform:"Sawtooth",Coarse:0,Fine:0,Level:1}});return B.length>0?g.jsx("div",{className:"flex flex-col gap-4",children:B.map((F,_)=>{var ae;const D=F.values||{},R=(ae=F.name)==null?void 0:ae.toLowerCase().includes("sub"),C=D.Waveform||D.waveform||F.waveform||"Sawtooth",j=typeof D.Coarse=="number"?D.Coarse:0,U=typeof D.Fine=="number"?D.Fine:0;let M=typeof D.Level=="number"?D.Level:0;return M<=1&&M>=0&&(M=Math.round(M*60-60)),g.jsxs("div",{className:"bg-gray-800 rounded p-4",children:[g.jsx("div",{className:"font-bold text-orange-300 mb-2",children:F.name||`Oscillator ${_+1}`}),g.jsxs("ul",{className:"list-disc list-inside ml-4 mb-2",children:[g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:"Waveform:"})," ",C]}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:R?"Octave:":"Coarse:"})," ",j]}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:"Fine:"})," ",U]}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:"Level (dB):"})," ",M]})]})]},F.id||F.name||_)})}):g.jsx("div",{className:"text-gray-400",children:"No oscillator data."})})()]}),g.jsxs(Ue,{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Effects"}),Array.isArray(T==null?void 0:T.effects)&&T.effects.length>0?g.jsx("div",{className:"space-y-4",children:T.effects.map((B,F)=>{const _=Array.isArray(B.parameters)&&typeof B.parameters[0]=="object"?B.parameters:Array.isArray(B.parameters)?B.parameters.map(D=>({name:D})):[];return g.jsxs("div",{className:"mb-2 grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-bold text-green-300 mb-1",children:B.name}),g.jsx("ul",{className:"list-disc list-inside ml-4",children:_.length>0?_.map(D=>g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"font-semibold",children:[D.name,":"]}),B[D.name]!==void 0?g.jsxs(g.Fragment,{children:[B[D.name],D.unit?g.jsx("span",{className:"text-xs text-gray-400 ml-1",children:D.unit}):null]}):""]},D.name)):g.jsx("li",{className:"text-gray-400",children:"No parameters"})})]}),g.jsx("div",{className:"flex flex-wrap gap-4",children:_.filter(D=>D.type==="float"||D.type==="int").filter(D=>typeof B[D.name]=="number").length>0?_.filter(D=>(D.type==="float"||D.type==="int")&&typeof B[D.name]=="number").map(D=>g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx(jd,{value:B[D.name],label:D.name,size:48,min:D.range?D.range[0]:0,max:D.range?D.range[1]:1}),D.unit&&g.jsx("span",{className:"text-xs text-gray-400",children:D.unit})]},D.name)):g.jsx("span",{className:"text-gray-400",children:"No numeric parameters"})})]},B.name||F)})}):g.jsx("div",{className:"text-gray-400",children:"No relevant effects for this patch."})]}),g.jsxs(Ue,{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Filter and Envelopes"}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center justify-center",children:[g.jsx("div",{className:"flex flex-col items-center",children:Array.isArray(T==null?void 0:T.filters)&&T.filters.map((B,F)=>{const _=(n.genre[0]||"").toLowerCase(),D=(n.voiceType[0]||"").toLowerCase();let R=typeof B.cutoff=="number"?B.cutoff:void 0,C=typeof B.resonance=="number"?B.resonance:void 0;(typeof R!="number"||isNaN(R))&&(D.includes("lead")||_.includes("lead")||_.includes("pluck")?R=.7:D.includes("pad")||_.includes("pad")||_.includes("ambient")?R=.4:D.includes("bass")||_.includes("bass")?R=.25:R=.5),(typeof C!="number"||isNaN(C))&&(D.includes("lead")||_.includes("lead")||_.includes("pluck")?C=.18:D.includes("pad")||_.includes("pad")||_.includes("ambient")?C=.35:D.includes("bass")||_.includes("bass")?C=.28:C=.3);const j=R*2e4;return g.jsxs("div",{className:"mb-4 flex flex-col items-center",children:[g.jsxs("div",{className:"font-medium text-gray-200 mb-2",children:["Filter type: ",g.jsx("span",{className:"font-bold text-orange-400",children:B.selectedType||Array.isArray(B.types)&&B.types[0]||"Lowpass"})]}),g.jsxs("div",{className:"flex flex-row gap-6 mb-2",children:[g.jsx(jd,{value:R,label:"Cutoff",size:80,min:0,max:1}),g.jsx(jd,{value:C,label:"Resonance",size:80,min:0,max:1})]}),g.jsxs("div",{className:"text-gray-300",children:[g.jsxs("span",{children:["Cutoff: ",g.jsxs("span",{className:"font-mono",children:[j.toFixed(0)," Hz"]})]}),g.jsxs("span",{className:"ml-4",children:["Resonance: ",g.jsx("span",{className:"font-mono",children:C.toFixed(2)})]})]}),typeof B.slope=="number"&&g.jsxs("div",{className:"text-gray-300",children:["Slope: ",g.jsxs("span",{className:"font-mono",children:[B.slope," dB/oct"]})]})]},B.name||F)})}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center",children:[g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("div",{className:"font-medium text-gray-200",children:"Filter Envelope"}),g.jsx(Av,{...((ne=(G=T==null?void 0:T.envelopes)==null?void 0:G.values)==null?void 0:ne[0])||m,width:240,height:120})]}),g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("div",{className:"font-medium text-gray-200",children:"Amp Envelope"}),g.jsx(Av,{...((re=(te=T==null?void 0:T.envelopes)==null?void 0:te.values)==null?void 0:re[1])||h,width:240,height:120})]})]})]})]}),Array.isArray(T==null?void 0:T.modMatrix)?T.modMatrix.length>0?g.jsxs(Ue,{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Modulation Matrix"}),g.jsxs("table",{className:"w-full text-gray-200 border-collapse mb-3",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-gray-800",children:[g.jsx("th",{className:"p-2",children:"Source"}),g.jsx("th",{className:"p-2",children:"Target"}),g.jsx("th",{className:"p-2",children:"Parameter"}),g.jsx("th",{className:"p-2",children:"Amount"}),g.jsx("th",{className:"p-2",children:"LFO Waveform"}),g.jsx("th",{className:"p-2",children:"LFO Freq"}),g.jsx("th",{className:"p-2",children:"LFO Rate"}),g.jsx("th",{className:"p-2",children:"LFO Depth"})]})}),g.jsx("tbody",{children:T.modMatrix.filter(B=>!(B.source==="Env"&&B.parameter&&B.parameter.toLowerCase().includes("cutoff"))).map((B,F)=>g.jsxs("tr",{className:"border-t border-gray-700",children:[g.jsx("td",{className:"p-2",children:(B==null?void 0:B.source)||""}),g.jsx("td",{className:"p-2",children:(B==null?void 0:B.target)||""}),g.jsx("td",{className:"p-2",children:(B==null?void 0:B.parameter)||""}),g.jsx("td",{className:"p-2",children:typeof(B==null?void 0:B.amount)=="number"?`${Math.round(B.amount*100)}%`:""}),g.jsx("td",{className:"p-2",children:(B==null?void 0:B.lfoWaveform)||""}),g.jsx("td",{className:"p-2",children:typeof(B==null?void 0:B.lfoFrequency)=="number"?B.lfoFrequency.toFixed(2):""}),g.jsx("td",{className:"p-2",children:typeof(B==null?void 0:B.lfoRate)=="number"?B.lfoRate.toFixed(2):""}),g.jsx("td",{className:"p-2",children:typeof(B==null?void 0:B.lfoDepth)=="number"?B.lfoDepth.toFixed(2):""})]},((B==null?void 0:B.source)||"")+((B==null?void 0:B.target)||"")+((B==null?void 0:B.parameter)||"")+F))})]})]}):g.jsx("div",{className:"text-gray-400",children:"This patch does not use explicit mod matrix routings  try adding more modulation to bring it to life!"}):g.jsx("div",{className:"text-gray-400",children:"This patch does not use explicit mod matrix routings  try adding more modulation to bring it to life!"})]})}),typeof E=="string"&&E.trim()?g.jsxs(Ue,{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Creative Tips & Suggestions"}),g.jsx("div",{className:"prose prose-invert p-4 bg-gray-800 rounded",children:g.jsx("ul",{className:"list-disc list-inside ml-4",children:E.split(/\n|\n- |\n\n|\r\n|\r/).filter(Boolean).map((B,F)=>g.jsx("li",{children:B.replace(/^[-\s]+/,"").trim()},F))})})]}):null]})};class _F extends Nm.Component{constructor(t){super(t),this.state={hasError:!1,errorMsg:""}}static getDerivedStateFromError(t){return{hasError:!0,errorMsg:(t==null?void 0:t.message)||String(t)}}componentDidCatch(t,n){}render(){return this.state.hasError?g.jsxs("div",{className:"text-red-500 bg-gray-900 p-4 rounded",children:["Error rendering patch guide: ",this.state.errorMsg]}):this.props.children}}const su=({className:e="w-4 h-4"})=>g.jsx("div",{className:`${e} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:g.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),O1={songTitle:"",genre:[],artistReference:"",referenceTrackLink:"",lyrics:"",key:"",scale:"",chords:"",generalNotes:"",vibe:[],daw:"",plugins:"",availableInstruments:""},B1={audioFile:null,userNotes:""},ea=100,lu=ea*1024*1024,F1=e=>{const t=e.match(/Estimated BPM Range:\s*.*?(\d+)\s*(?:-|to)\s*(\d+)\s*BPM/i);if(t&&t[1]&&t[2])return Math.round((parseInt(t[1],10)+parseInt(t[2],10))/2);const n=e.match(/Estimated BPM Range:\s*.*?(\d+)\s*BPM/i);if(n&&n[1])return parseInt(n[1],10);const a=e.match(/BPM:\s*(\d+)/i);return a&&a[1]?parseInt(a[1],10):null},V1=e=>{const t=e.match(/Suggested Key\(s\) \/ Scale\(s\):\s*([^(\n]+)/i);if(t&&t[1]){const n=t[1].split(/,|\/| or /).map(o=>o.trim().replace(/\.$/,""));for(const o of n){const l=o.includes(" Minor")?o:o.replace("Major","").trim()+" Major";if(rs.includes(o)||rs.includes(l))return rs.includes(o)?o:l}const a=n[0];if(a){for(const o of rs)if(a.toLowerCase().startsWith(o.split(" ")[0].toLowerCase()))if(a.toLowerCase().includes("minor")){if(o.includes("Minor"))return o}else if(a.toLowerCase().includes("major")){if(o.includes("Major"))return o}else return o;return a}}return null},j1=e=>{const t=e.match(/## (?:3|4)\.(?:.*Harmony.*|.*Chord Progressions.*)\s*\n(?:[^\n]*\n)*?.*?Chord Progression\(s\)\s*(?:\([^)]+\))?:\s*([^\n]+)/im);if(t&&t[1]){const o=t[1].match(/([ivclxmdIVCLXMDab#dimaug\d\/sus-]+(?:\s*-\s*[ivclxmdIVCLXMDab#dimaug\d\/sus-]+)*)/);if(o&&o[1]){let l=o[1].trim();l.endsWith(".")&&(l=l.slice(0,-1));const u=[", ",". ","; "];for(const f of u)if(l.includes(f)){l=l.split(f)[0];break}if(/[IVXLCDMivxlcdm]/.test(l))return l}}const n=e.match(/Chord Progression\(s\).*?:\s*([IVXLCDMivxlcdm\d\s,-]+)/i);if(n&&n[1]){const a=n[1].split(",")[0].trim();if(/[IVXLCDMivxlcdm]/.test(a))return a}return null},z1=(e,t)=>{const n=e.match(t);if(!n||typeof n.index>"u")return"";const a=n.index,o=e.substring(a+n[0].length).match(/^##\s+/m),l=o&&typeof o.index<"u"?a+n[0].length+o.index:e.length;return e.substring(a,l).trim()},LF=e=>{if(!e)return"";let t="";return t+=z1(e,/^##\s*1\.\s*Song Overview/im)+`

`,t+=z1(e,/^##\s*4\.\s*Harmony, Melody & Rhythmic Core/im),t.trim()||"General musical context not fully parsed. Focus on genre and vibe."},H1=e=>{const t=e.match(/^\s*-\s*\*\*Suggested Title:\*\*\s*(.*)/im);return t&&t[1]?t[1].trim().replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1"):null},PF=()=>{var Ka;const[e,t]=fe.useState("landing"),[n,a]=fe.useState(O1),[o,l]=fe.useState(""),[u,f]=fe.useState(""),[m,d]=fe.useState(""),[h,y]=fe.useState(!1),[T,S]=fe.useState(""),[E,k]=fe.useState(null),[I,N]=fe.useState(null),[V,P]=fe.useState([]),[$,K]=fe.useState(null),[q,ce]=fe.useState(!1),[ue,pe]=fe.useState(""),[L,G]=fe.useState(!1),[ne,te]=fe.useState(!0),[re,B]=fe.useState(!1),[F,_]=fe.useState(),[D,R]=fe.useState(B1),[C,j]=fe.useState(null),[U,M]=fe.useState(!1),[ae,z]=fe.useState(null),[oe,ye]=fe.useState("single"),[de,Ee]=fe.useState({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),[Ie,Ve]=fe.useState(null),[qe,nt]=fe.useState(!1),[rt,Dt]=fe.useState(null),un=fe.useRef(null),Bt=fe.useRef(null),qa=fe.useRef(null);fe.useEffect(()=>{try{const ve=localStorage.getItem(Tx);if(ve){const jt=JSON.parse(ve).map(ot=>({...ot,genre:Array.isArray(ot.genre)?ot.genre:ot.genre?[ot.genre]:[],vibe:Array.isArray(ot.vibe)?ot.vibe:ot.vibe?[ot.vibe]:[],scale:ot.scale||"",midiSettings:ot.midiSettings||void 0,generatedMidiPatterns:ot.generatedMidiPatterns||void 0}));P(jt)}}catch(ve){console.error("Failed to load library from local storage:",ve),P([])}const Z=localStorage.getItem(Qo),ge=localStorage.getItem(Jl);a(ve=>({...ve,daw:Z||ve.daw||"",plugins:ge||ve.plugins||""}))},[]),fe.useEffect(()=>{try{localStorage.setItem(Tx,JSON.stringify(V))}catch(Z){console.error("Failed to save library to local storage:",Z)}},[V]);const Et=Z=>{const{name:ge,value:ve}=Z.target;ge==="currentGenreText"?l(ve):ge==="currentVibeText"?f(ve):(a(je=>({...je,[ge]:ve})),ge==="daw"?localStorage.setItem(Qo,ve):ge==="plugins"&&localStorage.setItem(Jl,ve))},ai=Z=>{var ve,je;const ge=Z==="genre"?o.trim():u.trim();ge&&!n[Z].includes(ge)&&a(jt=>({...jt,[Z]:[...jt[Z],ge]})),Z==="genre"?(l(""),(ve=Bt.current)==null||ve.focus()):(f(""),(je=qa.current)==null||je.focus())},ri=(Z,ge)=>{Z.key==="Enter"&&(Z.preventDefault(),ai(ge))},Ga=(Z,ge)=>{a(ve=>{const jt=ve[Z].filter(ot=>ot!==ge);return{...ve,[Z]:jt}})},Ya=Z=>{a(ge=>({...ge,daw:Z})),localStorage.setItem(Qo,Z)},$a=Z=>{const ge=Z.match(/^#\s*TRACKGUIDE:\s*"?([^"\n]+)"?/im);return ge&&ge[1]?ge[1].trim():null},ca=()=>{const Z=localStorage.getItem(Qo)||"",ge=localStorage.getItem(Jl)||"";a({...O1,songTitle:"",daw:Z,plugins:ge}),l(""),f(""),d(""),K(null),k(null),N(null),pe(""),qn(),ce(!1)},ee=async Z=>{var jt;Z.preventDefault(),y(!0),k(null),N(null),d(""),K(null),pe(""),qn(),window.scrollTo({top:0,behavior:"smooth"}),n.daw&&localStorage.setItem(Qo,n.daw),n.plugins&&localStorage.setItem(Jl,n.plugins);let ge="",ve,je;try{S("TrackGuide is generating...");const ot=await xk(n);for await(const Zt of ot)ge+=Zt.text,d(si=>si+Zt.text);S("Initial MIDI patterns are generating...");const Os=$a(ge),Gu=(jt=n.songTitle)!=null&&jt.trim()?n.songTitle.trim():Os||`TrackGuide for ${n.genre.join(", ")||"Unknown Genre"}`,$n=Date.now().toString(),kt=new Date().toISOString(),zt=F1(ge),Mi=V1(ge),Jr=j1(ge),Xa=n.genre[0]||Ke.genre,Bs=Pn[Xa]||Pn.Default,Fs=Math.round((Bs[0]+Bs[1])/2),fa=(Ln[Xa]||Ln.Default)[0],Zr=LF(ge),wi=Ke.songSection;let oi=8;const da=Xa.toLowerCase();["lo-fi hip hop","lofi hip hop","lofi","trap","ambient","idm","breakcore","footwork","juke","experimental"].some(Zt=>da.includes(Zt))&&(oi=4);const vt=["chords","bassline","melody","drums"];je={key:Mi||Ke.key,tempo:zt||Fs,timeSignature:Ke.timeSignature,chordProgression:Jr||fa,genre:Xa,bars:oi,targetInstruments:vt,guidebookContext:Zr,songSection:wi};try{const Zt=await ys(je);let si="";for await(const ha of Zt)si+=ha.text;let Vn=si.trim();const Di=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,eo=Vn.match(Di);if(eo&&eo[2]&&(Vn=eo[2].trim()),ve=JSON.parse(Vn),ve.drums){const ha={};for(const to in ve.drums)ha[to.toLowerCase().replace(/\s+/g,"_")]=ve.drums[to];ve.drums=ha}N(null)}catch(Zt){console.error("Initial MIDI generation failed:",Zt);const si=Zt.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns during initial generation. (${Zt.message})`:`Initial MIDI generation failed: ${Zt.message}.`;N(si+" You can try generating MIDI manually in the MIDI tools section."),ve=void 0}K({id:$n,title:Gu,genre:n.genre,artistReference:n.artistReference,referenceTrackLink:n.referenceTrackLink,lyrics:n.lyrics,key:n.key,chords:n.chords,generalNotes:n.generalNotes,vibe:n.vibe,daw:n.daw,plugins:n.plugins,availableInstruments:n.availableInstruments||"",content:ge,createdAt:kt,midiSettings:je,generatedMidiPatterns:ve})}catch(ot){k(ot.message||"An unexpected error occurred while generating TrackGuide."),K(null),d("")}finally{y(!1),S("")}},me=()=>{if(!$)return;const Z={...$};P(ge=>{const ve=ge.findIndex(je=>je.id===Z.id);if(ve>-1){const je=[...ge];return je[ve]=Z,je}return[Z,...ge]})},Te=(Z,ge)=>{K(ve=>ve?{...ve,midiSettings:Z,generatedMidiPatterns:ge}:null)},Ce=Z=>{a({songTitle:Z.title,genre:Array.isArray(Z.genre)?Z.genre:Z.genre?[String(Z.genre)]:[],artistReference:Z.artistReference,referenceTrackLink:Z.referenceTrackLink||"",lyrics:Z.lyrics||"",key:Z.key||"",chords:Z.chords||"",generalNotes:Z.generalNotes||"",vibe:Array.isArray(Z.vibe)?Z.vibe:Z.vibe?[String(Z.vibe)]:[],daw:Z.daw,plugins:Z.plugins,availableInstruments:Z.availableInstruments||""}),l(""),f(""),d(Z.content),K(Z),k(null),N(null),pe(""),qn(),ce(!1),t("trackGuide"),window.scrollTo({top:0,behavior:"smooth"})},Ye=Z=>{P(ge=>ge.filter(ve=>ve.id!==Z)),$&&$.id===Z&&(d(""),K(null),qn())},Ft=({selections:Z,onRemove:ge})=>g.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-2 min-h-[2.25rem]",children:Z.map(ve=>g.jsxs("span",{className:"flex items-center px-3 py-1 bg-orange-600 text-white text-xs font-medium rounded-full shadow-md hover:bg-orange-700 transition-colors",children:[ve,g.jsx("button",{type:"button",onClick:()=>ge(ve),className:"ml-1.5 -mr-0.5 p-0.5 text-orange-200 hover:text-white rounded-full focus:outline-none focus:bg-orange-800 transition-colors","aria-label":`Remove ${ve}`,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},ve))}),Fn=Z=>{var ve;const ge=(ve=Z.target.files)==null?void 0:ve[0];if(ge){if(ge.size>lu){z(`File is too large. Maximum size is ${ea}MB.`),R(je=>({...je,audioFile:null})),un.current&&(un.current.value="");return}if(!ge.type.startsWith("audio/")){z("Invalid file type. Please upload an audio file (e.g., MP3, WAV)."),R(je=>({...je,audioFile:null})),un.current&&(un.current.value="");return}R(je=>({...je,audioFile:ge})),z(null)}},Vt=Z=>{R(ge=>({...ge,userNotes:Z.target.value}))},Tn=async Z=>{if(Z.preventDefault(),!D.audioFile){z("Please upload an audio file for feedback.");return}M(!0),window.scrollTo({top:0,behavior:"smooth"}),j(null),z(null);try{const ge=await Ax(D);j(ge)}catch(ge){z(ge.message||"An unknown error occurred while generating mix feedback.")}finally{M(!1)}},Kt=()=>{R(B1),j(null),z(null),un.current&&(un.current.value="")},pt=Z=>new Promise((ge,ve)=>{const je=new FileReader;je.readAsDataURL(Z),je.onload=()=>{const ot=je.result.split(",")[1];ge(ot)},je.onerror=jt=>ve(jt)}),Jt=async()=>{if(!de.mixA||!de.mixB){Dt("Please upload both Mix A and Mix B files.");return}nt(!0),window.scrollTo({top:0,behavior:"smooth"}),Ve(null),Dt(null);try{const Z=await pt(de.mixA),ge=await pt(de.mixB),ve={mixAFile:Z,mixBFile:ge,mixAName:de.mixA.name,mixBName:de.mixB.name,includeMixBFeedback:de.includeMixBFeedback,userNotes:de.userNotes},je=await bk(ve);Ve(je)}catch(Z){Dt(Z.message||"An unknown error occurred while comparing mixes.")}finally{nt(!1)}},cn=()=>{Ee({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),Ve(null),Dt(null)};let fn;const Qr=(Ka=n.songTitle)==null?void 0:Ka.trim();if(Qr)fn=`TrackGuide: ${Qr}`;else if($!=null&&$.title){const Z=$.title;if(Z.startsWith("TrackGuide for ")){const ge=$a($.content);ge?fn=`TrackGuide: ${ge}`:fn=Z}else fn=`TrackGuide: ${Z}`}else if(h&&e==="trackGuide"){const Z=H1(m);Z?fn=`TrackGuide: ${Z}`:fn="TrackGuide is generating..."}else if(m){const Z=H1(m);Z?fn=`TrackGuide: ${Z}`:fn="Generated TrackGuide"}else fn="TrackGuide";return e==="landing"?g.jsx(Zk,{onGetStarted:()=>{t("trackGuide"),setTimeout(()=>window.scrollTo({top:0,behavior:"smooth"}),100)}}):g.jsxs("div",{className:"min-h-screen bg-[#1A1A1A] text-gray-100 p-4 md:p-6 lg:p-8 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:g.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"40px 40px"}})}),g.jsxs("div",{className:"absolute top-10 right-10 w-32 h-32 opacity-10 pointer-events-none",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-12 pointer-events-none"}),g.jsx("div",{className:"absolute top-2 right-2 w-28 h-28 bg-orange-500 transform rotate-12 pointer-events-none"})]}),g.jsxs("header",{className:"text-center mb-6 relative z-10",children:[g.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[g.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:g.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:bx}),g.jsx("p",{className:"text-gray-400 text-lg",children:"Your Smartest Studio Assistant"})]})]}),g.jsx("button",{onClick:()=>t("landing"),className:"mt-2 text-sm text-orange-500 hover:text-orange-400 transition-colors font-medium",children:" Back to Landing"})]}),g.jsxs("nav",{className:"mb-8 flex flex-col justify-center items-center md:flex-row md:justify-center gap-2 border-b border-orange-500/20 pb-3 relative z-10",children:[g.jsx(Be,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="trackGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("trackGuide"),variant:e==="trackGuide"?"primary":"secondary",leftIcon:g.jsx(su,{className:"w-4 h-4"}),children:"TrackGuide AI"}),g.jsx(Be,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="mixFeedback"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("mixFeedback"),variant:e==="mixFeedback"?"primary":"secondary",leftIcon:g.jsx("span",{className:"w-4 h-4 text-center",children:""}),children:"Mix Feedback AI"}),g.jsx(Be,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="remixGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("remixGuide"),variant:e==="remixGuide"?"primary":"secondary",leftIcon:g.jsx("span",{className:"w-4 h-4 text-center",children:""}),children:"RemixGuide AI"}),g.jsx(Be,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="patchGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("patchGuide"),variant:e==="patchGuide"?"primary":"secondary",leftIcon:g.jsx("span",{className:"w-4 h-4 text-center",children:""}),children:"PatchGuide AI"}),g.jsx(Be,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="eqGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("eqGuide"),variant:e==="eqGuide"?"primary":"secondary",leftIcon:g.jsx(od,{className:"w-4 h-4"}),children:"EQ Guide"})]}),e==="trackGuide"&&g.jsxs("div",{className:"max-w-full mx-auto grid grid-cols-1 lg:grid-cols-7 gap-6 px-4",children:[g.jsxs(Ue,{title:"Blueprint Your Sound",className:"lg:col-span-2 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Describe your visioneverything's optional."}),g.jsxs("form",{onSubmit:ee,className:"space-y-3",children:[g.jsx("div",{children:g.jsx(_n,{label:"Song Title / Project Name",name:"songTitle",value:n.songTitle||"",onChange:Et,placeholder:"AI will suggest one if left blank"})}),g.jsx("div",{children:g.jsx(_n,{label:"Artist References",name:"artistReference",value:n.artistReference,onChange:Et,placeholder:"e.g., Daft Punk"})}),g.jsx("div",{children:g.jsx(_n,{label:"Song Reference",name:"referenceTrackLink",value:n.referenceTrackLink||"",onChange:Et,placeholder:"e.g., YouTube, Spotify, SoundCloud link"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"genre-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Genre(s)"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(_n,{ref:Bt,id:"genre-input",name:"currentGenreText",value:o,onChange:Et,onKeyDown:Z=>ri(Z,"genre"),placeholder:"Type custom genre...",list:"genre-suggestions",className:"flex-grow"}),g.jsx(Be,{type:"button",onClick:()=>ai("genre"),size:"sm",variant:"secondary","aria-label":"Add Genre",className:"px-3",children:g.jsx(Wd,{className:"w-4 h-4"})})]}),g.jsx("datalist",{id:"genre-suggestions",children:ab.map(Z=>g.jsx("option",{value:Z},Z))}),g.jsx(Ft,{selections:n.genre,onRemove:Z=>Ga("genre",Z)})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"vibe-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Vibe / Mood"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(_n,{ref:qa,id:"vibe-input",name:"currentVibeText",value:u,onChange:Et,onKeyDown:Z=>ri(Z,"vibe"),placeholder:"Type custom vibe...",list:"vibe-suggestions",className:"flex-grow"}),g.jsx(Be,{type:"button",onClick:()=>ai("vibe"),size:"sm",variant:"secondary","aria-label":"Add Vibe",className:"px-3",children:g.jsx(Wd,{className:"w-4 h-4"})})]}),g.jsx("datalist",{id:"vibe-suggestions",children:dk.map(Z=>g.jsx("option",{value:Z},Z))}),g.jsx(Ft,{selections:n.vibe,onRemove:Z=>Ga("vibe",Z)})]})]}),g.jsxs("div",{children:[g.jsx(_n,{label:"Preferred DAW",name:"daw",value:n.daw,onChange:Et,placeholder:"Type or select DAW...",list:"daw-suggestions"}),g.jsx("datalist",{id:"daw-suggestions",children:Sx.map(Z=>g.jsx("option",{value:Z},Z))}),g.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-1",children:Sx.slice(0,5).map(Z=>g.jsx("button",{type:"button",onClick:()=>Ya(Z),className:`px-3 py-1 text-xs rounded-full transition-all duration-150 ease-in-out shadow-sm hover:shadow-md ${n.daw===Z?"bg-orange-600 text-white ring-2 ring-orange-400 ring-offset-2 ring-offset-gray-800":"bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-gray-100"}`,children:Z},Z))})]}),g.jsx("div",{children:g.jsx(Nr,{label:"Available Plugins",name:"plugins",value:n.plugins,onChange:Et,placeholder:"e.g., Serum, Valhalla Reverbs, Arturia V Collection, or 'stock only'",rows:2})}),g.jsx("div",{children:g.jsx(Nr,{label:"Available Instruments",name:"availableInstruments",value:n.availableInstruments||"",onChange:Et,placeholder:"e.g., Electric Guitar, Moog Subsequent 37, Roland TR-808, Vocals",rows:2})}),g.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[g.jsx(Be,{type:"button",onClick:()=>G(!L),variant:"outline",className:"mb-4 w-8 h-8 p-0 flex items-center justify-center",title:L?"Hide Advanced Input":"Show Advanced Input",children:g.jsx("span",{className:`text-lg transition-transform ${L?"rotate-45":""}`,children:"+"})}),L&&g.jsxs("div",{className:"space-y-4 p-4 bg-gray-700/30 rounded-lg border border-gray-600/50",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx("div",{children:g.jsx(_n,{label:"Key",name:"key",value:n.key||"",onChange:Et,placeholder:"e.g., C Major"})}),g.jsx("div",{children:g.jsx(_n,{label:"Scale/Mode",name:"scale",value:n.scale||"",onChange:Et,placeholder:"e.g., Dorian, Mixolydian"})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx("div",{children:g.jsx(_n,{label:"Chords",name:"chords",value:n.chords||"",onChange:Et,placeholder:"e.g., Am - F - C - G"})}),g.jsx("div",{children:g.jsx(Nr,{label:"Lyrics",name:"lyrics",value:n.lyrics||"",onChange:Et,placeholder:"Paste your lyrics here if you have any...",rows:2})})]}),g.jsx("div",{children:g.jsx(Nr,{label:"General Notes for AI",name:"generalNotes",value:n.generalNotes||"",onChange:Et,placeholder:"Any specific instructions, style notes, or creative direction for the AI to consider...",rows:3})})]})]}),g.jsx(Be,{type:"submit",disabled:h,className:"w-full text-base py-2.5",leftIcon:g.jsx(su,{className:"w-5 h-5"}),children:h?T||"Generating...":"Generate TrackGuide"}),g.jsxs("div",{className:"flex space-x-2 mt-3",children:[g.jsx(Be,{type:"button",onClick:()=>ce(!0),variant:"secondary",className:"flex-1",leftIcon:g.jsx(Xd,{className:"w-4 h-4"}),children:"View Library"}),g.jsx(Be,{type:"button",onClick:ca,variant:"outline",className:"flex-1",children:"Clear Form"})]})]})]}),g.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[E&&!h&&g.jsxs(Ue,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"TrackGuide Error:"}),g.jsx("p",{className:"text-red-300",children:E})]}),I&&!T.toLowerCase().includes("midi")&&!E&&g.jsxs(Ue,{className:"border-yellow-500 bg-yellow-900/40 shadow-xl",children:[g.jsx("p",{className:"text-yellow-300 font-semibold text-lg",children:"MIDI Generation Note:"}),g.jsx("p",{className:"text-yellow-300",children:I})]}),(m||h&&T.includes("TrackGuide is generating"))&&!E&&g.jsxs(Ue,{title:fn,className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl",children:[$&&!h&&g.jsxs("div",{className:"flex flex-wrap gap-3 mb-5 pb-4 border-b border-gray-700 items-center",children:[g.jsx(Be,{onClick:me,variant:"secondary",leftIcon:g.jsx(Sk,{}),children:"Save to Library"}),g.jsx("div",{className:"flex-grow"}),g.jsx(Be,{onClick:ca,variant:"outline",size:"sm",className:"!border-gray-500 !text-gray-400 hover:!bg-gray-600 hover:!text-white",leftIcon:g.jsx(lb,{}),children:"Close"}),ue&&g.jsx("span",{className:`ml-3 text-sm ${ue.includes("Failed")||ue.includes("not supported")?"text-red-400":"text-green-400"}`,children:ue})]}),g.jsxs("div",{id:"guidebook-content-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:[$&&!h&&g.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-lg text-sm shadow-inner border border-gray-600/50 guidebook-section-break",children:[g.jsx("strong",{className:"text-orange-300 block mb-2 text-base",children:"TrackGuide Snapshot:"}),g.jsxs("p",{children:[g.jsx("strong",{children:"Project Title:"})," ",$.title]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Genre(s):"})," ",Array.isArray($.genre)?$.genre.join(", "):$.genre]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Artist/Song Ref:"})," ",$.artistReference||"N/A"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Vibe(s):"})," ",Array.isArray($.vibe)?$.vibe.join(", "):$.vibe]}),g.jsxs("p",{children:[g.jsx("strong",{children:"DAW:"})," ",$.daw]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Plugins:"})," ",$.plugins||"N/A"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Instruments:"})," ",$.availableInstruments||"N/A"]}),$.generatedMidiPatterns&&g.jsxs("p",{className:"mt-1 text-green-400",children:[g.jsx(sb,{className:"w-4 h-4 inline mr-1"})," Initial MIDI patterns generated."]})]}),g.jsx(hu,{content:m}),h&&T.includes("TrackGuide is generating")&&g.jsx(ta,{size:"sm",text:"Generating TrackGuide..."})]})]}),h&&!E&&T&&!T.includes("TrackGuide is generating")&&g.jsx("div",{className:"flex justify-center py-10",children:g.jsx(ta,{size:"lg",text:T||"Processing..."})}),$&&!h&&m&&!E&&g.jsx(db,{currentGuidebookEntry:$,mainAppInputs:n,onUpdateGuidebookEntryMidi:Te,parsedGuidebookBpm:F1($.content),parsedGuidebookKey:V1($.content),parsedGuidebookChordProg:j1($.content)}),!h&&!m&&!E&&!$&&g.jsxs(Ue,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx(su,{className:"w-20 h-20 opacity-80 text-orange-500"})}),g.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Produce Smarter. Create More."}),g.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Tell us what youre envisioningTrackGuide AI will generate a custom production guide and MIDI foundation."})]})]})]}),e==="mixFeedback"&&g.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-12 gap-8",children:[g.jsxs("div",{className:"md:col-span-3 space-y-6",children:[g.jsxs("div",{className:"flex bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 rounded-lg overflow-hidden",children:[g.jsx("button",{onClick:()=>ye("single"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${oe==="single"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:" Mix Analysis"}),g.jsx("button",{onClick:()=>ye("compare"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${oe==="compare"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:" Mix Compare"})]}),oe==="single"&&g.jsx(Ue,{title:"Upload Your Mix",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:g.jsxs("form",{onSubmit:Tn,className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"mix-audio-file",className:"block text-sm font-medium text-gray-300 mb-1",children:"Audio File (.mp3, .wav, etc.)"}),g.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${ae&&D.audioFile===null?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var Z;return(Z=un.current)==null?void 0:Z.click()},onDragOver:Z=>{Z.preventDefault(),Z.currentTarget.classList.add("border-orange-500")},onDragLeave:Z=>Z.currentTarget.classList.remove("border-orange-500"),onDrop:Z=>{if(Z.preventDefault(),Z.currentTarget.classList.remove("border-orange-500"),Z.dataTransfer.files&&Z.dataTransfer.files[0]){const ge=Z.dataTransfer.files[0];if(ge.size>lu){z(`File is too large. Max ${ea}MB.`);return}if(!ge.type.startsWith("audio/")){z("Invalid file type. Please upload audio.");return}R(ve=>({...ve,audioFile:ge})),z(null)}},children:g.jsxs("div",{className:"space-y-1 text-center",children:[g.jsx(rd,{className:"mx-auto h-12 w-12 text-gray-500"}),g.jsxs("div",{className:"flex text-sm text-gray-400",children:[g.jsx("span",{className:"relative rounded-md font-medium text-orange-400 hover:text-orange-300 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-offset-gray-900 focus-within:ring-orange-500",children:g.jsx("span",{children:"Upload a file"})}),g.jsx("input",{id:"mix-audio-file",name:"mix-audio-file",type:"file",className:"sr-only",accept:"audio/*",onChange:Fn,ref:un}),g.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:["Max file size: ",ea,"MB"]})]})}),D.audioFile&&g.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",D.audioFile.name," (",(D.audioFile.size/1024/1024).toFixed(2)," MB)"]}),ae&&D.audioFile===null&&g.jsx("p",{className:"text-xs text-red-400 mt-2",children:ae})]}),g.jsx("div",{children:g.jsx(Nr,{label:"Notes for AI",name:"mixUserNotes",value:D.userNotes,onChange:Vt,placeholder:"e.g., 'Focus on the low-end clarity', 'Is the vocal too loud?', 'General feedback welcome.'",rows:4})}),g.jsx(Be,{type:"submit",disabled:U||!D.audioFile,className:"w-full text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:g.jsx(od,{className:"w-5 h-5"}),children:U?"Analyzing Mix...":"Get Mix Feedback"}),g.jsx(Be,{type:"button",onClick:Kt,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Clear Mix Form"})]})}),oe==="compare"&&g.jsxs("div",{className:"space-y-5",children:[g.jsxs(Ue,{title:"Mix A (Original)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${rt&&!de.mixA?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var Z;return(Z=document.getElementById("mixA-upload"))==null?void 0:Z.click()},children:g.jsxs("div",{className:"space-y-1 text-center",children:[g.jsx(rd,{className:"mx-auto h-12 w-12 text-gray-400"}),g.jsxs("div",{className:"flex text-sm text-gray-400",children:[g.jsxs("label",{htmlFor:"mixA-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[g.jsx("span",{children:"Upload Mix A"}),g.jsx("input",{id:"mixA-upload",name:"mixA-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:Z=>{var ve;const ge=(ve=Z.target.files)==null?void 0:ve[0];if(ge){if(ge.size>lu){Dt(`File is too large. Max ${ea}MB.`);return}if(!ge.type.startsWith("audio/")){Dt("Invalid file type. Please upload audio.");return}Ee(je=>({...je,mixA:ge})),Dt(null)}}})]}),g.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",ea,"MB"]})]})}),de.mixA&&g.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",de.mixA.name," (",(de.mixA.size/1024/1024).toFixed(2)," MB)"]})]}),g.jsxs(Ue,{title:"Mix B (Revised)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${rt&&!de.mixB?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var Z;return(Z=document.getElementById("mixB-upload"))==null?void 0:Z.click()},children:g.jsxs("div",{className:"space-y-1 text-center",children:[g.jsx(rd,{className:"mx-auto h-12 w-12 text-gray-400"}),g.jsxs("div",{className:"flex text-sm text-gray-400",children:[g.jsxs("label",{htmlFor:"mixB-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[g.jsx("span",{children:"Upload Mix B"}),g.jsx("input",{id:"mixB-upload",name:"mixB-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:Z=>{var ve;const ge=(ve=Z.target.files)==null?void 0:ve[0];if(ge){if(ge.size>lu){Dt(`File is too large. Max ${ea}MB.`);return}if(!ge.type.startsWith("audio/")){Dt("Invalid file type. Please upload audio.");return}Ee(je=>({...je,mixB:ge})),Dt(null)}}})]}),g.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",ea,"MB"]})]})}),de.mixB&&g.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",de.mixB.name," (",(de.mixB.size/1024/1024).toFixed(2)," MB)"]})]}),g.jsx(Ue,{title:"Notes for AI",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:g.jsx(Nr,{placeholder:"Describe what you want the AI to focus on when comparing these mixes. For example: 'Focus on the vocal clarity and low-end balance' or 'Compare the stereo width and overall loudness'...",value:de.userNotes,onChange:Z=>Ee(ge=>({...ge,userNotes:Z.target.value})),rows:3,className:"w-full"})}),g.jsx(Be,{onClick:Jt,disabled:qe||!de.mixA||!de.mixB,variant:"primary",className:"w-full px-4 py-3 text-base font-semibold",leftIcon:g.jsx("span",{className:"w-5 h-5 text-center",children:""}),children:qe?"Comparing Mixes...":"Compare Mixes"}),g.jsx(Be,{type:"button",onClick:cn,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Reset"}),rt&&!qe&&g.jsxs(Ue,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),g.jsx("p",{className:"text-red-300",children:rt})]})]})]}),g.jsxs("div",{className:"md:col-span-9 space-y-6",children:[(U||qe)&&g.jsx("div",{className:"flex justify-center items-center h-full min-h-[500px]",children:g.jsx(ta,{size:"lg",color:"text-orange-500",text:oe==="single"?"AI is analyzing your mix... this may take a moment.":"AI is comparing your mixes... this may take a moment."})}),ae&&!U&&oe==="single"&&g.jsxs(Ue,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Feedback Error:"}),g.jsx("p",{className:"text-red-300",children:ae})]}),rt&&!qe&&oe==="compare"&&g.jsxs(Ue,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),g.jsx("p",{className:"text-red-300",children:rt})]}),C&&!U&&oe==="single"&&g.jsx(Ue,{title:"AI Mix Feedback Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:g.jsx("div",{id:"mix-feedback-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:g.jsx(hu,{content:C})})}),Ie&&!qe&&oe==="compare"&&g.jsxs(Ue,{title:"AI Mix Comparison Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:[g.jsx("div",{id:"mix-comparison-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:g.jsx(hu,{content:Ie})}),g.jsx("div",{className:"p-4 border-t border-gray-700 flex justify-center",children:g.jsx(Be,{onClick:async()=>{if(de.mixB){M(!0),j(null),z(null),R({audioFile:de.mixB,userNotes:de.userNotes});try{const Z=await Ax({audioFile:de.mixB,userNotes:de.userNotes});j(Z)}catch(Z){console.error("Full Mix B Feedback Error:",Z),z(Z.message||"Failed to generate feedback for Mix B.")}finally{M(!1)}}},disabled:U,className:"w-full mt-4 text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:g.jsx(od,{className:"w-5 h-5"}),children:U?"Analyzing Mix B...":"Get Full Feedback for Mix B"})})]}),!U&&!qe&&!C&&!Ie&&!ae&&!rt&&g.jsxs(Ue,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx(su,{className:"w-20 h-20 opacity-80"})}),g.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Refine Your Sound."}),g.jsx("p",{className:"text-gray-400 max-w-md",children:oe==="single"?"Upload your mix, add some notes, and get detailed feedback from our AI mixing engineer.":"Upload two mix versions to compare them side-by-side and get detailed analysis of the differences."})]})]})]}),e==="remixGuide"&&g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsx(A5,{})}),e==="eqGuide"&&g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsx(M5,{})}),e==="patchGuide"&&g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsx(IF,{})}),q&&g.jsx(Qk,{library:V,onClose:()=>ce(!1),onLoadEntry:Ce,onDeleteEntry:Ye,onCreateNew:ca}),g.jsx("footer",{className:"text-center mt-16 py-8 border-t border-gray-700/60",children:g.jsxs("p",{className:"text-sm text-gray-500",children:[bx," - AI Production Assistant"]})})]})},QS=document.getElementById("root");if(!QS)throw new Error("Could not find root element to mount to");const OF=gE.createRoot(QS);OF.render(g.jsx(Nm.StrictMode,{children:g.jsx(PF,{})}));
